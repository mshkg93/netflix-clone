/*! For license information please see main.794c84c4.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,xt,_t,It,St=!1,Et=[],Tt=null,Ct=null,At=null,Nt=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(jt),Pt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Et.length){Vt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&wt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Gt=null;function Ht(e,t,n,r){if(Gt=null,null!==(e=vi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function _n(){return xn}var In=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(In),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var On=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Rn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Yn=Jn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,be(e)),Pe(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},br={},xr={};function _r(e){if(br[e])return br[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=_r("animationend"),Sr=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Nr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Sr,"onAnimationIteration"),Nr(Er,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ir:case Sr:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=Xt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,Vn=!0)),0<(y=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&jn(e,t)?(e=Xt(),Jt=Yt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Re(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],wi=-1;function bi(e){return{current:e}}function xi(e){0>wi||(e.current=ki[wi],ki[wi]=null,wi--)}function _i(e,t){wi++,ki[wi]=e.current,e.current=t}var Ii={},Si=bi(Ii),Ei=bi(!1),Ti=Ii;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){xi(Ei),xi(Si)}function Pi(e,t,n){if(Si.current!==Ii)throw Error(a(168));_i(Si,t),_i(Ei,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ti=Si.current,_i(Si,e),_i(Ei,Ei.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Si),_i(Si,e)):xi(Ei),_i(Ei,n)}var Li=null,Mi=!1,Fi=!1;function ji(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var Vi=w.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=bi(null),qi=null,Wi=null,Ki=null;function Gi(){Ki=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ss|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ti:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ti:Si.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,wa=null,ba=1,xa="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Ia(e,t,n){ga[ka++]=ba,ga[ka++]=xa,ga[ka++]=wa,wa=e;var r=ba;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ba=1<<32-ot(t)+i|n<<i|r,xa=a+e}else ba=1<<a|n<<i|r,xa=e}function Sa(e){null!==e.return&&(_a(e,1),Ia(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===wa;)wa=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,ba=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Aa=!1,Na=null;function Pa(e,t){var n=wc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wa?{id:ba,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Aa){var t=Ca;if(t){var n=t;if(!Ra(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Ra(e,t)?Pa(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ta=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Pa(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Aa=!1}function ja(e){null===Na?Na=[e]:Na.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Aa&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&_a(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Aa&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Aa&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Ic(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ga=bi(Ka),Ha=bi(Ka),$a=bi(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(_i($a,t),_i(Ha,e),_i(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),_i(Ga,t)}function Ja(){xi(Ga),xi(Ha),xi($a)}function Xa(e){Qa($a.current);var t=Qa(Ga.current),n=se(t,e.type);t!==n&&(_i(Ha,e),_i(Ga,n))}function Za(e){Ha.current===e&&(xi(Ga),xi(Ha))}var eo=bi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=w.ReactCurrentDispatcher,ao=w.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function wo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function bo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Ss|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Ss|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function So(e,t){var n=uo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Po(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return wo().memoizedState}function Do(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=wo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}uo.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function jo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return wo().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:zo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(ba&~(1<<32-ot(ba)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:xo,useRef:Ro,useState:function(){return xo(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(bo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(bo)[0],wo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:_o,useRef:Ro,useState:function(){return _o(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(bo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(bo)[0],wo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,Ds=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Ni(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(Ei),xi(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&(Qs(Na),Na=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Na&&(Qs(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&Vr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ps&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Je()-o.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&bs)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ga.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=w.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Aa&&n&&Sa(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function wu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,bu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function bu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Iu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,bs),bs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,bs),bs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,bs),bs|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ai(n)?Ti:Si.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Aa&&r&&Sa(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Su(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ai(n)?Ti:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ei.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ai(n)?Ti:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ei.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Uu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Pu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Sc(o,i,0,null),e=Ic(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Au,e):Ru(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(u=Ic(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Aa=!0,Na=null,null!==n&&(ga[ka++]=ba,ga[ka++]=xa,ga[ka++]=wa,ba=n.id,xa=n.overflow,wa=t),(t=Ru(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}function Ru(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Ic(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&ja(r),qa(t,e.child,null,n),(e=Ru(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){switch(Ea(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(Ei),xi(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=w.ReactCurrentDispatcher,vs=w.ReactCurrentOwner,ms=w.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,ws=0,bs=0,xs=bi(0),_s=0,Is=null,Ss=0,Es=0,Ts=0,Cs=null,As=null,Ns=0,Ps=1/0,Rs=!1,Ds=null,Os=null,Ls=!1,Ms=null,Fs=0,js=0,Us=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ys)?Je():-1!==Vs?Vs:Vs=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ws?ws&-ws:null!==Vi.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<js)throw js=0,Us=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Es|=t),4===_s&&Ys(r,ws)),Gs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ps=Je()+500,Mi&&Ui())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?ws:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,ji(e)}(Js.bind(null,e)):ji(Js.bind(null,e)),ri((function(){0===ys&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(Vs=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?ws:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ws===t||(Ps=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,ws=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Is,tc(e,0),Ys(e,r),Gs(e,Je()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Is,tc(e,0),Ys(e,r),Gs(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Ns+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Gs(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&Qs(t)),e}function Qs(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Is,tc(e,0),Ys(e,t),Gs(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Gs(e,Je()),null}function Xs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ps=Je()+500,Mi&&Ui())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Ui()}}function ec(){bs=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ja(),xi(Ei),xi(Si),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),ws=bs=t,_s=0,Is=null,Ts=Es=Ss=0,As=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Gi(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Is=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ws,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),ja(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Os||!Os.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(w){t=w,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Ss)&&0===(268435455&Es)||Ys(gs,ws)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ws===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,ws=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Qe();)sc(ks)}function sc(e){var t=hs(e.alternate,e,bs);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,bs)))return void(ks=n)}else{if(null!==(n=Vu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,ws=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var b=w.body;null!=b&&(b.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(I){dc(i,t,I)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ns=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var w=n.child;null!==w;){for(n=Wu=w;null!==Wu;){var b=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(I){dc(r,_,I)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==b?(b.return=r,Wu=b):ls(n)}w=w.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(I){dc(t,t.return,I)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Rs)throw Rs=!1,e=Ds,Ds=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?js++:(js=0,Us=e):js=0,Ui()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var w=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Wu=w;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,Wu=b;break e}Wu=s.return}}if(ys=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ws&n)===n&&(4===_s||3===_s&&(130023424&ws)===ws&&500>Je()-Ns?tc(e,0):Ts|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Gs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wc(e,t,n,r){return new kc(e,t,n,r)}function bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)bc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Ic(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=wc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=wc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=wc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=wc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=wc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=wc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=wc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=wc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Nc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function Rc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Pc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Gs(e,r),e}function Dc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Pc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Oc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pu(e,t,n):(_i(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Aa&&0!==(1048576&t.flags)&&Ia(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Si.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Sa(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=wu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Aa=!0,Na=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Pu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),wu(e,t,r,i=zi(r.type,i),n);case 15:return bu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Qi(t,n),fa(t,r,i),da(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Oc(o);u.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Oc(o);a.call(e)}}var o=Rc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Oc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zs((function(){Dc(t,s,n,r)})),s}(n,t,e,i,r);return Oc(o)}Uc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Gs(t,Je()),0===(6&ys)&&(Ps=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},bt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},_t=function(){return gt},It=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ae=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ee,Te,Xs]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Gc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Nc(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Rc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,_=function(){R.postMessage(null)}}else _=function(){y(N,0)};function D(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return vu},SDK_VERSION:function(){return ds},_DEFAULT_ENTRY_NAME:function(){return es},_addComponent:function(){return is},_addOrOverwriteComponent:function(){return as},_apps:function(){return ns},_clearComponents:function(){return cs},_components:function(){return rs},_getProvider:function(){return us},_registerComponent:function(){return os},_removeServiceInstance:function(){return ss},deleteApp:function(){return ys},getApp:function(){return vs},getApps:function(){return ms},initializeApp:function(){return ps},onLog:function(){return ws},registerVersion:function(){return ks},setLogLevel:function(){return bs}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var w=(0,r.createContext)(null);var b=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,E=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:D(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:O(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},O=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){F()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=V(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):R([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function F(){return null!=(0,r.useContext)(w)}function j(){return F()||x(!1),(0,r.useContext)(w).location}function U(){F()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(b).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function V(e){var t=(0,r.useContext)(b).matches,n=j().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){var t=e.to,n=e.replace,i=e.state;F()||x(!1);var a=U();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function q(e){x(!1)}function W(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&x(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,b=v.search,_=void 0===b?"":b,I=v.hash,S=void 0===I?"":I,E=v.state,T=void 0===E?null:E,C=v.key,A=void 0===C?"default":C,N=(0,r.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:_,hash:S,state:T,key:A}}),[d,y,_,S,T,A]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:N,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){F()||x(!1);var n,i=(0,r.useContext)(b).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,e.pathnameBase])})})),i)}(G(t),n)}function G(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==q&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=G(e.props.children)),t.push(n)}else t.push.apply(t,G(e.props.children))})),t}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else E(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],w=v(),b=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function S(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=a();c=t[0],k=t[1],w.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(S(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}E(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(S(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),E(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(h,p),function(){t(),b.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],w=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(w)}),[u]),(0,r.createElement)(W,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var J=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=$(e,Q),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=U(),s=j(),c=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",H({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ne=n(441),re=n(613),ie=n.n(re);var ae=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,I=0,S=0,E=0,R=0,O=v=d=0,M=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",K="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,z++),0===_+S+I+x){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<z;++O)switch(s.charCodeAt(O)){case 47:if(42===p&&42===s.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,h+1)).length,0<D&&(w=u(3,v,F=n(P,B,j),r,C,T,U,p,h,c),B=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=O=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===O&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(w=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=O=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<D*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===S+_+x+A&&0<O)switch(M-O){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===R&&(A=R)}break;case 58:0===S+_+x&&(O=M);break;case 44:0===_+I+S+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*R===533);else d=1;I++}break;case 64:0===_+I+S+x+O+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}R=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<D&&(void 0!==(w=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=w).length))return K+q+W;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return K+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<D;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?N=1:(N=2,O=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<D&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,P=[],R=[],D=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=R.length=0;break;default:if("function"===typeof t)R[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},oe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ue=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},se=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ce=ue((function(e){return se.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),le=n(110),fe=n.n(le);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var de=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},pe=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,ne.typeOf)(e)},ve=Object.freeze([]),me=Object.freeze({});function ye(e){return"function"==typeof e}function ge(e){return e.displayName||e.name||"Component"}function ke(e){return e&&"string"==typeof e.styledComponentId}var we="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.SC_ATTR)||"data-styled",be="undefined"!=typeof window&&"HTMLElement"in window,xe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"}.SC_DISABLE_SPEEDY)),_e={};function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Se=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ie(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Ee=new Map,Te=new Map,Ce=1,Ae=function(e){if(Ee.has(e))return Ee.get(e);for(;Te.has(Ce);)Ce++;var t=Ce++;return Ee.set(e,t),Te.set(t,e),t},Ne=function(e){return Te.get(e)},Pe=function(e,t){t>=Ce&&(Ce=t+1),Ee.set(e,t),Te.set(t,e)},Re="style["+we+'][data-styled-version="5.3.5"]',De=new RegExp("^"+we+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Oe=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Le=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(De);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Pe(c,s),Oe(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Me=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Fe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(we))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(we,"active"),r.setAttribute("data-styled-version","5.3.5");var o=Me();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},je=function(){function e(e){var t=this.element=Fe(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ie(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ue=function(){function e(e){var t=this.element=Fe(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ve=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ze=be,Be={isServer:!be,useCSSOMInjection:!xe},qe=function(){function e(e,t,n){void 0===e&&(e=me),void 0===t&&(t={}),this.options=he({},Be,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&be&&ze&&(ze=!1,function(e){for(var t=document.querySelectorAll(Re),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(we)&&(Le(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ae(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(he({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ve(i):r?new je(i):new Ue(i),new Se(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ae(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ae(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ae(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Ne(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=we+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),We=/(a)(d)/gi,Ke=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ge(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ke(t%52)+n;return(Ke(t%52)+n).replace(We,"$1-$2")}var He=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$e=function(e){return He(5381,e)};function Qe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ye(n)&&!ke(n))return!1}return!0}var Ye=$e("5.3.5"),Je=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Qe(e),this.componentId=t,this.baseHash=He(Ye,t),this.baseStyle=n,qe.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=vt(this.rules,e,t,n).join(""),o=Ge(He(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=He(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=vt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=He(c,p+f),l+=p}}if(l){var v=Ge(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Xe=/^\s*\/\/.*$/gm,Ze=[":","[",".","#"];function et(e){var t,n,r,i,a=void 0===e?me:e,o=a.options,u=void 0===o?me:o,s=a.plugins,c=void 0===s?ve:s,l=new ae(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Ze.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Xe,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ie(15),He(e,t.name)}),5381).toString():"",p}var tt=r.createContext(),nt=(tt.Consumer,r.createContext()),rt=(nt.Consumer,new qe),it=et();function at(){return(0,r.useContext)(tt)||rt}function ot(){return(0,r.useContext)(nt)||it}function ut(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=at(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return et({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){ie()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(tt.Provider,{value:o},r.createElement(nt.Provider,{value:u},e.children))}var st=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=it);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ie(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=it),this.name+e.hash},e}(),ct=/([A-Z])/,lt=/([A-Z])/g,ft=/^ms-/,ht=function(e){return"-"+e.toLowerCase()};function dt(e){return ct.test(e)?e.replace(lt,ht).replace(ft,"-ms-"):e}var pt=function(e){return null==e||!1===e||""===e};function vt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=vt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return pt(e)?"":ke(e)?"."+e.styledComponentId:ye(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:vt(e(t),t,n,r):e instanceof st?n?(e.inject(n,r),e.getName(r)):e:pe(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!pt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||ye(t[o])?a.push(dt(o)+":",t[o],";"):pe(t[o])?a.push.apply(a,e(t[o],o)):a.push(dt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in oe?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var mt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ye(e)||pe(e)?mt(vt(de(ve,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:mt(vt(de(e,n)))}new Set;var gt=function(e,t,n){return void 0===n&&(n=me),e.theme!==n.theme&&e.theme||t||n.theme},kt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wt=/(^-|-$)/g;function bt(e){return e.replace(kt,"-").replace(wt,"")}var xt=function(e){return Ge($e(e)>>>0)};function _t(e){return"string"==typeof e&&!0}var It=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},St=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Et(e,t,n){var r=e[n];It(t)&&It(r)?Tt(r,t):e[n]=t}function Tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(It(o))for(var u in o)St(u)&&Et(e,o[u],u)}return e}var Ct=r.createContext();Ct.Consumer;var At={};function Nt(e,t,n){var i=ke(e),a=!_t(e),o=t.attrs,u=void 0===o?ve:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":bt(e);At[n]=(At[n]||0)+1;var r=n+"-"+xt("5.3.5"+n+At[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return _t(e)?"styled."+e:"Styled("+ge(e)+")"}(e):l,h=t.displayName&&t.componentId?bt(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Je(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=me);var r=he({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in ye(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(gt(t,(0,r.useContext)(Ct),u)||me,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=at(),a=ot();return t?e.generateAndInjectStyles(me,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=_t(y),k=p!==t?he({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,ce,y):!g||ce(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=he({},t.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,r.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ve,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(_t(e)?e:bt(ge(e)));return Nt(e,he({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Tt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&fe()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Pt=function(e){return function e(t,n,r){if(void 0===r&&(r=me),!(0,ne.isValidElementType)(n))return Ie(1,String(n));var i=function(){return t(n,r,yt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,he({},r,{},i))},i.attrs=function(i){return e(t,n,he({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Nt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Pt[e]=Pt(e)}));var Rt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Qe(e),qe.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(vt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&qe.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=yt.apply(void 0,[e].concat(n)),o="sc-global-"+xt(JSON.stringify(a)),u=new Rt(a,o);function s(e){var t=at(),n=ot(),i=(0,r.useContext)(Ct),a=(0,r.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,i,n),(0,r.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,i,n),function(){return u.removeStyles(a,t)}}),[a,e,t,i,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,_e,n,i);else{var a=he({},t,{theme:gt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return r.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Me();return"<style "+[n&&'nonce="'+n+'"',we+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ie(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Ie(2);var n=((t={})[we]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Me();return i&&(n.nonce=i),[r.createElement("style",he({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new qe({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Ie(2):r.createElement(ut,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Ie(3)}}();var Ot=Pt,Lt=Ot.div.withConfig({displayName:"jumbotron__Item",componentId:"sc-1al52go-0"})(["display:flex;border-bottom:8px solid #222;padding:50px 5%;color:white;overflow:hidden;"]),Mt=Ot.div.withConfig({displayName:"jumbotron__Inner",componentId:"sc-1al52go-1"})(["display:flex;align-items:center;flex-direction:",";justify-content:space-between;max-width:1100px;margin:auto;width:100%;@media (max-width:1000px){flex-direction:column;"],(function(e){return e.direction})),Ft=Ot.div.withConfig({displayName:"jumbotron__Pane",componentId:"sc-1al52go-2"})(["width:50%;"]),jt=Ot.h1.withConfig({displayName:"jumbotron__Title",componentId:"sc-1al52go-3"})(["font-size:50px;line-heigth:1.1;margin-vottom:8px;@media (max-width:1000px){width:100%;padding:0 45px;text-align:center;}"]),Ut=Ot.h2.withConfig({displayName:"jumbotron__SubTitle",componentId:"sc-1al52go-4"})(["font-size:26px;font-weight:normal;line-heigth:normal;@media (max-width:600px){font-size:18px)"]),Vt=Ot.img.withConfig({displayName:"jumbotron__Image",componentId:"sc-1al52go-5"})(["max-width:100%;height:auto;"]),zt=Ot.div.withConfig({displayName:"jumbotron__Container",componentId:"sc-1al52go-6"})(["@media (max-width:1000px){",":last-of-type h2{margin-bottom:50px;})"],Lt),Bt=n(184),qt=["children","direction"],Wt=["children"],Kt=["children"],Gt=["children"],Ht=["children"];function $t(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=te(e,qt);return(0,Bt.jsx)(Lt,ee(ee({},i),{},{children:(0,Bt.jsx)(Mt,{direction:r,children:t})}))}$t.Container=function(e){var t=e.children,n=te(e,Wt);return(0,Bt.jsx)(zt,ee(ee({},n),{},{children:t}))},$t.Pane=function(e){var t=e.children,n=te(e,Kt);return(0,Bt.jsx)(Ft,ee(ee({},n),{},{children:t}))},$t.Title=function(e){var t=e.children,n=te(e,Gt);return(0,Bt.jsx)(jt,ee(ee({},n),{},{children:t}))},$t.SubTitle=function(e){var t=e.children,n=te(e,Ht);return(0,Bt.jsx)(Ut,ee(ee({},n),{},{children:t}))},$t.Image=function(e){var t=Object.assign({},e);return(0,Bt.jsx)(Vt,ee({},t))};var Qt=Ot.footer.withConfig({displayName:"footer__Container",componentId:"sc-eh6b4z-0"})(["display:flex;padding:70px;margin:auto;max-width:1000px;flex-direction:column;@media (max-width:1000px){padding:70px 30px;}"]),Yt=Ot.div.withConfig({displayName:"footer__Column",componentId:"sc-eh6b4z-1"})(["display:flex;flex-direction:column;text-align:left;"]),Jt=Ot.div.withConfig({displayName:"footer__Row",componentId:"sc-eh6b4z-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));grid-gap:15px;@media (max-width:1000px){grid-template-columns:repeat(auto-fill,minmax(150px,1fr));}"]),Xt=Ot.a.withConfig({displayName:"footer__Link",componentId:"sc-eh6b4z-3"})(["color:#757575;margin-bottom:20px;font-size:13px;text-decoration:none;"]),Zt=Ot.p.withConfig({displayName:"footer__Title",componentId:"sc-eh6b4z-4"})(["font-size:16px;color:#757575;margin-bottom:40px;"]),en=Ot.p.withConfig({displayName:"footer__Text",componentId:"sc-eh6b4z-5"})(["font-size:13px;color:#757575;margin-bottom:40px;"]),tn=(Ot.br.withConfig({displayName:"footer__Break",componentId:"sc-eh6b4z-6"})(["flex-basis:100%;height:0;"]),["children"]),nn=["children"],rn=["children"],an=["children"],on=["children"],un=["children"],sn=["children"];function cn(e){var t=e.children,n=te(e,tn);return(0,Bt.jsx)(Qt,ee(ee({},n),{},{children:t}))}cn.Row=function(e){var t=e.children,n=te(e,nn);return(0,Bt.jsx)(Jt,ee(ee({},n),{},{children:t}))},cn.Column=function(e){var t=e.children,n=te(e,rn);return(0,Bt.jsx)(Yt,ee(ee({},n),{},{children:t}))},cn.Link=function(e){var t=e.children,n=te(e,an);return(0,Bt.jsx)(Xt,ee(ee({},n),{},{children:t}))},cn.Title=function(e){var t=e.children,n=te(e,on);return(0,Bt.jsx)(Zt,ee(ee({},n),{},{children:t}))},cn.Text=function(e){var t=e.children,n=te(e,un);return(0,Bt.jsx)(en,ee(ee({},n),{},{children:t}))},cn.Break=function(e){var t=e.children,n=te(e,sn);return(0,Bt.jsx)("br",ee(ee({},n),{},{children:t}))};var ln=Ot.div.withConfig({displayName:"accordion__Container",componentId:"sc-1wnyt6p-0"})(["display:flex;border-bottom:8px solid #222;"]),fn=Ot.div.withConfig({displayName:"accordion__Inner",componentId:"sc-1wnyt6p-1"})(["display:flex;padding:70px 45px;flex-direction:column;max-width:815px;margin:auto;"]),hn=Ot.div.withConfig({displayName:"accordion__Item",componentId:"sc-1wnyt6p-2"})(["color:white;margin:auto;margin-bottom:15px;max-width:720px;width:100%;&:first-of-type{margin-top:3em;}"]),dn=Ot.div.withConfig({displayName:"accordion__Header",componentId:"sc-1wnyt6p-3"})(["display:flex;justify-content:space-between;cursor:pointer;margin-bottom:1px;font-size:26px;font-weight:normal;background:#303030;padding:0.8em 1.2em 0.8em 1.2em;user-select:none;align-items:center;img{filter:brightness(0) invert(1);width:24px;user-select:none;@media (max-width:600px){width:16px;}}@media (max-width:600px){font-size:16px;}"]),pn=Ot.div.withConfig({displayName:"accordion__Body",componentId:"sc-1wnyt6p-4"})(["transition:max-height 2.25s cubic-bezier(0.5,0,0.1,1);font-size:26px;font-weight:normal;line-height:normal;background:#303030;padding:0.8em 2.2em 0.8em 1.2em;white-space:pre-wrap;user-select:none;@media (max-width:600px){font-size:17px;line-height:22px;}"]),vn=Ot.h1.withConfig({displayName:"accordion__Title",componentId:"sc-1wnyt6p-5"})(["font-size:50px;line-height:1.1;margin-top:0;margin-bottom:8px;color:white;text-align:center;@media (max-width:600px){font-size:35px;}"]),mn=["children"],yn=["children"],gn=["children"],kn=["children"],wn=["children"],bn=(0,r.createContext)();function xn(e){var t=e.children,n=te(e,mn);return(0,Bt.jsx)(ln,ee(ee({},n),{},{children:(0,Bt.jsx)(fn,{children:t})}))}xn.Title=function(e){var t=e.children,n=te(e,yn);return(0,Bt.jsx)(vn,ee(ee({},n),{},{children:t}))},xn.Item=function(e){var t=e.children,n=te(e,gn),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Bt.jsx)(bn.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,Bt.jsx)(hn,ee(ee({},n),{},{children:t}))})},xn.Header=function(e){var t=e.children,n=te(e,kn),i=(0,r.useContext)(bn),a=i.toggleShow,o=i.setToggleShow;return(0,Bt.jsxs)(dn,ee(ee({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,Bt.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,Bt.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},xn.Body=function(e){var t=e.children,n=te(e,wn);return(0,r.useContext)(bn).toggleShow?(0,Bt.jsx)(pn,ee(ee({},n),{},{children:t})):null};var _n=Ot.p.withConfig({displayName:"card__Title",componentId:"sc-1tn30zk-0"})(["font-size:24px;color:#e5e5e5;font-weight:bold;margin-left:56px;margin-right:56px;margin-top:0;"]),In=Ot.div.withConfig({displayName:"card__Container",componentId:"sc-1tn30zk-1"})(["display:flex;flex-direction:column;margin-bottom:50px;> ","{@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-bottom:0;}"],_n),Sn=Ot.div.withConfig({displayName:"card__Group",componentId:"sc-1tn30zk-2"})(["display:flex;flex-direction:",";",";",";> ",":first-of-type{@media (min-width:1100px){margin-top:-100px;}}"],(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),In),En=Ot.p.withConfig({displayName:"card__SubTitle",componentId:"sc-1tn30zk-3"})(["font-size:12px;color:#fff;font-weight:bold;margin-top:0;margin-bottom:0;user-select:none;display:none;"]),Tn=Ot.p.withConfig({displayName:"card__Text",componentId:"sc-1tn30zk-4"})(["margin-top:5px;font-size:10px;color:#fff;margin-bottom:0;user-select:none;display:none;line-height:normal;"]),Cn=Ot.div.withConfig({displayName:"card__Entities",componentId:"sc-1tn30zk-5"})(["display:flex;flex-direction:row;"]),An=Ot.div.withConfig({displayName:"card__Meta",componentId:"sc-1tn30zk-6"})(["display:none;position:absolute;bottom:0;padding:10px;background-color:#0000008f;"]),Nn=Ot.img.withConfig({displayName:"card__Image",componentId:"sc-1tn30zk-7"})(["border:0;width:100%;max-width:305px;cursor:pointer;height:auto;padding:0;margin:0;"]),Pn=Ot.div.withConfig({displayName:"card__Item",componentId:"sc-1tn30zk-8"})(["display:flex;flex-direction:column;margin-right:5px;position:relative;cursor:pointer;transition:transform 0.2s;&:hover{transform:scale(1.3);z-index:99;}@media (min-width:1200px){&:hover ",",&:hover ",",&:hover ","{display:block;z-index:100;}}&:first-of-type{margin-left:56px;@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-right:56px;@media (max-width:1000px){margin-right:30px;}}"],An,Tn,En),Rn=Ot.p.withConfig({displayName:"card__FeatureText",componentId:"sc-1tn30zk-9"})(["font-size:18px;color:white;font-weight:",";margin:0;@media (max-width:600px){line-height:22px;}"],(function(e){return"bold"===e.fontWeight?"bold":"normal"})),Dn=Ot.div.withConfig({displayName:"card__Feature",componentId:"sc-1tn30zk-10"})(["display:flex;flex-direction:row;background:url(",");background-size:contain;position:relative;height:360px;background-position-x:right;background-repeat:no-repeat;background-color:black;@media (max-width:1000px){height:auto;background-size:auto;","{font-size:20px;line-height:20px;margin-bottom:10px;}","{font-size:14px;}}"],(function(e){return e.src}),_n,Rn),On=Ot(_n).withConfig({displayName:"card__FeatureTitle",componentId:"sc-1tn30zk-11"})(["margin-left:0;"]),Ln=Ot.button.withConfig({displayName:"card__FeatureClose",componentId:"sc-1tn30zk-12"})(["color:white;position:absolute;right:20px;top:20px;cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:24px;}"]),Mn=Ot.div.withConfig({displayName:"card__Content",componentId:"sc-1tn30zk-13"})(["margin:56px;max-width:500px;line-height:normal;@media (max-width:1000px){margin:30px;max-width:none;}"]),Fn=Ot.div.withConfig({displayName:"card__Maturity",componentId:"sc-1tn30zk-14"})(["background-color:",";border-radius:15px;width:28px;line-height:28px;text-align:center;color:white;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.2);margin-right:10px;font-size:12px;"],(function(e){return e.rating>=15?"#f44336":"#2f9600"})),jn=["children"],Un=["children"],Vn=["children"],zn=["children"],Bn=["children"],qn=["children"],Wn=["children"],Kn=["item","children"],Gn=["category","children"],Hn=(0,r.createContext)(null);function $n(e){var t=e.children,n=te(e,jn),i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)({}),2),s=u[0],l=u[1];return(0,Bt.jsx)(Hn.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:s,setItemFeature:l},children:(0,Bt.jsx)(In,ee(ee({},n),{},{children:t}))})}$n.Group=function(e){var t=e.children,n=te(e,Un);return(0,Bt.jsx)(Sn,ee(ee({},n),{},{children:t}))},$n.Title=function(e){var t=e.children,n=te(e,Vn);return(0,Bt.jsx)(_n,ee(ee({},n),{},{children:t}))},$n.SubTitle=function(e){var t=e.children,n=te(e,zn);return(0,Bt.jsx)(En,ee(ee({},n),{},{children:t}))},$n.Text=function(e){var t=e.children,n=te(e,Bn);return(0,Bt.jsx)(Tn,ee(ee({},n),{},{children:t}))},$n.Entities=function(e){var t=e.children,n=te(e,qn);return(0,Bt.jsx)(Cn,ee(ee({},n),{},{children:t}))},$n.Meta=function(e){var t=e.children,n=te(e,Wn);return(0,Bt.jsx)(An,ee(ee({},n),{},{children:t}))},$n.Item=function(e){var t=e.item,n=e.children,i=te(e,Kn),a=(0,r.useContext)(Hn),o=a.setShowFeature,u=a.setItemFeature;return(0,Bt.jsx)(Pn,ee(ee({onClick:function(){u(t),o(!0)}},i),{},{children:n}))},$n.Image=function(e){var t=Object.assign({},e);return(0,Bt.jsx)(Nn,ee({},t))},$n.Feature=function(e){var t=e.category,n=e.children,i=te(e,Gn),a=(0,r.useContext)(Hn),o=a.showFeature,u=a.itemFeature,s=a.setShowFeature;return o?(0,Bt.jsx)(Dn,ee(ee({},i),{},{src:"/images/".concat(t,"/").concat(u.genre,"/").concat(u.slug,"/large.jpg"),children:(0,Bt.jsxs)(Mn,{children:[(0,Bt.jsx)(On,{children:u.title}),(0,Bt.jsx)(Rn,{children:u.description}),(0,Bt.jsx)(Ln,{onClick:function(){return s(!1)},children:(0,Bt.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,Bt.jsxs)(Sn,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,Bt.jsx)(Fn,{rating:u.maturity,children:u.maturity<12?"PG":u.maturity}),(0,Bt.jsx)(Rn,{fontWeight:"bold",children:u.genre.charAt(0).toUpperCase()+u.genre.slice(1)})]}),n]})})):null};var Qn,Yn,Jn,Xn,Zn,er,tr,nr,rr,ir,ar,or,ur,sr,cr,lr,fr=Ot.div.withConfig({displayName:"opt-form__Container",componentId:"sc-wdq7id-0"})(["display:flex;justify-content:center;height:100%;margin-top:20px;flex-wrap:wrap;@media (max-width:1000px){flex-direction:column;align-items:center;}"]),hr=Ot.input.withConfig({displayName:"opt-form__Input",componentId:"sc-wdq7id-1"})(["max-width:400px;width:100%;border 0;padding:10px;height:70px;box-sizing:border-box;"]),dr=Ot.button.withConfig({displayName:"opt-form__Button",componentId:"sc-wdq7id-2"})(["display:flex;align-items:center;height:70px;background:#e50914;color:white;text-transform:uppercase;padding:0 32px;font-size:26px;border:0;cursor:pointer;&:hover{background:#f40612;}@media (max-width:1000px){height:50px;font-size:16px;margin-top:20px;font-weight:bold;}img{margin-left:10px;filter:brightness(0) invert(1);width:24px;@media (max-width:1000px){width:16px;}}"]),pr=Ot.p.withConfig({displayName:"opt-form__Text",componentId:"sc-wdq7id-3"})(["font-size:19.2px;color:white;text-align:center;@media (max-width:600px){font-size:16px;line-height:22px;}"]),vr=Ot.div.withConfig({displayName:"opt-form__Break",componentId:"sc-wdq7id-4"})(["flex-basis:100%;height:0;"]),mr=["children"],yr=["children"],gr=["children"];function kr(e){var t=e.children,n=te(e,mr);return(0,Bt.jsx)(fr,ee(ee({},n),{},{children:t}))}function wr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}kr.Input=function(e){var t=Object.assign({},e);return(0,Bt.jsx)(hr,ee({},t))},kr.Button=function(e){var t=e.children,n=te(e,yr);return(0,Bt.jsxs)(dr,ee(ee({},n),{},{children:[t,(0,Bt.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},kr.Text=function(e){var t=e.children,n=te(e,gr);return(0,Bt.jsx)(pr,ee(ee({},n),{},{children:t}))},kr.Break=function(e){var t=Object.assign({},e);return(0,Bt.jsx)(vr,ee({},t))};var br=Ot.div(Qn||(Qn=wr(["\n  display: flex;\n  flex-direction: column;\n  background: url(",")\n    no-repeat;\n  background-size: cover;\n  @media (max-width: 1100px) {\n    ","\n  }\n"])),(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background: none;"})),xr=Ot.div(Yn||(Yn=wr(["\ndisplay: flex;\nmargin: 0 56px;\nheight: 64px;\npadding: 18px 0;\njustify-content: space-between;\nalign-items: center;\n\na {\n  display: flex;\n}\n\n  @media(max-width: 1000px){\n    margin: 0 30px\n  }\n}\n"]))),_r=Ot.img(Jn||(Jn=wr(["\n  height: 32px;\n  width: 108px;\n  margin-right: 40px;\n\n  @media (min-width: 1449px) {\n    height: 45px;\n    width: 167px;\n  }\n"]))),Ir=Ot(J)(Xn||(Xn=wr(["\ndisplay: block;\nbackground-color: #e50914;\nwidth: 84px;\nheight: fit-content;\ncolor: white;\nborder: 0;\nfont-size: 15px;\nborder-radius: 3px;\npadding: 8px 17px;\ncursor:pointer;\ntext-decoration: none;\nbox-sizing: border-box;\n\n&:hover {\n  background-color: #f40612"]))),Sr=Ot(xr)(Zn||(Zn=wr(["\n  padding: 150px 0 500px 0;\n  flex-direction: column;\n  align-items: normal;\n  width: 50%;\n\n  @media (max-width: 1100px) {\n    display: none;\n  }\n"]))),Er=Ot.h2(er||(er=wr(["\n  color: white;\n  font-size: 50px;\n  line-height: normal;\n  font-weight: bold;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.45);\n  margin: 0;\n  margin-bottom: 20px;\n"]))),Tr=Ot.p(tr||(tr=wr(["\n  color: white;\n  font-size: 22px;\n  line-height: normal;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.45);\n  margin: 0;\n"]))),Cr=Ot.div(nr||(nr=wr(["\n  display: flex;\n  align-items: center;\n"]))),Ar=Ot.p(rr||(rr=wr(["\n  color: white;\n  text-decoration: none;\n  margin-right: 30px;\n  font-weight: ",";\n  cursor: pointer;\n\n  &:hover {\n    font-weight: bold;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n"])),(function(e){return!0===e.active?"700":"normal"})),Nr=Ot.button(ir||(ir=wr(["\n  background: url(",");\n  background-size: contain;\n  border: 0;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n"])),(function(e){return e.src})),Pr=Ot.div(ar||(ar=wr(["\n  display: none;\n  background-color: black;\n  position: absolute;\n  padding: 10px;\n  width: 100px;\n  top: 32px;\n  right: 10px;\n\n  ",":last-of-type "," {\n    cursor: pointer;\n  }\n  "," {\n    margin-bottom: 10px;\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n    ",", "," {\n      cursor: default;\n    }\n  }\n  button {\n    margin-right: 10px;\n  }\n  p {\n    font-size: 12px;\n    margin-bottom: 0;\n    margin-top: 0;\n  }\n"])),Cr,Ar,Cr,Ar,Nr),Rr=Ot.div(or||(or=wr(["\n  display: flex;\n  align-items: center;\n\n  svg {\n    color: white;\n    cursor: pointer;\n  }\n\n  @media (max-width: 700px) {\n    display: none;\n  }\n"]))),Dr=Ot.button(ur||(ur=wr(["\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n\n  img {\n    filter: brightness(0) invert(1);\n    width: 16px;\n  }\n"]))),Or=Ot.input(sr||(sr=wr(["\n  background-color: #44444459;\n  color: white;\n  border: 1px solid white;\n  transition: width 0.5s;\n  height: 30px;\n  font-size: 14px;\n  margin-left: ",";\n  opacity: ",";\n  width: ",";\n"])),(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0"})),Lr=Ot.button(cr||(cr=wr(["\n  box-shadow: 0 0.6vw 1vw -0.4vw rgba(0, 0, 0, 0.35);\n  background-color: #e6e6e6;\n  color: #000;\n  font-weight: bold;\n  border-width: 0;\n  padding: 10px 20px;\n  border-radius: 5px;\n  max-width: 130px;\n  font-size: 20px;\n  margin-top: 30px;\n  cursor: pointer;\n  transition: background-color 1s ease;\n\n  &:hover {\n    background-color: #ff1e1e;\n    color: white;\n  }\n"]))),Mr=Ot.div(lr||(lr=wr(["\n  display: flex;\n  align-items: center;\n  margin-left: 20px;\n  position: relative;\n\n  button {\n    cursor: pointer;\n  }\n  &:hover > "," {\n    display: flex;\n    flex-direction: column;\n"])),Pr),Fr=["bg","children"],jr=["searchTerm","setSearchTerm"],Ur=["children"],Vr=["children"],zr=["children"],Br=["children"],qr=["children"],Wr=["children"],Kr=["src"],Gr=["children"],Hr=["children"],$r=["children"],Qr=["children"],Yr=["to"];function Jr(e){var t=e.bg,n=void 0===t||t,r=e.children,i=te(e,Fr);return n?(0,Bt.jsx)(br,ee(ee({},i),{},{children:r})):r}Jr.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,i=te(e,jr),a=c((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,Bt.jsxs)(Rr,ee(ee({},i),{},{children:[(0,Bt.jsx)(Dr,{onClick:function(){return u((function(e){return!e}))},children:(0,Bt.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,Bt.jsx)(Or,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},Jr.Feature=function(e){var t=e.children,n=te(e,Ur);return(0,Bt.jsx)(Sr,ee(ee({},n),{},{children:t}))},Jr.FeatureCallOut=function(e){var t=e.children,n=te(e,Vr);return(0,Bt.jsx)(Er,ee(ee({},n),{},{children:t}))},Jr.Text=function(e){var t=e.children,n=te(e,zr);return(0,Bt.jsx)(Tr,ee(ee({},n),{},{children:t}))},Jr.TextLink=function(e){var t=e.children,n=te(e,Br);return(0,Bt.jsx)(Ar,ee(ee({},n),{},{children:t}))},Jr.Profile=function(e){var t=e.children,n=te(e,qr);return(0,Bt.jsx)(Mr,ee(ee({},n),{},{children:t}))},Jr.Dropdown=function(e){var t=e.children,n=te(e,Wr);return(0,Bt.jsx)(Pr,ee(ee({},n),{},{children:t}))},Jr.Picture=function(e){var t=e.src,n=te(e,Kr);return(0,Bt.jsx)(Nr,ee(ee({},n),{},{src:"/images/users/".concat(t,".png")}))},Jr.Frame=function(e){var t=e.children,n=te(e,Gr);return(0,Bt.jsx)(xr,ee(ee({},n),{},{children:t}))},Jr.Group=function(e){var t=e.children,n=te(e,Hr);return(0,Bt.jsx)(Cr,ee(ee({},n),{},{children:t}))},Jr.ButtonLink=function(e){var t=e.children,n=te(e,$r);return(0,Bt.jsx)(Ir,ee(ee({},n),{},{children:t}))},Jr.PlayButton=function(e){var t=e.children,n=te(e,Qr);return(0,Bt.jsx)(Lr,ee(ee({},n),{},{children:t}))},Jr.Logo=function(e){var t=e.to,n=te(e,Yr);return(0,Bt.jsx)(J,{to:t,children:(0,Bt.jsx)(_r,ee({},n))})};var Xr,Zr,ei,ti,ni,ri,ii,ai,oi,ui=Ot.div.withConfig({displayName:"feature__Container",componentId:"sc-19zs3jp-0"})(["display:flex;flex-direction:column;border-bottom:8px solid #222;text-align:center;padding:165px 45px;"]),si=Ot.h1.withConfig({displayName:"feature__Title",componentId:"sc-19zs3jp-1"})(["color:white;max-width:640px;font-size:50px;font-weight:500;margin:auto;@media(max-width:600px){font-size:35px;})"]),ci=Ot.h2.withConfig({displayName:"feature__SubTitle",componentId:"sc-19zs3jp-2"})(["color:white;max-width:640px;font-size:26px;font-weight:normal;margin:16px auto;@media(max-width:600px){font-size:18px;})"]),li=["children"],fi=["children"],hi=["children"];function di(e){var t=e.children,n=te(e,li);return(0,Bt.jsx)(ui,ee(ee({},n),{},{children:t}))}di.Title=function(e){var t=e.children,n=te(e,fi);return(0,Bt.jsx)(si,ee(ee({},n),{},{children:t}))},di.SubTitle=function(e){var t=e.children,n=te(e,hi);return(0,Bt.jsx)(ci,ee(ee({},n),{},{children:t}))};var pi=Ot.div(Xr||(Xr=wr(["\n  display: flex;\n  flex-direction: column;\n  min-height: 660px;\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 5px;\n  box-sizing: border-box;\n  width: 100%;\n  margin: auto;\n  max-width: 450px;\n  padding: 60px 68px 40px;\n  margin-bottom: 100px;\n"]))),vi=Ot.div(Zr||(Zr=wr(["\n  background: #e87c03;\n  border-radius: 4px;\n  font-size: 14px;\n  margin: 0 0 16px;\n  color: white;\n  padding: 15px 20px;\n"]))),mi=Ot.form(ei||(ei=wr(["\n  display: flex;\n  flex-direction: column;\n  max-width: 450px;\n  width: 100%;\n"]))),yi=Ot.h1(ti||(ti=wr(["\n  color: #fff;\n  font-size: 32px;\n  font-weight: bold;\n  margin-bottom: 28px;\n"]))),gi=Ot.p(ni||(ni=wr(["\n  color: #737373;\n  font-size: 16px;\n  font-weight: 500;\n"]))),ki=Ot.p(ri||(ri=wr(["\n  margin-top: 10px;\n  font-size: 13px;\n  line-height: normal;\n  color: #8c8c8c;\n"]))),wi=Ot(J)(ii||(ii=wr(["\n  color: white;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),bi=Ot.input(ai||(ai=wr(["\n  background: #333;\n  border-radius: 4px;\n  border: 0;\n  color: white;\n  height: 50px;\n  line-height: 50px;\n  padding: 5px 20px;\n  margin-bottom: 20px;\n\n  &:last-of-type {\n    margin-bottom: 30px;\n  }\n"]))),xi=Ot.button(oi||(oi=wr(["\n  background: #e50914;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 24px 0 12px;\n  padding: 16px;\n  border: 0;\n  color: white;\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.5;\n  }\n"]))),_i=["children"],Ii=["children"],Si=["children"],Ei=["children"],Ti=["children"],Ci=["children"],Ai=["children"],Ni=["children"],Pi=["children"];function Ri(e){var t=e.children,n=te(e,_i);return(0,Bt.jsx)(pi,ee(ee({},n),{},{children:t}))}Ri.Base=function(e){var t=e.children,n=te(e,Ii);return(0,Bt.jsx)(mi,ee(ee({},n),{},{children:t}))},Ri.Error=function(e){var t=e.children,n=te(e,Si);return(0,Bt.jsx)(vi,ee(ee({},n),{},{children:t}))},Ri.Title=function(e){var t=e.children,n=te(e,Ei);return(0,Bt.jsx)(yi,ee(ee({},n),{},{children:t}))},Ri.Text=function(e){var t=e.children,n=te(e,Ti);return(0,Bt.jsx)(gi,ee(ee({},n),{},{children:t}))},Ri.TextSmall=function(e){var t=e.children,n=te(e,Ci);return(0,Bt.jsx)(ki,ee(ee({},n),{},{children:t}))},Ri.Link=function(e){var t=e.children,n=te(e,Ai);return(0,Bt.jsx)(wi,ee(ee({},n),{},{children:t}))},Ri.Input=function(e){var t=e.children,n=te(e,Ni);return(0,Bt.jsx)(bi,ee(ee({},n),{},{children:t}))},Ri.Submit=function(e){var t=e.children,n=te(e,Pi);return(0,Bt.jsx)(xi,ee(ee({},n),{},{children:t}))};var Di,Oi,Li,Mi,Fi=Ot.div.withConfig({displayName:"profiles__Container",componentId:"sc-dt3hl3-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto;max-width:80%;"]),ji=Ot.h1.withConfig({displayName:"profiles__Title",componentId:"sc-dt3hl3-1"})(["width:100%;color:white;font-size:48px;text-align:center;font-weight:500;"]),Ui=Ot.ul.withConfig({displayName:"profiles__List",componentId:"sc-dt3hl3-2"})(["padding:0;margin:0;display:flex;flex-direction:row;list-style:none;"]),Vi=Ot.p.withConfig({displayName:"profiles__Name",componentId:"sc-dt3hl3-3"})(["color:#808080;text-overflow:ellipsis;font-size:16px;&:hover{font-weight:bold;color:#e5e5e5;}"]),zi=Ot.img.withConfig({displayName:"profiles__Picture",componentId:"sc-dt3hl3-4"})(["width:100%;max-width:150px;height:auto;border:3px solid black;cursor:pointer;"]),Bi=Ot.li.withConfig({displayName:"profiles__Item",componentId:"sc-dt3hl3-5"})(["max-height:200px;max-width:200px;list-style-type:none;text-align:center;margin-right:30px;&:hover > ","{border:3px solid white;}&:hover > ","{font-weight:bold;color:white;}&:last-of-type{margin-right:0;}"],zi,Vi),qi=["children"],Wi=["children"],Ki=["children"],Gi=["children"],Hi=["src"],$i=["children"];function Qi(e){var t=e.children,n=te(e,qi);return(0,Bt.jsx)(Fi,ee(ee({},n),{},{children:t}))}Qi.Title=function(e){var t=e.children,n=te(e,Wi);return(0,Bt.jsx)(ji,ee(ee({},n),{},{children:t}))},Qi.List=function(e){var t=e.children,n=te(e,Ki);return(0,Bt.jsx)(Ui,ee(ee({},n),{},{children:t}))},Qi.User=function(e){var t=e.children,n=te(e,Gi);return(0,Bt.jsx)(Bi,ee(ee({},n),{},{children:t}))},Qi.Picture=function(e){var t=e.src,n=te(e,Hi);return(0,Bt.jsx)(zi,ee(ee({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},Qi.Name=function(e){var t=e.children,n=te(e,$i);return(0,Bt.jsx)(Vi,ee(ee({},n),{},{children:t}))};var Yi=Dt(Di||(Di=wr(["\nbody {\n  overflow: hidden;\n}"]))),Ji=Dt(Oi||(Oi=wr(["\nbody {\n  overflow: visible;\n}\n"]))),Xi=Ot.div(Li||(Li=wr(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  z-index: 999;\n\n  :after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    background-image: url(/images/misc/spinner.png);\n    background-size: contain;\n    background-repeat: no-repeat;\n    margin-top: -150px;\n    margin-left: -75px;\n    width: 150px;\n    height: 150px;\n    animation-name: spin;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n\n  @-ms-keyframes spin {\n    from {\n      -ms-transform: rotate(0deg);\n    }\n    to {\n      -ms-transform: rotate(360deg);\n    }\n  }\n\n  @-moz-keyframes spin {\n    from {\n      -moz-transform: rotate(0deg);\n    }\n    to {\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-webkit-keyframes spin {\n    from {\n      -webkit-transform: rotate(0deg);\n    }\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),Zi=Ot.img(Mi||(Mi=wr(["\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -100px;\n  margin-left: -22px;\n"]))),ea=["src"];function ta(e){var t=e.src,n=te(e,ea);return(0,Bt.jsxs)(Xi,ee(ee({},n),{},{children:[(0,Bt.jsx)(Yi,{}),(0,Bt.jsx)(Zi,{src:"/images/users/".concat(t,".png")})]}))}ta.ReleaseBody=function(){return(0,Bt.jsx)(Ji,{})};var na=Ot.div.withConfig({displayName:"player__Container",componentId:"sc-1aq7af5-0"})([""]),ra=Ot.div.withConfig({displayName:"player__Overlay",componentId:"sc-1aq7af5-1"})(["display:flex;flex-direction:column;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);margin:0 20px;"]),ia=Ot.div.withConfig({displayName:"player__Inner",componentId:"sc-1aq7af5-2"})(["position:relative;width:100%;max-width:900px;margin:auto;video{height:100%;width:100%;}"]),aa=Ot.button.withConfig({displayName:"player__Close",componentId:"sc-1aq7af5-3"})(["position:absolute;right:15px;top:15px;width:22px;height:22px;opacity:0.3;background-color:transparent;border:0;cursor:pointer;&:hover{opacity:1;}&:before,&:after{position:absolute;left:10px;top:0;content:' ';height:22px;width:2px;background-color:#333;}&:before{transform:rotate(45deg);}&:after{transform:rotate(-45deg);}"]),oa=Ot.button.withConfig({displayName:"player__Button",componentId:"sc-1aq7af5-4"})(["background-color:#e50914;border-color:#ff0a16;width:115px;height:45px;text-transform:uppercase;font-weight:bold;color:white;font-size:18px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding-left:0;&:hover{transform:scale(1.05);background-color:#ff0a16;}"]),ua=["children"],sa=["src"],ca=(0,r.createContext)();function la(e){var t=e.children,n=te(e,ua),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Bt.jsx)(ca.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,Bt.jsx)(na,ee(ee({},n),{},{children:t}))})}la.Video=function(e){var t=e.src,n=(te(e,sa),(0,r.useContext)(ca)),a=n.showPlayer,o=n.setShowPlayer;return a?i.createPortal((0,Bt.jsx)(ra,{onClick:function(){return o(!1)},"data-testid":"player",children:(0,Bt.jsxs)(ia,{children:[(0,Bt.jsx)("video",{id:"netflix-player",controls:!0,children:(0,Bt.jsx)("source",{src:t,type:"video/mp4"})}),(0,Bt.jsx)(aa,{})]})}),document.body):null},la.Button=function(e){var t=Object.assign({},e),n=(0,r.useContext)(ca),i=(n.showPlayer,n.setShowPlayer);return(0,Bt.jsx)(oa,ee(ee({onClick:function(){return i((function(e){return!e}))}},t),{},{children:"Play"}))};var fa="/",ha="/browse",da="/signin";var pa=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg";function va(e){var t=e.children;return(0,Bt.jsxs)(Jr,{children:[(0,Bt.jsxs)(Jr.Frame,{children:[(0,Bt.jsx)(Jr.Logo,{to:fa,alt:"Netflix",src:pa}),(0,Bt.jsx)(Jr.ButtonLink,{to:da,children:"Sign In"})]}),t]})}var ma=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function ya(){return(0,Bt.jsx)($t.Container,{children:ma.map((function(e){return(0,Bt.jsxs)($t,{direction:e.direction,children:[(0,Bt.jsxs)($t.Pane,{children:[(0,Bt.jsx)($t.Title,{children:e.title}),(0,Bt.jsx)($t.SubTitle,{children:e.subTitle})]}),(0,Bt.jsx)($t.Pane,{children:(0,Bt.jsx)($t.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}var ga=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function ka(){return(0,Bt.jsxs)(xn,{children:[(0,Bt.jsx)(xn.Title,{children:"Frequently Asked Questions"}),ga.map((function(e){return(0,Bt.jsxs)(xn.Item,{children:[(0,Bt.jsx)(xn.Header,{children:e.header}),(0,Bt.jsx)(xn.Body,{children:e.body})]},e.id)})),(0,Bt.jsxs)(kr,{children:[(0,Bt.jsx)(kr.Input,{placeholder:"Email address"}),(0,Bt.jsx)(kr.Button,{children:"Try it now"}),(0,Bt.jsx)(kr.Break,{}),(0,Bt.jsx)(kr.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}function wa(){return(0,Bt.jsxs)(cn,{children:[(0,Bt.jsx)(cn.Title,{children:"Questions? Contact us."}),(0,Bt.jsx)(cn.Break,{}),(0,Bt.jsxs)(cn.Row,{children:[(0,Bt.jsxs)(cn.Column,{children:[(0,Bt.jsx)(cn.Link,{href:"#",children:"FAQ"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Investor Relations"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Ways to Watch"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Corporate Information"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Netflix Originals"})]}),(0,Bt.jsxs)(cn.Column,{children:[(0,Bt.jsx)(cn.Link,{href:"#",children:"Help Center"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Jobs"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Terms of Use"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Contact Us"})]}),(0,Bt.jsxs)(cn.Column,{children:[(0,Bt.jsx)(cn.Link,{href:"#",children:"Account"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Redeem Gift Cards"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Privacy"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Speed Test"})]}),(0,Bt.jsxs)(cn.Column,{children:[(0,Bt.jsx)(cn.Link,{href:"#",children:"Media Center"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Buy Gift Cards"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Cookie Preferences"}),(0,Bt.jsx)(cn.Link,{href:"#",children:"Legal Notices"})]})]}),(0,Bt.jsx)(cn.Break,{}),(0,Bt.jsx)(cn.Text,{children:"Netflix Poland"})]})}function ba(){return(0,Bt.jsxs)(r.Fragment,{children:[(0,Bt.jsx)(va,{children:(0,Bt.jsxs)(di,{children:[(0,Bt.jsx)(di.Title,{children:"Unlimited films, TV programmes and more."}),(0,Bt.jsx)(di.SubTitle,{children:"Watch anywhere. Cancel at any time."}),(0,Bt.jsxs)(kr,{children:[(0,Bt.jsx)(kr.Input,{placeholder:"Email address"}),(0,Bt.jsx)(kr.Button,{children:"Try it now"}),(0,Bt.jsx)(kr.Break,{}),(0,Bt.jsx)(kr.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}),(0,Bt.jsx)(ya,{}),(0,Bt.jsx)(ka,{}),(0,Bt.jsx)(wa,{})]})}var xa=(0,r.createContext)(null);function _a(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=(0,r.useContext)(xa).firebase;return(0,r.useEffect)((function(){a.firestore().collection(e).get().then((function(e){var t=e.docs.map((function(e){return ee(ee({},e.data()),{},{docId:e.id})}));i(t)})).catch((function(e){return console.log(e.message)}))}),[]),X({},e,n)}function Ia(e,t){return Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ia(e,t)}function Sa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ia(e,t)}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ea(e)}function Ta(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e,t){if(t&&("object"===Ca(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function Pa(e){var t=Ta();return function(){var n,r=Ea(e);if(t){var i=Ea(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Na(this,n)}}function Ra(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Da(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ra(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t&&La(e.prototype,t),n&&La(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fa(e){return Array.isArray?Array.isArray(e):"[object Array]"===Wa(e)}function ja(e){return"string"===typeof e}function Ua(e){return"number"===typeof e}function Va(e){return!0===e||!1===e||function(e){return za(e)&&null!==e}(e)&&"[object Boolean]"==Wa(e)}function za(e){return"object"===typeof e}function Ba(e){return void 0!==e&&null!==e}function qa(e){return!e.trim().length}function Wa(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Ka=function(e){return"Invalid value for key ".concat(e)},Ga=function(e){return"Pattern length exceeds max of ".concat(e,".")},Ha=Object.prototype.hasOwnProperty,$a=function(){function e(t){var n=this;Oa(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=Qa(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return Ma(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Qa(e){var t=null,n=null,r=null,i=1;if(ja(e)||Fa(e))r=e,t=Ya(e),n=Ja(e);else{if(!Ha.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var a=e.name;if(r=a,Ha.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=Ya(a),n=Ja(a)}return{path:t,id:n,weight:i,src:r}}function Ya(e){return Fa(e)?e:e.split(".")}function Ja(e){return Fa(e)?e.join("."):e}var Xa={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(Ba(t))if(i[a]){var o=t[i[a]];if(!Ba(o))return;if(a===i.length-1&&(ja(o)||Ua(o)||Va(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(Fa(o)){r=!0;for(var u=0,s=o.length;u<s;u+=1)e(o[u],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,ja(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Za=ee(ee(ee(ee({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Xa),eo=/[^ ]+/g;function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(eo).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var no=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Za.getFn:n,i=t.fieldNormWeight,a=void 0===i?Za.fieldNormWeight:i;Oa(this,e),this.norm=to(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return Ma(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,ja(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();ja(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(Ba(e)&&!qa(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=n.getFn(e,t.path);if(Ba(a))if(Fa(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),u=o.nestedArrIndex,s=o.value;if(Ba(s))if(ja(s)&&!qa(s)){var c={v:s,i:u,n:n.norm.get(s)};e.push(c)}else Fa(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if(!qa(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function ro(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?Za.getFn:r,a=n.fieldNormWeight,o=void 0===a?Za.fieldNormWeight:a,u=new no({getFn:i,fieldNormWeight:o});return u.setKeys(e.map(Qa)),u.setSources(t),u.create(),u}function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,u=void 0===o?0:o,s=t.distance,c=void 0===s?Za.distance:s,l=t.ignoreLocation,f=void 0===l?Za.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(u-a);return c?h+d/c:d?1:h}function ao(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Za.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var u=e[a];u&&-1===r?r=a:u||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var oo=32;function uo(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var so=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?Za.location:i,o=r.threshold,u=void 0===o?Za.threshold:o,s=r.distance,c=void 0===s?Za.distance:s,l=r.includeMatches,f=void 0===l?Za.includeMatches:l,h=r.findAllMatches,d=void 0===h?Za.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?Za.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?Za.isCaseSensitive:m,g=r.ignoreLocation,k=void 0===g?Za.ignoreLocation:g;if(Oa(this,e),this.options={location:a,threshold:u,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:k},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:uo(e),startIndex:t})},b=this.pattern.length;if(b>oo){for(var x=0,_=b%oo,I=b-_;x<I;)w(this.pattern.substr(x,oo),x),x+=oo;if(_){var S=b-oo;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return Ma(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,u=a.distance,s=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?Za.location:i,o=r.distance,u=void 0===o?Za.distance:o,s=r.threshold,c=void 0===s?Za.threshold:s,l=r.findAllMatches,f=void 0===l?Za.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?Za.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?Za.includeMatches:p,m=r.ignoreLocation,y=void 0===m?Za.ignoreLocation:m;if(t.length>oo)throw new Error(Ga(oo));for(var g,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,I=d>1||v,S=I?Array(w):[];(g=e.indexOf(t,_))>-1;){var E=io(t,{currentLocation:g,expectedLocation:b,distance:u,ignoreLocation:y});if(x=Math.min(E,x),_=g+k,I)for(var T=0;T<k;)S[g+T]=1,T+=1}_=-1;for(var C=[],A=1,N=k+w,P=1<<k-1,R=0;R<k;R+=1){for(var D=0,O=N;D<O;){io(t,{errors:R,currentLocation:b+O,expectedLocation:b,distance:u,ignoreLocation:y})<=x?D=O:N=O,O=Math.floor((N-D)/2+D)}N=O;var L=Math.max(1,b-O+1),M=f?w:Math.min(b+O,w)+k,F=Array(M+2);F[M+1]=(1<<R)-1;for(var j=M;j>=L;j-=1){var U=j-1,V=n[e.charAt(U)];if(I&&(S[U]=+!!V),F[j]=(F[j+1]<<1|1)&V,R&&(F[j]|=(C[j+1]|C[j])<<1|1|C[j+1]),F[j]&P&&(A=io(t,{errors:R,currentLocation:U,expectedLocation:b,distance:u,ignoreLocation:y}))<=x){if(x=A,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(io(t,{errors:R+1,currentLocation:b,expectedLocation:b,distance:u,ignoreLocation:y})>x)break;C=F}var z={isMatch:_>=0,score:Math.max(.001,A)};if(I){var B=ao(S,d);B.length?v&&(z.indices=B):z.isMatch=!1}return z}(e,n,i,{location:o+a,distance:u,threshold:s,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),d+=y,m&&g&&(h=[].concat(Da(h),Da(g)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),co=function(){function e(t){Oa(this,e),this.pattern=t}return Ma(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return lo(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return lo(e,this.singleRegex)}}]),e}();function lo(e,t){var n=e.match(t);return n?n[1]:null}var fo=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(co),ho=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(co),po=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(co),vo=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(co),mo=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(co),yo=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(co),go=function(e){Sa(n,e);var t=Pa(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?Za.location:a,u=i.threshold,s=void 0===u?Za.threshold:u,c=i.distance,l=void 0===c?Za.distance:c,f=i.includeMatches,h=void 0===f?Za.includeMatches:f,d=i.findAllMatches,p=void 0===d?Za.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?Za.minMatchCharLength:v,y=i.isCaseSensitive,g=void 0===y?Za.isCaseSensitive:y,k=i.ignoreLocation,w=void 0===k?Za.ignoreLocation:k;return Oa(this,n),(r=t.call(this,e))._bitapSearch=new so(e,{location:o,threshold:s,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return Ma(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(co),ko=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),t.call(this,e)}return Ma(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(co),wo=[fo,ko,po,vo,yo,mo,ho,go],bo=wo.length,xo=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function _o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(xo).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],u=!1,s=-1;!u&&++s<bo;){var c=wo[s],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),u=!0)}if(!u)for(s=-1;++s<bo;){var f=wo[s],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var Io=new Set([go.type,ko.type]),So=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?Za.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?Za.includeMatches:a,u=n.minMatchCharLength,s=void 0===u?Za.minMatchCharLength:u,c=n.ignoreLocation,l=void 0===c?Za.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?Za.findAllMatches:f,d=n.location,p=void 0===d?Za.location:d,v=n.threshold,m=void 0===v?Za.threshold:v,y=n.distance,g=void 0===y?Za.distance:y;Oa(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:s,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:g},this.pattern=i?t:t.toLowerCase(),this.query=_o(this.pattern,this.options)}return Ma(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,u=0,s=t.length;u<s;u+=1){var c=t[u];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var y=h.constructor.type;Io.has(y)?a=[].concat(Da(a),Da(v)):a.push(v)}}if(i){var g={isMatch:!0,score:o/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Eo=[];function To(e,t){for(var n=0,r=Eo.length;n<r;n+=1){var i=Eo[n];if(i.condition(e,t))return new i(e,t)}return new so(e,t)}var Co="$and",Ao="$or",No="$path",Po="$val",Ro=function(e){return!(!e[Co]&&!e[Ao])},Do=function(e){return!!e[No]},Oo=function(e){return!Fa(e)&&za(e)&&!Ro(e)},Lo=function(e){return X({},Co,Object.keys(e).map((function(t){return X({},t,e[t])})))};function Mo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=Do(n);if(!a&&r.length>1&&!Ro(n))return e(Lo(n));if(Oo(n)){var o=a?n[No]:r[0],u=a?n[Po]:n[o];if(!ja(u))throw new Error(Ka(o));var s={keyId:Ja(o),pattern:u};return i&&(s.searcher=To(u,t)),s}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];Fa(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return Ro(e)||(e=Lo(e)),a(e)}function Fo(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Za.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function jo(e,t){var n=e.matches;t.matches=[],Ba(n)&&n.forEach((function(e){if(Ba(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function Uo(e,t){t.score=e.score}function Vo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?Za.includeMatches:r,a=n.includeScore,o=void 0===a?Za.includeScore:a,u=[];return i&&u.push(jo),o&&u.push(Uo),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return u.length&&u.forEach((function(t){t(e,r)})),r}))}var zo,Bo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Oa(this,e),this.options=ee(ee({},Za),n),this.options.useExtendedSearch,this._keyStore=new $a(this.options.keys),this.setCollection(t,r)}return Ma(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof no))throw new Error("Incorrect 'index' type");this._myIndex=t||ro(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){Ba(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,u=i.shouldSort,s=i.sortFn,c=i.ignoreFieldNorm,l=ja(e)?ja(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Fo(l,{ignoreFieldNorm:c}),u&&l.sort(s),Ua(r)&&r>-1&&(l=l.slice(0,r)),Vo(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=To(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(Ba(n)){var o=t.searchIn(n),u=o.isMatch,s=o.score,c=o.indices;u&&r.push({item:n,idx:i,matches:[{score:s,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=Mo(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,u=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return u&&u.length?[{idx:i,item:r,matches:u}]:[]}for(var s=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)s.push.apply(s,Da(f));else if(n.operator===Co)return[]}return s},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(Ba(t)){var u=r(n,t,i);u.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),u.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,Da(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=To(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(Ba(r)){var u=[];i.forEach((function(e,i){u.push.apply(u,Da(t._findMatches({key:e,value:r[i],searcher:n})))})),u.length&&o.push({idx:a,item:r,matches:u})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!Ba(n))return[];var i=[];if(Fa(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(Ba(n)){var u=r.searchIn(n),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,u=r.searchIn(a),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();function qo(e){var t=e.user,n=e.setProfile;return(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(Jr,{bg:!1,children:(0,Bt.jsx)(Jr.Frame,{children:(0,Bt.jsx)(Jr.Logo,{to:fa,src:pa,alt:"Netflix"})})}),(0,Bt.jsxs)(Qi,{children:[(0,Bt.jsx)(Qi.Title,{children:"Who's watching?"}),(0,Bt.jsx)(Qi.List,{children:(0,Bt.jsxs)(Qi.User,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},children:[(0,Bt.jsx)(Qi.Picture,{src:t.photoURL,alt:"User"}),(0,Bt.jsx)(Qi.Name,{children:t.displayName})]})})]})]})}function Wo(e){var t=e.slides,n=c((0,r.useState)("series"),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)({}),2),f=l[0],h=l[1],d=c((0,r.useState)(!0),2),p=d[0],v=d[1],m=c((0,r.useState)([]),2),y=m[0],g=m[1],k=(0,r.useContext)(xa).firebase,w=k.auth().currentUser||{};return(0,r.useEffect)((function(){var e=setTimeout((function(){v(!1)}),3e3);return function(){return clearTimeout(e)}}),[f.displayName]),(0,r.useEffect)((function(){g(t[i])}),[t,i]),(0,r.useEffect)((function(){var e=new Bo(y,{keys:["data.description","data.title","data.genre"]}).search(u).map((function(e){return e.item}));y.length>0&&u.length>3&&e.length>0?g(e):g(t[i])}),[u]),f.displayName?(0,Bt.jsxs)(Bt.Fragment,{children:[p?(0,Bt.jsx)(ta,{src:w.photoURL}):(0,Bt.jsx)(ta.ReleaseBody,{}),(0,Bt.jsxs)(Jr,{src:"joker1",children:[(0,Bt.jsxs)(Jr.Frame,{children:[(0,Bt.jsxs)(Jr.Group,{children:[(0,Bt.jsx)(Jr.Logo,{to:ha,src:pa,alt:"Netflix"}),(0,Bt.jsx)(Jr.TextLink,{active:"series"===i?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,Bt.jsx)(Jr.TextLink,{active:"films"===i?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,Bt.jsxs)(Jr.Group,{children:[(0,Bt.jsx)(Jr.Search,{searchTerm:u,setSearchTerm:s}),(0,Bt.jsxs)(Jr.Profile,{children:[(0,Bt.jsx)(Jr.Picture,{src:w.photoURL}),(0,Bt.jsxs)(Jr.Dropdown,{children:[(0,Bt.jsxs)(Jr.Group,{children:[(0,Bt.jsx)(Jr.Picture,{src:w.photoURL}),(0,Bt.jsx)(Jr.TextLink,{children:w.displayName})]}),(0,Bt.jsx)(Jr.Group,{children:(0,Bt.jsx)(Jr.TextLink,{onClick:function(){return k.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,Bt.jsxs)(Jr.Feature,{children:[(0,Bt.jsx)(Jr.FeatureCallOut,{children:"Watch Joker Now"}),(0,Bt.jsx)(Jr.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,Bt.jsx)(Jr.PlayButton,{children:"Play"})]})]}),(0,Bt.jsx)($n.Group,{children:y.map((function(e){return(0,Bt.jsxs)($n,{children:[(0,Bt.jsx)($n.Title,{children:e.title}),(0,Bt.jsx)($n.Entities,{children:e.data.map((function(e){return(0,Bt.jsxs)($n.Item,{item:e,children:[(0,Bt.jsx)($n.Image,{src:"/images/".concat(i,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,Bt.jsxs)($n.Meta,{children:[(0,Bt.jsx)($n.SubTitle,{children:e.title}),(0,Bt.jsx)($n.Text,{children:e.description})]})]},e.docId)}))}),(0,Bt.jsx)($n.Feature,{category:i,children:(0,Bt.jsxs)(la,{children:[(0,Bt.jsx)(la.Button,{}),(0,Bt.jsx)(la.Video,{src:"/videos/bunny.mp4"})]})})]},"".concat(i,"-").concat(e.title.toLowerCase()))}))}),(0,Bt.jsx)(wa,{})]}):(0,Bt.jsx)(qo,{user:w,setProfile:h})}function Ko(){var e=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:n.filter((function(e){return"romance"===e.genre}))}]}}({series:_a("series").series,films:_a("films").films});return(0,Bt.jsx)(Wo,{slides:e})}function Go(){var e=U(),t=(0,r.useContext)(xa).firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=""===i||""===u||""===f;return(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(va,{children:(0,Bt.jsxs)(Ri,{children:[(0,Bt.jsx)(Ri.Title,{children:"Sign up"}),p&&(0,Bt.jsx)(Ri.Error,{children:p}),(0,Bt.jsxs)(Ri.Base,{onSubmit:function(n){return n.preventDefault(),t.auth().createUserWithEmailAndPassword(u,f).then((function(t){t.user.updateProfile({displayName:i,photoURL:Math.floor(5*Math.random())+1}).then((function(){return e.push(ha)}))})).catch((function(e){a(""),s(""),h(""),v(e.message)}))},method:"POST",children:[(0,Bt.jsx)(Ri.Input,{placeholder:"First Name",value:i,onChange:function(e){var t=e.target;a(t.value)}}),(0,Bt.jsx)(Ri.Input,{placeholder:"Email Address",value:u,onChange:function(e){var t=e.target;s(t.value)}}),(0,Bt.jsx)(Ri.Input,{placeholder:"Password",value:f,onChange:function(e){var t=e.target;h(t.value)},type:"password",autocomplete:"off"}),(0,Bt.jsx)(Ri.Submit,{disabled:m,type:"submit",children:"Sign Up"}),(0,Bt.jsxs)(Ri.Text,{children:["Already a user?",(0,Bt.jsx)(Ri.Link,{to:"/signin",children:" Sign in now."})]}),(0,Bt.jsx)(Ri.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})]})}),(0,Bt.jsx)(wa,{})]})}function Ho(){var e=U(),t=(0,r.useContext)(xa).firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=""===u||""===i;return(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(va,{children:(0,Bt.jsxs)(Ri,{children:[(0,Bt.jsx)(Ri.Title,{children:"Sign In"}),f&&(0,Bt.jsx)(Ri.Error,{"data-testid":"error",children:f}),(0,Bt.jsxs)(Ri.Base,{onSubmit:function(n){return n.preventDefault(),t.auth().signInWithEmailAndPassword(i,u).then((function(){e.push(ha)})).catch((function(e){a(""),s(""),h(e.message)}))},method:"POST",children:[(0,Bt.jsx)(Ri.Input,{placeholder:"Email address",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,Bt.jsx)(Ri.Input,{type:"password",value:u,autoComplete:"off",placeholder:"Password",onChange:function(e){var t=e.target;return s(t.value)}}),(0,Bt.jsx)(Ri.Submit,{disabled:d,type:"submit","data-testid":"sign-in",children:"Sign In"})]}),(0,Bt.jsxs)(Ri.Text,{children:["New to Netflix?"," ",(0,Bt.jsx)(Ri.Link,{to:"/signup",children:"Sign up now."})]}),(0,Bt.jsx)(Ri.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,Bt.jsx)(wa,{})]})}function $o(){var e=function(){var e=c((0,r.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],i=(0,r.useContext)(xa).firebase;return(0,r.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}}(),t=e.user;return(0,Bt.jsx)(Y,{children:(0,Bt.jsxs)(K,{children:[(0,Bt.jsx)(q,{user:t,path:da,element:t?(0,Bt.jsx)(B,{to:ha}):(0,Bt.jsx)(Ho,{})}),(0,Bt.jsx)(q,{user:t,path:"/signup",element:t?(0,Bt.jsx)(B,{to:ha}):(0,Bt.jsx)(Go,{})}),(0,Bt.jsx)(q,{exact:!0,path:ha,element:t?(0,Bt.jsx)(Ko,{}):(0,Bt.jsx)(B,{to:da})}),(0,Bt.jsx)(q,{exact:!0,path:fa,element:(0,Bt.jsx)(ba,{})}),(0,Bt.jsx)(q,{path:"*",element:(0,Bt.jsx)(B,{to:fa})})]})})}Bo.version="6.5.3",Bo.createIndex=ro,Bo.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Za.getFn:n,i=t.fieldNormWeight,a=void 0===i?Za.fieldNormWeight:i,o=e.keys,u=e.records,s=new no({getFn:r,fieldNormWeight:a});return s.setKeys(o),s.setIndexRecords(u),s},Bo.config=Za,Bo.parseQuery=Mo,function(){Eo.push.apply(Eo,arguments)}(So);var Qo=Dt(zo||(zo=wr(["\nhtml,body{\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: black;\n  color: #333;\n  font-size:16px;\n}\n"])));function Yo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Jo(e,t,n){return Jo=Ta()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ia(i,n.prototype),i},Jo.apply(null,arguments)}function Xo(e){var t="function"===typeof Map?new Map:void 0;return Xo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Jo(e,arguments,Ea(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ia(n,e)},Xo(e)}var Zo=n(757),eu=n.n(Zo),tu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},nu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ru=function(e){return function(e){var t=tu(e);return nu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},iu=function(e){try{return nu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function au(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=au(e[n],t[n]));return e}var ou=function(){function e(){var t=this;Oa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ma(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function uu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ru(JSON.stringify({alg:"none",type:"JWT"})),ru(JSON.stringify(a)),""].join(".")}function su(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function cu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(su())}function lu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function fu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function hu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function du(){var e=su();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pu(){return"object"===typeof indexedDB}var vu=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Aa(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Aa(a),mu.prototype.create),a}return Ma(n)}(Xo(Error)),mu=function(){function e(t,n,r){Oa(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ma(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?yu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new vu(n,a,t);return o}}]),e}();function yu(e,t){return e.replace(gu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var gu=/\{\$([^}]+)}/g;function ku(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(bu(u)&&bu(s)){if(!wu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function bu(e){return null!==e&&"object"===typeof e}function xu(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _u(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Iu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Su(e,t){var n=new Eu(e,t);return n.subscribe.bind(n)}var Eu=function(){function e(t,n){var r=this;Oa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ma(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Yo(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Tu),void 0===r.error&&(r.error=Tu),void 0===r.complete&&(r.complete=Tu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Tu(){}function Cu(e){return e&&e._delegate?e._delegate:e}function Au(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Nu=function(){function e(t){Oa(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Ma(e,[{key:"transaction",value:function(e,t){return new Pu(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ru(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Pu=function(){function e(t){var n=this;Oa(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Ma(e,[{key:"objectStore",value:function(e){return new Ru(this._transaction.objectStore(e))}}]),e}(),Ru=function(){function e(t){Oa(this,e),this._store=t}return Ma(e,[{key:"index",value:function(e){return new Du(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Du(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Au(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Au(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Au(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Au(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Du=function(){function e(t){Oa(this,e),this._index=t}return Ma(e,[{key:"get",value:function(e){return Au(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Ou(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Lu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ou(a,r,i,o,u,"next",e)}function u(e){Ou(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Mu=function(){function e(t,n,r){Oa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ma(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Fu="[DEFAULT]",ju=function(){function e(t,n){Oa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ma(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ou;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fu})}catch(s){}var t,n=Yo(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Lu(Zo.mark((function e(){var t;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Da(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Da(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Yo(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(kA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(kA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.component?this.component.multipleInstances?e:Fu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Uu,Vu,zu=function(){function e(t){Oa(this,e),this.name=t,this.providers=new Map}return Ma(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ju(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vu||(Vu={}));var qu,Wu,Ku={debug:Vu.DEBUG,verbose:Vu.VERBOSE,info:Vu.INFO,warn:Vu.WARN,error:Vu.ERROR,silent:Vu.SILENT},Gu=Vu.INFO,Hu=(X(Uu={},Vu.DEBUG,"log"),X(Uu,Vu.VERBOSE,"log"),X(Uu,Vu.INFO,"info"),X(Uu,Vu.WARN,"warn"),X(Uu,Vu.ERROR,"error"),Uu),$u=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Hu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qu=function(){function e(t){Oa(this,e),this.name=t,this._logLevel=Gu,this._logHandler=$u,this._userLogHandler=null,Bu.push(this)}return Ma(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Vu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ku[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Vu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Vu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vu.INFO].concat(t)),this._logHandler.apply(this,[this,Vu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vu.WARN].concat(t)),this._logHandler.apply(this,[this,Vu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vu.ERROR].concat(t)),this._logHandler.apply(this,[this,Vu.ERROR].concat(t))}}]),e}();var Yu=function(){function e(t){Oa(this,e),this.container=t}return Ma(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ju="@firebase/app",Xu="0.7.20",Zu=new Qu("@firebase/app"),es="[DEFAULT]",ts=(X(qu={},Ju,"fire-core"),X(qu,"@firebase/app-compat","fire-core-compat"),X(qu,"@firebase/analytics","fire-analytics"),X(qu,"@firebase/analytics-compat","fire-analytics-compat"),X(qu,"@firebase/app-check","fire-app-check"),X(qu,"@firebase/app-check-compat","fire-app-check-compat"),X(qu,"@firebase/auth","fire-auth"),X(qu,"@firebase/auth-compat","fire-auth-compat"),X(qu,"@firebase/database","fire-rtdb"),X(qu,"@firebase/database-compat","fire-rtdb-compat"),X(qu,"@firebase/functions","fire-fn"),X(qu,"@firebase/functions-compat","fire-fn-compat"),X(qu,"@firebase/installations","fire-iid"),X(qu,"@firebase/installations-compat","fire-iid-compat"),X(qu,"@firebase/messaging","fire-fcm"),X(qu,"@firebase/messaging-compat","fire-fcm-compat"),X(qu,"@firebase/performance","fire-perf"),X(qu,"@firebase/performance-compat","fire-perf-compat"),X(qu,"@firebase/remote-config","fire-rc"),X(qu,"@firebase/remote-config-compat","fire-rc-compat"),X(qu,"@firebase/storage","fire-gcs"),X(qu,"@firebase/storage-compat","fire-gcs-compat"),X(qu,"@firebase/firestore","fire-fst"),X(qu,"@firebase/firestore-compat","fire-fst-compat"),X(qu,"fire-js","fire-js"),X(qu,"firebase","fire-js-all"),qu),ns=new Map,rs=new Map;function is(e,t){try{e.container.addComponent(t)}catch(n){Zu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function as(e,t){e.container.addOrOverwriteComponent(t)}function os(e){var t=e.name;if(rs.has(t))return Zu.debug("There were multiple attempts to register component ".concat(t,".")),!1;rs.set(t,e);var n,r=Yo(ns.values());try{for(r.s();!(n=r.n()).done;){is(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function us(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:es;us(e,t).clearInstance(n)}function cs(){rs.clear()}var ls=(X(Wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),X(Wu,"bad-app-name","Illegal App name: '{$appName}"),X(Wu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),X(Wu,"app-deleted","Firebase App named '{$appName}' already deleted"),X(Wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),X(Wu,"invalid-log-argument","First argument to `onLog` must be null or a function."),X(Wu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),X(Wu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),X(Wu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),X(Wu,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Wu),fs=new mu("app","Firebase",ls),hs=function(){function e(t,n,r){var i=this;Oa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mu("app",(function(){return i}),"PUBLIC"))}return Ma(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}]),e}(),ds="9.6.10";function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:es,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fs.create("bad-app-name",{appName:String(i)});var a=ns.get(i);if(a){if(wu(e,a.options)&&wu(r,a.config))return a;throw fs.create("duplicate-app",{appName:i})}var o,u=new zu(i),s=Yo(rs.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new hs(e,r,u);return ns.set(i,l),l}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=ns.get(e);if(!t)throw fs.create("no-app",{appName:e});return t}function ms(){return Array.from(ns.values())}function ys(e){return gs.apply(this,arguments)}function gs(){return(gs=Lu(Zo.mark((function e(t){var n;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ns.has(n)){e.next=6;break}return ns.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e,t,n){var r,i=null!==(r=ts[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zu.warn(u.join(" "))}os(new Mu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ws(e,t){if(null!==e&&"function"!==typeof e)throw fs.create("invalid-log-argument");!function(e,t){var n,r=Yo(Bu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ku[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Vu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function bs(e){var t;t=e,Bu.forEach((function(e){e.setLogLevel(t)}))}var xs="firebase-heartbeat-store",_s=null;function Is(){var e,t,n;return _s||(_s=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(xs)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Nu(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Nu(a.result),e.oldVersion,e.newVersion,new Pu(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw fs.create("storage-open",{originalErrorMessage:e.message})}))),_s}function Ss(e){return Es.apply(this,arguments)}function Es(){return Es=Lu(Zo.mark((function e(t){var n;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return n=e.sent,e.abrupt("return",n.transaction(xs).objectStore(xs).get(As(t)));case 7:throw e.prev=7,e.t0=e.catch(0),fs.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Es.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Lu(Zo.mark((function e(t,n){var r,i,a;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return r=e.sent,i=r.transaction(xs,"readwrite"),a=i.objectStore(xs),e.next=8,a.put(n,As(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),fs.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Cs.apply(this,arguments)}function As(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ns=function(){function e(t){var n=this;Oa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ls(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ma(e,[{key:"triggerHeartbeat",value:function(){var e=Lu(Zo.mark((function e(){var t,n,r;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ps(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Lu(Zo.mark((function e(){var t,n,r,i,a;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ps(),n=Rs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ru(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ps(){return(new Date).toISOString().substring(0,10)}function Rs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Yo(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ms(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ms(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ds,Os,Ls=function(){function e(t){Oa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ma(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Lu(Zo.mark((function e(){return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Lu(Zo.mark((function e(){var t;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ss(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Lu(Zo.mark((function e(t){var n,r;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ts(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Lu(Zo.mark((function e(t){var n,r;return Zo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ts(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Da(r.heartbeats),Da(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ms(e){return ru(JSON.stringify({version:2,heartbeats:e})).length}Ds="",os(new Mu("platform-logger",(function(e){return new Yu(e)}),"PRIVATE")),os(new Mu("heartbeat",(function(e){return new Ns(e)}),"PRIVATE")),ks(Ju,Xu,Ds),ks(Ju,Xu,"esm2017"),ks("fire-js","");var Fs=function(){function e(t,n){var r=this;Oa(this,e),this._delegate=t,this.firebase=n,is(t,new Mu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ma(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ys(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){is(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){as(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),js=(X(Os={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),X(Os,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Os),Us=new mu("app-compat","Firebase",js);var Vs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ps(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ku(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ks,setLogLevel:bs,onLog:ws,apps:null,SDK_VERSION:ds,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(os(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Us.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&au(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ku(n,e=e||es))throw Us.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Fs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){au(n,e)},createSubscribe:Su,ErrorFactory:mu,deepExtend:au}),n}(),zs=new Qu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bs=self.firebase.SDK_VERSION;Bs&&Bs.indexOf("LITE")>=0&&zs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qs=Vs;!function(e){ks("@firebase/app-compat","0.1.21",e)}();function Ws(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ea(e)););return e}function Ks(){return Ks="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ws(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ks.apply(this,arguments)}qs.registerVersion("firebase","9.6.10","app-compat");function Gs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Hs;Object.create;var $s="facebook.com",Qs="github.com",Ys="google.com",Js="password",Xs="twitter.com",Zs="EMAIL_SIGNIN",ec="PASSWORD_RESET",tc="RECOVER_EMAIL",nc="REVERT_SECOND_FACTOR_ADDITION",rc="VERIFY_AND_CHANGE_EMAIL",ic="VERIFY_EMAIL";function ac(){return X({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var oc=function(){var e;return X(e={},"admin-restricted-operation","This operation is restricted to administrators only."),X(e,"argument-error",""),X(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),X(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),X(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),X(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),X(e,"cordova-not-ready","Cordova framework is not ready."),X(e,"cors-unsupported","This browser is not supported."),X(e,"credential-already-in-use","This credential is already associated with a different user account."),X(e,"custom-token-mismatch","The custom token corresponds to a different audience."),X(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),X(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),X(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),X(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),X(e,"email-already-in-use","The email address is already in use by another account."),X(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),X(e,"expired-action-code","The action code has expired."),X(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),X(e,"internal-error","An internal AuthError has occurred."),X(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),X(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),X(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),X(e,"invalid-auth-event","An internal AuthError has occurred."),X(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),X(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),X(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),X(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),X(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),X(e,"invalid-email","The email address is badly formatted."),X(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),X(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),X(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),X(e,"invalid-credential","The supplied auth credential is malformed or has expired."),X(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),X(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),X(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),X(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),X(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),X(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),X(e,"wrong-password","The password is invalid or the user does not have a password."),X(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),X(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),X(e,"invalid-provider-id","The specified provider ID is invalid."),X(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),X(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),X(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),X(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),X(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),X(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),X(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),X(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),X(e,"missing-continue-uri","A continue URL must be provided in the request."),X(e,"missing-iframe-start","An internal AuthError has occurred."),X(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),X(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),X(e,"missing-multi-factor-info","No second factor identifier is provided."),X(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),X(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),X(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),X(e,"app-deleted","This instance of FirebaseApp has been deleted."),X(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),X(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),X(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),X(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),X(e,"no-auth-event","An internal AuthError has occurred."),X(e,"no-such-provider","User was not linked to an account with the given provider."),X(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),X(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),X(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),X(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),X(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),X(e,"provider-already-linked","User can only be linked to one identity for the given provider."),X(e,"quota-exceeded","The project's quota for this operation has been exceeded."),X(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),X(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),X(e,"rejected-credential","The request contains malformed or mismatching credentials."),X(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),X(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),X(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),X(e,"timeout","The operation has timed out."),X(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),X(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),X(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),X(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),X(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),X(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),X(e,"unverified-email","The operation requires a verified email."),X(e,"user-cancelled","The user did not grant your application the permissions it requested."),X(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),X(e,"user-disabled","The user account has been disabled by an administrator."),X(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),X(e,"user-signed-out",""),X(e,"weak-password","The password must be 6 characters long or more."),X(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),X(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},uc=ac,sc=new mu("auth","Firebase",ac()),cc=new Qu("@firebase/auth");function lc(e){if(cc.logLevel<=Vu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cc.error.apply(cc,["Auth (".concat(ds,"): ").concat(e)].concat(n))}}function fc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vc.apply(void 0,[e].concat(n))}function hc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vc.apply(void 0,[e].concat(n))}function dc(e,t,n){var r=Object.assign(Object.assign({},uc()),X({},t,n));return new mu("auth","Firebase",r).create(t,{appName:e.name})}function pc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fc(e,"argument-error"),dc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Da(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Da(o)))}return sc.create.apply(sc,[e].concat(n))}function mc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vc.apply(void 0,[t].concat(r))}}function yc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lc(t),new Error(t)}function gc(e,t){e||yc(t)}var kc=new Map;function wc(e){gc(e instanceof Function,"Expected a class definition");var t=kc.get(e);return t?(gc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kc.set(e,t),t)}function bc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xc(){return"http:"===_c()||"https:"===_c()}function _c(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ic=function(){function e(t,n){Oa(this,e),this.shortDelay=t,this.longDelay=n,gc(n>t,"Short delay should be less than long delay!"),this.isMobile=cu()||hu()}return Ma(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xc()||fu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Sc(e,t){gc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ec=function(){function e(){Oa(this,e)}return Ma(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tc=(X(Hs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),X(Hs,"MISSING_CUSTOM_TOKEN","internal-error"),X(Hs,"INVALID_IDENTIFIER","invalid-email"),X(Hs,"MISSING_CONTINUE_URI","internal-error"),X(Hs,"INVALID_PASSWORD","wrong-password"),X(Hs,"MISSING_PASSWORD","internal-error"),X(Hs,"EMAIL_EXISTS","email-already-in-use"),X(Hs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),X(Hs,"INVALID_IDP_RESPONSE","invalid-credential"),X(Hs,"INVALID_PENDING_TOKEN","invalid-credential"),X(Hs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),X(Hs,"MISSING_REQ_TYPE","internal-error"),X(Hs,"EMAIL_NOT_FOUND","user-not-found"),X(Hs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),X(Hs,"EXPIRED_OOB_CODE","expired-action-code"),X(Hs,"INVALID_OOB_CODE","invalid-action-code"),X(Hs,"MISSING_OOB_CODE","internal-error"),X(Hs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),X(Hs,"INVALID_ID_TOKEN","invalid-user-token"),X(Hs,"TOKEN_EXPIRED","user-token-expired"),X(Hs,"USER_NOT_FOUND","user-token-expired"),X(Hs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),X(Hs,"INVALID_CODE","invalid-verification-code"),X(Hs,"INVALID_SESSION_INFO","invalid-verification-id"),X(Hs,"INVALID_TEMPORARY_PROOF","invalid-credential"),X(Hs,"MISSING_SESSION_INFO","missing-verification-id"),X(Hs,"SESSION_EXPIRED","code-expired"),X(Hs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),X(Hs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),X(Hs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),X(Hs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),X(Hs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),X(Hs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),X(Hs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),X(Hs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),X(Hs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),X(Hs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),X(Hs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Hs),Cc=new Ic(3e4,6e4);function Ac(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Nc(e,t,n,r){return Pc.apply(this,arguments)}function Pc(){return Pc=Lu(eu().mark((function e(t,n,r,i){var a,o=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Rc(t,a,Lu(eu().mark((function e(){var a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=xu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ec.fetch()(Mc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Rc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return(Dc=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Tc),n),e.prev=2,a=new Fc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw jc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw jc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw jc(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw dc(t,p,d);case 30:fc(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof vu)){e.next=37;break}throw e.t0;case 37:fc(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Oc(e,t,n,r){return Lc.apply(this,arguments)}function Lc(){return Lc=Lu(eu().mark((function e(t,n,r,i){var a,o,u=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Nc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Sc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fc=function(){function e(t){var n=this;Oa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hc(n.auth,"network-request-failed"))}),Cc.get())}))}return Ma(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function jc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hc(e,t,r);return i.customData._tokenResponse=n,i}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return(Vc=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Gc(){return Gc=Lu(eu().mark((function e(t){var n,r,i,a,o,u,s=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Cu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,mc((a=$c(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Kc(Hc(a.auth_time)),issuedAtTime:Kc(Hc(a.iat)),expirationTime:Kc(Hc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(e){return 1e3*Number(e)}function $c(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return lc("JWT malformed, contained fewer than 3 sections"),null;try{var a=iu(r);return a?JSON.parse(a):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o),null}}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=Lu(eu().mark((function e(t,n){var r=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vu&&Jc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yc.apply(this,arguments)}function Jc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xc=function(){function e(t){Oa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ma(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zc=function(){function e(t,n){Oa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ma(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function el(e){return tl.apply(this,arguments)}function tl(){return tl=Lu(eu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qc(t,qc(r,{idToken:i}));case 6:mc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?il(o.providerUserInfo):[],s=rl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function nl(){return(nl=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cu(t),e.next=3,el(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Da(n),Da(t))}function il(e){return e.map((function(e){var t=e.providerId,n=Gs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function al(e,t){return ol.apply(this,arguments)}function ol(){return(ol=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc(t,{},Lu(eu().mark((function e(){var r,i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Mc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ec.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ul=function(){function e(){Oa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ma(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){mc(e.idToken,"internal-error"),mc("undefined"!==typeof e.idToken,"internal-error"),mc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$c(e);return mc(t,"internal-error"),mc("undefined"!==typeof t.exp,"internal-error"),mc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Lu(eu().mark((function e(t){var n,r=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],mc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(mc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(mc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(mc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function sl(e,t){mc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cl=function(){function e(t){Oa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Gs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Da(a.providerData):[],this.metadata=new Zc(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ma(e,[{key:"getIdToken",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(mc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Gc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return nl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(mc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){mc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Lu(eu().mark((function e(t){var n,r,i=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,el(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Qc(this,Uc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;mc(k&&_,t,"internal-error");var I=ul.fromJSON(this.name,_);mc("string"===typeof k,t,"internal-error"),sl(f,t.name),sl(h,t.name),mc("boolean"===typeof w,t,"internal-error"),mc("boolean"===typeof b,t,"internal-error"),sl(d,t.name),sl(p,t.name),sl(v,t.name),sl(m,t.name),sl(y,t.name),sl(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Lu(eu().mark((function t(n,r){var i,a,o,u=arguments;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ul).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,el(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ll=function(){function e(){Oa(this,e),this.type="NONE",this.storage={}}return Ma(e,[{key:"_isAvailable",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ll.type="NONE";var fl=ll;function hl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var dl=function(){function e(t,n,r){Oa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hl(this.userKey,a.apiKey,o),this.fullPersistenceKey=hl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ma(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Lu(eu().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(wc(fl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||wc(fl),u=hl(i,n.config.apiKey,n.name),s=null,c=Yo(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=cl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wl(t))return"Blackberry";if(bl(t))return"Webos";if(ml(t))return"Safari";if((t.includes("chrome/")||yl(t))&&!t.includes("edge/"))return"Chrome";if(kl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/firefox\//i.test(e)}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/crios\//i.test(e)}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/iemobile/i.test(e)}function kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/android/i.test(e)}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/blackberry/i.test(e)}function bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/webos/i.test(e)}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/iphone|ipad|ipod/i.test(e)}function _l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return xl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Il(){return du()&&10===document.documentMode}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return xl(e)||kl(e)||bl(e)||wl(e)||/windows phone/i.test(e)||gl(e)}function El(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pl(su());break;case"Worker":t="".concat(pl(su()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ds,"/").concat(r)}var Tl=function(){function e(t,n,r){Oa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Al(this),this.idTokenSubscription=new Al(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ma(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=wc(t)),this._initializationPromise=this.queue(Lu(eu().mark((function r(){var i,a;return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,dl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Lu(eu().mark((function e(t){var n,r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return mc(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Cu(t):null)&&mc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Lu(eu().mark((function e(t){var n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&mc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(wc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return mc(n=t&&wc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,dl.create(this,[wc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Lu(eu().mark((function e(t){var n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return mc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return mc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=El(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Lu(eu().mark((function e(){var t,n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cl(e){return Cu(e)}var Al=function(){function e(t){var n=this;Oa(this,e),this.auth=t,this.observer=null,this.addObserver=Su((function(e){return n.observer=e}))}return Ma(e,[{key:"next",get:function(){return mc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Nl(e,t,n){var r=Cl(e);mc(r._canInitEmulator,r,"emulator-config-failed"),mc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Pl(t),o=function(e){var t=Pl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Rl(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Rl(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dl=function(){function e(t,n){Oa(this,e),this.providerId=t,this.signInMethod=n}return Ma(e,[{key:"toJSON",value:function(){return yc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yc("not implemented")}}]),e}();function Ol(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:resetPassword",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ml(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:update",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e,t){return zl.apply(this,arguments)}function zl(){return(zl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPassword",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:sendOobCode",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t){return Ql.apply(this,arguments)}function Ql(){return(Ql=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return(tf=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nf=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Oa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ma(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xl(t,{email:this._email,oobCode:this._password}));case 5:fc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ml(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ef(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dl);function rf(e,t){return af.apply(this,arguments)}function af(){return(af=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithIdp",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var of=function(e){Sa(n,e);var t=Pa(n);function n(){var e;return Oa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ma(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return rf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rf(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Gs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dl);function uf(e,t){return sf.apply(this,arguments)}function sf(){return(sf=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:sendVerificationCode",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(){return(cf=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(){return(lf=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Ac(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw jc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=X({},"USER_NOT_FOUND","user-not-found");function hf(){return(hf=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Ac(t,r),ff));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var df=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ma(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return cf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return lf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dl);var pf=function(){function e(t){var n,r,i,a,o,u;Oa(this,e);var s=_u(Iu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);mc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ma(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_u(Iu(e)).link,n=t?_u(Iu(t)).deep_link_id:null,r=_u(Iu(e)).deep_link_id;return(r?_u(Iu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(kA){return null}}}]),e}();var vf=function(){function e(){Oa(this,e),this.providerId=e.PROVIDER_ID}return Ma(e,null,[{key:"credential",value:function(e,t){return nf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pf.parseLink(t);return mc(n,"argument-error"),nf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vf.PROVIDER_ID="password",vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var mf=function(){function e(t){Oa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ma(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),yf=function(e){Sa(n,e);var t=Pa(n);function n(){var e;return Oa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ma(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Da(this.scopes)}}]),n}(mf),gf=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return mc(e.idToken||e.accessToken,"argument-error"),of._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return mc("providerId"in t&&"signInMethod"in t,"argument-error"),of._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(yf),kf=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.call(this,"facebook.com")}return Ma(n,null,[{key:"credential",value:function(e){return of._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kA){return null}}}]),n}(yf);kf.FACEBOOK_SIGN_IN_METHOD="facebook.com",kf.PROVIDER_ID="facebook.com";var wf=function(e){Sa(n,e);var t=Pa(n);function n(){var e;return Oa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ma(n,null,[{key:"credential",value:function(e,t){return of._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(kA){return null}}}]),n}(yf);wf.GOOGLE_SIGN_IN_METHOD="google.com",wf.PROVIDER_ID="google.com";var bf=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.call(this,"github.com")}return Ma(n,null,[{key:"credential",value:function(e){return of._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kA){return null}}}]),n}(yf);bf.GITHUB_SIGN_IN_METHOD="github.com",bf.PROVIDER_ID="github.com";var xf=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ma(n,[{key:"_getIdTokenResponse",value:function(e){return rf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rf(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dl),_f=function(e){Sa(n,e);var t=Pa(n);function n(e){return Oa(this,n),mc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ma(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=xf.fromJSON(e);return mc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return xf._create(r,n)}catch(i){return null}}}]),n}(mf),If=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.call(this,"twitter.com")}return Ma(n,null,[{key:"credential",value:function(e,t){return of._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(kA){return null}}}]),n}(yf);function Sf(e,t){return Ef.apply(this,arguments)}function Ef(){return(Ef=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signUp",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}If.TWITTER_SIGN_IN_METHOD="twitter.com",If.PROVIDER_ID="twitter.com";var Tf=function(){function e(t){Oa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ma(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Lu(eu().mark((function t(n,r,i){var a,o,u,s,c=arguments;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,cl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Cf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Lu(eu().mark((function t(n,r,i){var a;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Cf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Cf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Af(){return Af=Lu(eu().mark((function e(t){var n,r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Tf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Sf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Tf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}var Nf=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a){var o,u;return Oa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Aa(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ma(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vu);function Pf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Nf._fromErrorAndOperation(e,n,t,r);throw n}))}function Rf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Df(e,t){return Of.apply(this,arguments)}function Of(){return Of=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,Ff(!0,r,n);case 3:return e.t0=zc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Rf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=Lu(eu().mark((function e(t,n){var r,i,a=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Tf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e,t,n){return jf.apply(this,arguments)}function jf(){return(jf=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(n);case 2:i=Rf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",mc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Qc(t,Pf(i,a,n,t),r);case 6:return mc((o=e.sent).idToken,i,"internal-error"),mc(u=$c(o.idToken),i,"internal-error"),s=u.sub,mc(t.uid===s,i,"user-mismatch"),e.abrupt("return",Tf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&fc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vf.apply(this,arguments)}function zf(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=Lu(eu().mark((function e(t,n){var r,i,a,o,u=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Pf(t,i,n);case 4:return a=e.sent,e.next=7,Tf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zf(Cl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t){return Gf.apply(this,arguments)}function Gf(){return(Gf=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,Ff(!1,r,n.providerId);case 3:return e.abrupt("return",Lf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(Cu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t){return Yf.apply(this,arguments)}function Yf(){return(Yf=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithCustomToken",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(){return(Jf=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cl(t),e.next=3,Qf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Tf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xf=function(){function e(t,n){Oa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ma(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Zf._fromServerResponse(e,t):fc(e,"internal-error")}}]),e}(),Zf=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ma(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xf);function eh(e,t,n){var r;mc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),mc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(mc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(mc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function th(){return(th=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),a={requestType:"PASSWORD_RESET",email:n},r&&eh(i,a,r),e.next=5,Gl(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(){return(nh=Lu(eu().mark((function e(t,n,r){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(Cu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(){return(rh=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(Cu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t){return ah.apply(this,arguments)}function ah(){return(ah=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,Ol(r,{oobCode:n});case 3:i=e.sent,mc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return mc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:mc(i.mfaInfo,r,"internal-error");case 13:mc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xf._fromServerResponse(Cl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(){return(oh=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ih(Cu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(e,t,n){return sh.apply(this,arguments)}function sh(){return(sh=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cl(t),e.next=3,Sf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Tf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(){return(ch=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),a={requestType:"EMAIL_SIGNIN",email:n},mc(r.handleCodeInApp,i,"argument-error"),r&&eh(i,a,r),e.next=6,$l(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(){return(lh=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),mc((a=vf.credentialWithLink(n,r||bc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",qf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return(hh=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:createAuthUri",Ac(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(){return(dh=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc()?bc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fh(Cu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(){return(ph=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&eh(r.auth,a,n),e.next=8,Wl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(){return(vh=Lu(eu().mark((function e(t,n,r){var i,a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&eh(i.auth,o,r),e.next=8,Yl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(){return(gh=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s,c;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Cu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Qc(a,mh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(e,t,n){return wh.apply(this,arguments)}function wh(){return(wh=Lu(eu().mark((function e(t,n,r){var i,a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Qc(t,Ml(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bh=Ma((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Oa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),xh=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a){var o;return Oa(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ma(n)}(bh),_h=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"facebook.com",r)}return Ma(n)}(bh),Ih=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ma(n)}(xh),Sh=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"google.com",r)}return Ma(n)}(bh),Eh=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){return Oa(this,n),t.call(this,e,"twitter.com",r,i)}return Ma(n)}(xh);function Th(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$c(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new bh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _h(a,i);case"github.com":return new Ih(a,i);case"google.com":return new Sh(a,i);case"twitter.com":return new Eh(a,i,e.screenName||null);case"custom":case"anonymous":return new bh(a,null);default:return new bh(a,r,i)}}(n)}var Ch=function(){function e(t,n){Oa(this,e),this.type=t,this.credential=n}return Ma(e,[{key:"toJSON",value:function(){return{multiFactorSession:X({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ah=function(){function e(t,n,r){Oa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ma(e,[{key:"resolveSignIn",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Cl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xf._fromServerResponse(r,e)}));mc(i.mfaPendingCredential,r,"internal-error");var o=Ch._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Lu(eu().mark((function e(t){var a,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Tf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return mc(n.user,r,"internal-error"),e.abrupt("return",Tf._forOperation(n.user,n.operationType,u));case 17:fc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Nh(e,t){return Nc(e,"POST","/v2/accounts/mfaEnrollment:start",Ac(e,t))}var Ph=function(){function e(t){var n=this;Oa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xf._fromServerResponse(t.auth,e)})))}))}return Ma(e,[{key:"getSession",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ch,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Qc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Lu(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Qc(this.user,Nc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ac(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Rh=new WeakMap;var Dh="__sak",Oh=function(){function e(t,n){Oa(this,e),this.storageRetriever=t,this.type=n}return Ma(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch(kA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Lh=function(e){Sa(n,e);var t=Pa(n);function n(){var e;return Oa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=su();return ml(e)||xl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Sl(),e._shouldAllowMigration=!0,e}return Ma(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Il()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Lu(eu().mark((function e(t,r){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(Ea(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lu(eu().mark((function e(t){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(Ea(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(Ea(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Oh);Lh.type="LOCAL";var Mh=Lh,Fh=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ma(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Oh);Fh.type="SESSION";var jh=Fh;function Uh(e){return Promise.all(e.map(function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Vh=function(){function e(t){Oa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ma(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Lu(eu().mark((function e(t){var n,r,i,a,o,u,s,c;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Uh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vh.receivers=[];var Bh=function(){function e(t){Oa(this,e),this.target=t,this.handlers=new Set}return Ma(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Lu(eu().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=zh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function qh(){return window}function Wh(){return"undefined"!==typeof qh().WorkerGlobalScope&&"function"===typeof qh().importScripts}function Kh(){return Gh.apply(this,arguments)}function Gh(){return(Gh=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Hh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $h="firebaseLocalStorageDb",Qh="firebaseLocalStorage",Yh="fbase_key",Jh=function(){function e(t){Oa(this,e),this.request=t}return Ma(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xh(e,t){return e.transaction([Qh],t?"readwrite":"readonly").objectStore(Qh)}function Zh(){var e=indexedDB.deleteDatabase($h);return new Jh(e).toPromise()}function ed(){var e=indexedDB.open($h,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Qh,{keyPath:Yh})}catch(r){n(r)}})),e.addEventListener("success",Lu(eu().mark((function n(){var r;return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Qh)){n.next=12;break}return r.close(),n.next=5,Zh();case 5:return n.t0=t,n.next=8,ed();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xh(t,!0).put((X(i={},Yh,n),X(i,"value",r),i)),e.abrupt("return",new Jh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(e,t){return id.apply(this,arguments)}function id(){return id=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xh(t,!1).get(n),e.next=3,new Jh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e,t){var n=Xh(e,!0).delete(t);return new Jh(n).toPromise()}var od=function(){function e(){Oa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ma(e,[{key:"_openDb",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ed();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Lu(eu().mark((function e(){var t=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Vh._getInstance(Wh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Lu(eu().mark((function e(n,r){var i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Lu(eu().mark((function e(){var t,n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Hh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ed();case 5:return t=e.sent,e.next=8,td(t,Dh,"1");case 8:return e.next=10,ad(t,Dh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lu(eu().mark((function e(t,n){var r=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return td(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return rd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lu(eu().mark((function e(t){var n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ad(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xh(e,!1).getAll();return new Jh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Yo(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();od.type="LOCAL";var ud=od;function sd(e,t){return Nc(e,"POST","/v2/accounts/mfaSignIn:start",Ac(e,t))}function cd(e){return ld.apply(this,arguments)}function ld(){return(ld=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var dd=1e12,pd=function(){function e(t){Oa(this,e),this.auth=t,this.counter=dd,this._widgets=new Map}return Ma(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new vd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||dd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||dd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||dd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vd=function(){function e(t,n,r){var i=this;Oa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;mc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ma(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var md=hd("rcb"),yd=new Ic(3e4,6e4),gd="https://www.google.com/recaptcha/api.js?",kd=function(){function e(){Oa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qh().grecaptcha}return Ma(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return mc(wd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(qh().grecaptcha):new Promise((function(r,i){var a=qh().setTimeout((function(){i(hc(e,"network-request-failed"))}),yd.get());qh()[md]=function(){qh().clearTimeout(a),delete qh()[md];var o=qh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(hc(e,"internal-error"))},fd("".concat(gd,"?").concat(xu({onload:md,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(hc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!qh().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function wd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var bd=function(){function e(){Oa(this,e)}return Ma(e,[{key:"load",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new pd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),xd="recaptcha",_d={theme:"light",type:"image"},Id=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},_d),r=arguments.length>2?arguments[2]:void 0;Oa(this,e),this.parameters=n,this.type=xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cl(r),this.isInvisible="invisible"===this.parameters.size,mc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;mc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bd:new kd,this.validateStartingState()}return Ma(e,[{key:"verify",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){mc(!this.parameters.sitekey,this.auth,"argument-error"),mc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),mc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=qh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){mc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Lu(eu().mark((function e(){var t,n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mc(xc()&&!Wh(),this.auth,"internal-error"),e.next=3,Sd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,cd(this.auth);case 8:mc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return mc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Sd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ed=function(){function e(t,n){Oa(this,e),this.verificationId=t,this.onConfirmation=n}return Ma(e,[{key:"confirm",value:function(e){var t=df._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Td(){return(Td=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cl(t),e.next=3,Pd(i,n,Cu(r));case 3:return a=e.sent,e.abrupt("return",new Ed(a,(function(e){return qf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return(Ad=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),e.next=3,Ff(!1,i,"phone");case 3:return e.next=5,Pd(i.auth,n,Cu(r));case 5:return a=e.sent,e.abrupt("return",new Ed(a,(function(e){return Kf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(){return(Nd=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),e.next=3,Pd(i.auth,n,Cu(r));case 3:return a=e.sent,e.abrupt("return",new Ed(a,(function(e){return Hf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return Rd=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,mc("string"===typeof a,t,"argument-error"),mc(r.type===xd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return mc("enroll"===u.type,t,"internal-error"),e.next=13,Nh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return mc("signin"===u.type,t,"internal-error"),mc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,sd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,uf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Rd.apply(this,arguments)}function Dd(){return(Dd=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(Cu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Od=function(){function e(t){Oa(this,e),this.providerId=e.PROVIDER_ID,this.auth=Cl(t)}return Ma(e,[{key:"verifyPhoneNumber",value:function(e,t){return Pd(this.auth,e,Cu(t))}}],[{key:"credential",value:function(e,t){return df._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?df._fromTokenResponse(n,r):null}}]),e}();function Ld(e,t){return t?wc(t):(mc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Od.PROVIDER_ID="phone",Od.PHONE_SIGN_IN_METHOD="phone";var Md=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ma(n,[{key:"_getIdTokenResponse",value:function(e){return rf(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return rf(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return rf(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dl);function Fd(e){return zf(e.auth,new Md(e),e.bypassAuthState)}function jd(e){var t=e.auth,n=e.user;return mc(n,t,"internal-error"),Uf(n,new Md(e),e.bypassAuthState)}function Ud(e){return Vd.apply(this,arguments)}function Vd(){return(Vd=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,mc(r=t.user,n,"internal-error"),e.abrupt("return",Lf(r,new Md(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Oa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ma(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Lu(eu().mark((function t(n,r){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Lu(eu().mark((function e(t){var n,r,i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fd;case"linkViaPopup":case"linkViaRedirect":return Ud;case"reauthViaPopup":case"reauthViaRedirect":return jd;default:fc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Bd=new Ic(2e3,1e4);function qd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return(Wd=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cl(t),pc(t,n,mf),a=Ld(i,r),o=new $d(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(){return(Kd=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc((i=Cu(t)).auth,n,mf),a=Ld(i.auth,r),o=new $d(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gd(e,t,n){return Hd.apply(this,arguments)}function Hd(){return(Hd=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc((i=Cu(t)).auth,n,mf),a=Ld(i.auth,r),o=new $d(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $d=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a,o){var u;return Oa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Aa(u),u}return Ma(n,[{key:"executeNotNull",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return mc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lu(eu().mark((function e(){var t,n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gc(1===this.filter.length,"Popup operations only handle one event"),t=zh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Bd.get())}()}}]),n}(zd);$d.currentPopupAction=null;var Qd=new Map,Yd=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Oa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ma(n,[{key:"execute",value:function(){var e=Lu(eu().mark((function e(){var t,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Jd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ks(Ea(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Lu(eu().mark((function e(t){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ks(Ea(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ks(Ea(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zd);function Jd(e,t){return Xd.apply(this,arguments)}function Xd(){return(Xd=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=np(n),i=tp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zd(e,t){return ep.apply(this,arguments)}function ep(){return(ep=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tp(t)._set(np(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tp(e){return wc(e._redirectPersistence)}function np(e){return hl("pendingRedirect",e.config.apiKey,e.name)}function rp(e,t,n){return function(e,t,n){return ip.apply(this,arguments)}(e,t,n)}function ip(){return(ip=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cl(t),pc(t,n,mf),a=Ld(i,r),e.next=5,Zd(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ap(e,t,n){return function(e,t,n){return op.apply(this,arguments)}(e,t,n)}function op(){return(op=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc((i=Cu(t)).auth,n,mf),a=Ld(i.auth,r),e.next=5,Zd(a,i.auth);case 5:return e.next=7,dp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e,t,n){return function(e,t,n){return sp.apply(this,arguments)}(e,t,n)}function sp(){return(sp=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc((i=Cu(t)).auth,n,mf),a=Ld(i.auth,r),e.next=5,Ff(!1,i,n.providerId);case 5:return e.next=7,Zd(a,i.auth);case 7:return e.next=9,dp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cp(e,t){return lp.apply(this,arguments)}function lp(){return(lp=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cl(t)._initializationPromise;case 2:return e.abrupt("return",fp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fp(e,t){return hp.apply(this,arguments)}function hp(){return hp=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Cl(t),a=Ld(i,n),o=new Yd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function dp(e){return pp.apply(this,arguments)}function pp(){return(pp=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vp=function(){function e(t){Oa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ma(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!yp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(mp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function mp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function yp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function gp(e){return kp.apply(this,arguments)}function kp(){return kp=Lu(eu().mark((function e(t){var n,r=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}var wp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bp=/^https?/;function xp(){return(xp=Lu(eu().mark((function e(t){var n,r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gp(t);case 4:n=e.sent,r=n.authorizedDomains,i=Yo(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!_p(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function _p(e){var t=bc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!bp.test(r))return!1;if(wp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ip=new Ic(3e4,6e4);function Sp(){var e=qh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Da(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ep=null;function Tp(e){return Ep=Ep||function(e){return new Promise((function(t,n){var r,i,a;function o(){Sp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Sp(),n(hc(e,"network-request-failed"))},timeout:Ip.get()})}if(null===(i=null===(r=qh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=qh().gapi)||void 0===a?void 0:a.load)){var u=hd("iframefcb");return qh()[u]=function(){gapi.load?o():n(hc(e,"network-request-failed"))},fd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ep=null,e}))}(e),Ep}var Cp=new Ic(5e3,15e3),Ap={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Np=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pp(e){var t=e.config;mc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Sc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ds},i=Np.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xu(r).slice(1))}function Rp(e){return Dp.apply(this,arguments)}function Dp(){return Dp=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tp(t);case 2:return n=e.sent,mc(r=qh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Pp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ap,dontclear:!0},(function(e){return new Promise(function(){var n=Lu(eu().mark((function n(r,i){var a,o,u;return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){qh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=hc(t,"network-request-failed"),o=qh().setTimeout((function(){i(a)}),Cp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}var Op={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lp="_blank",Mp="http://localhost",Fp=function(){function e(t){Oa(this,e),this.window=t,this.associatedEvent=null}return Ma(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function jp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Op),{width:r.toString(),height:i.toString(),top:a,left:o}),l=su().toLowerCase();n&&(u=yl(l)?Lp:n),vl(l)&&(t=t||Mp,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(_l(l)&&"_self"!==u)return Up(t||"",u),new Fp(null);var h=window.open(t||"",u,f);mc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Fp(h)}function Up(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vp="__/auth/handler",zp="emulator/auth/handler";function Bp(e,t,n,r,i,a){mc(e.config.authDomain,e,"auth-domain-config-required"),mc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(t instanceof mf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof yf){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vp);return Sc(t,zp)}(e),"?").concat(xu(p).slice(1))}var qp="webStorageSupport",Wp=function(){function e(){Oa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jh,this._completeRedirectFn=fp}return Ma(e,[{key:"_openPopup",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){var a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Bp(t,n,r,bc(),i),e.abrupt("return",jp(t,o,zh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Bp(t,n,r,bc(),i),qh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(gc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rp(t);case 2:return n=e.sent,r=new vp(t),n.register("authEvent",(function(e){return mc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qp,{type:qp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),fc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Sl()||ml()||xl()}}]),e}(),Kp=Wp,Gp=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,"phone")).credential=e,r}return Ma(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Nc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ac(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Nc(e,"POST","/v2/accounts/mfaSignIn:finalize",Ac(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Oa(this,e),this.factorId=t}return Ma(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yc("unexpected MultiFactorSessionType")}}}]),e}()),Hp=function(){function e(){Oa(this,e)}return Ma(e,null,[{key:"assertion",value:function(e){return Gp._fromCredential(e)}}]),e}();Hp.FACTOR_ID="phone";var $p,Qp="@firebase/auth",Yp="0.19.11",Jp=function(){function e(t){Oa(this,e),this.auth=t,this.internalListeners=new Map}return Ma(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){mc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Xp(){return window}$p="Browser",os(new Mu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){mc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),mc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:$p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:El($p)},i=new Tl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),os(new Mu("auth-internal",(function(e){return function(e){return new Jp(e)}(Cl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ks(Qp,Yp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}($p)),ks(Qp,Yp,"esm2017");function Zp(e,t,n){return ev.apply(this,arguments)}function ev(){return ev=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xp(),o=a.BuildInfo,gc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ov(n.sessionId);case 4:return u=e.sent,s={},xl()?s.ibi=o.packageName:kl()?s.apn=o.packageName:fc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Bp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ev.apply(this,arguments)}function tv(){return(tv=Lu(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xp(),r=n.BuildInfo,i={},xl()?i.iosBundleId=r.packageName:kl()?i.androidPackageName=r.packageName:fc(t,"operation-not-supported-in-this-environment"),e.next=5,gp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nv(e){var t=Xp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function rv(e,t,n){return iv.apply(this,arguments)}function iv(){return iv=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(hc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),kl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),iv.apply(this,arguments)}function av(e){var t,n,r,i,a,o,u,s,c,l,f=Xp();mc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),mc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),mc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ov(e){return uv.apply(this,arguments)}function uv(){return(uv=Lu(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sv(e){if(gc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var cv=function(e){Sa(n,e);var t=Pa(n);function n(){var e;return Oa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ma(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ks(Ea(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vp);function lv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:vv(),postBody:null,tenantId:e.tenantId,error:hc(e,"no-auth-event")}}function fv(e,t){return mv()._set(yv(e),t)}function hv(e){return dv.apply(this,arguments)}function dv(){return(dv=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mv()._get(yv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mv()._remove(yv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pv(e,t){var n,r,i=function(e){var t=gv(e),n=t.link?decodeURIComponent(t.link):void 0,r=gv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=gv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?hc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function mv(){return wc(Mh)}function yv(e){return hl("authEvent",e.config.apiKey,e.name)}function gv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Ra(t)||u(t)||s();r[0];return _u(r.slice(1).join("?"))}var kv=function(){function e(){Oa(this,e),this._redirectPersistence=jh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fp}return Ma(e,[{key:"_initialize",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new cv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){var a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return av(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Qd.clear(),e.next=10,this._originValidation(t);case 10:return o=lv(t,r,i),e.next=13,fv(t,o);case 13:return e.next=15,Zp(t,o,n);case 15:return u=e.sent,e.next=18,nv(u);case 18:return s=e.sent,e.abrupt("return",rv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return tv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Xp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hv(e);case 2:t.onEvent(bv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Lu(eu().mark((function n(r){var i,a;return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,hv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=pv(i,r.url)),t.onEvent(a||bv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Xp().handleOpenURL=function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wv=kv;function bv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hc("no-auth-event")}}function xv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function _v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return!("file:"!==xv()&&"ionic:"!==xv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Iv(){return du()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Sv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return/Edge\/\d+/.test(e)}function Ev(){try{var e=self.localStorage,t=zh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su();return Iv()||Sv(e)}()||pu()}catch(n){return Tv()&&pu()}return!1}function Tv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cv(){return("http:"===xv()||"https:"===xv()||fu()||_v())&&!(hu()||lu())&&Ev()&&!Tv()}function Av(){return _v()&&"undefined"!==typeof document}function Nv(){return Pv.apply(this,arguments)}function Pv(){return(Pv=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Av()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rv={LOCAL:"local",NONE:"none",SESSION:"session"},Dv=mc,Ov="persistence";function Lv(e,t){Dv(Object.values(Rv).includes(t),e,"invalid-persistence-type"),hu()?Dv(t!==Rv.SESSION,e,"unsupported-persistence-type"):lu()?Dv(t===Rv.NONE,e,"unsupported-persistence-type"):Tv()?Dv(t===Rv.NONE||t===Rv.LOCAL&&pu(),e,"unsupported-persistence-type"):Dv(t===Rv.NONE||Ev(),e,"unsupported-persistence-type")}function Mv(e){return Fv.apply(this,arguments)}function Fv(){return(Fv=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=jv(),r=hl(Ov,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Uv=mc,Vv=function(){function e(){Oa(this,e),this.browserResolver=wc(Kp),this.cordovaResolver=wc(wv),this.underlyingResolver=null,this._redirectPersistence=jh,this._completeRedirectFn=fp}return Ma(e,[{key:"_initialize",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Av()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Uv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zv(e){return e.unwrap()}function Bv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Hv(e,function(e,t){var n,r=Cu(e),i=t;return mc(t.customData.operationType,r,"argument-error"),mc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ah._fromError(r,i)}(e,t));else if(r){var i=qv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function qv(e){var t=(e instanceof vu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vu)&&"temporaryProof"in t&&"phoneNumber"in t)return Od.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Js)return null;switch(r){case Ys:n=wf;break;case $s:n=kf;break;case Qs:n=bf;break;case Xs:n=If;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?xf._create(r,u):of._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new gf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof vu?n.credentialFromError(e):n.credentialFromResult(e)}function Wv(e,t){return t.catch((function(t){throw t instanceof vu&&Bv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,qv(t)),additionalUserInfo:Th(e),user:$v.getOrCreate(r)}}))}function Kv(e,t){return Gv.apply(this,arguments)}function Gv(){return(Gv=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Wv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hv=function(){function e(t,n){Oa(this,e),this.resolver=n,this.auth=t.wrapped()}return Ma(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Wv(zv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),$v=function(){function e(t){Oa(this,e),this._delegate=t,this.multiFactor=function(e){var t=Cu(e);return Rh.has(t)||Rh.set(t,Ph._fromUser(t)),Rh.get(t)}(t)}return Ma(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wv(this.auth,Kf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(this.auth,Cd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wv(this.auth,Gd(this._delegate,t,Vv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(Cl(this.auth));case 2:return e.abrupt("return",up(this._delegate,t,Vv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wv(this.auth,Hf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Kv(this.auth,function(e,t,n){return Nd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Wv(this.auth,function(e,t,n){return Kd.apply(this,arguments)}(this._delegate,e,Vv))}},{key:"reauthenticateWithRedirect",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(Cl(this.auth));case 2:return e.abrupt("return",ap(this._delegate,t,Vv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ph.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return kh(Cu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return kh(Cu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Dd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return gh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return vh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();$v.USER_MAP=new WeakMap;var Qv=mc,Yv=function(){function e(t,n){if(Oa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Qv(r,"invalid-api-key",{appName:t.name}),Qv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Vv:void 0;this._delegate=n.initialize({options:{persistence:Xv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(oc),this.linkUnderlyingAuth()}return Ma(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?$v.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Nl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return rh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ih(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return nh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wv(this._delegate,uh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return dh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv(Cv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cp(this._delegate,Vv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Wv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Cl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Jv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Jv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ch.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return th.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lv(this._delegate,t),e.t0=t,e.next=e.t0===Rv.SESSION?4:e.t0===Rv.LOCAL?6:e.t0===Rv.NONE?11:13;break;case 4:return n=jh,e.abrupt("break",14);case 6:return e.next=8,wc(ud)._isAvailable();case 8:return r=e.sent,n=r?ud:Mh,e.abrupt("break",14);case 11:return n=fl,e.abrupt("break",14);case 13:return e.abrupt("return",fc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Wv(this._delegate,function(e){return Af.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Wv(this._delegate,qf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Wv(this._delegate,function(e,t){return Jf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Wv(this._delegate,function(e,t,n){return qf(Cu(e),vf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Wv(this._delegate,function(e,t,n){return lh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Kv(this._delegate,function(e,t,n){return Td.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv(Cv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Wv(this._delegate,qd(this._delegate,t,Vv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv(Cv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Mv(this._delegate);case 3:return e.abrupt("return",rp(this._delegate,t,Vv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return oh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Jv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&$v.getOrCreate(e))},error:t,complete:n}}function Xv(e,t){var n=function(e,t){var n=jv();if(!n)return[];var r=hl(Ov,e,t);switch(n.getItem(r)){case Rv.NONE:return[fl];case Rv.LOCAL:return[ud,jh];case Rv.SESSION:return[jh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ud)||n.push(ud),"undefined"!==typeof window)for(var r=0,i=[Mh,jh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(fl)||n.push(fl),n}Yv.Persistence=Rv;var Zv=function(){function e(){Oa(this,e),this.providerId="phone",this._delegate=new Od(zv(qs.auth()))}return Ma(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Od.credential(e,t)}}]),e}();Zv.PHONE_SIGN_IN_METHOD=Od.PHONE_SIGN_IN_METHOD,Zv.PROVIDER_ID=Od.PROVIDER_ID;var em,tm=mc,nm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qs.app();Oa(this,e),tm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Id(t,n,i.auth()),this.type=this._delegate.type}return Ma(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(em=qs).INTERNAL.registerComponent(new Mu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zs,PASSWORD_RESET:ec,RECOVER_EMAIL:tc,REVERT_SECOND_FACTOR_ADDITION:nc,VERIFY_AND_CHANGE_EMAIL:rc,VERIFY_EMAIL:ic}},EmailAuthProvider:vf,FacebookAuthProvider:kf,GithubAuthProvider:bf,GoogleAuthProvider:wf,OAuthProvider:gf,SAMLAuthProvider:_f,PhoneAuthProvider:Zv,PhoneMultiFactorGenerator:Hp,RecaptchaVerifier:nm,TwitterAuthProvider:If,Auth:Yv,AuthCredential:Dl,Error:vu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),em.registerVersion("@firebase/auth-compat","0.2.11");var rm,im="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},am={},om=om||{},um=im||self;function sm(){}function cm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fm="closure_uid_"+(1e9*Math.random()>>>0),hm=0;function dm(e,t,n){return e.call.apply(e.bind,arguments)}function pm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vm(e,t,n){return(vm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dm:pm).apply(null,arguments)}function mm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ym(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gm(){this.s=this.s,this.o=this.o}var km={};gm.prototype.s=!1,gm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fm)&&e[fm]||(e[fm]=++hm)}(this);delete km[e]}},gm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},bm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xm(e){return Array.prototype.concat.apply([],arguments)}function _m(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Im(e){return/^[\s\xa0]*$/.test(e)}var Sm,Em=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tm(e,t){return-1!=e.indexOf(t)}function Cm(e,t){return e<t?-1:e>t?1:0}e:{var Am=um.navigator;if(Am){var Nm=Am.userAgent;if(Nm){Sm=Nm;break e}}Sm=""}function Pm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rm(e){var t={};for(var n in e)t[n]=e[n];return t}var Dm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Om(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dm.length;a++)n=Dm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lm(e){return Lm[" "](e),e}Lm[" "]=sm;var Mm,Fm=Tm(Sm,"Opera"),jm=Tm(Sm,"Trident")||Tm(Sm,"MSIE"),Um=Tm(Sm,"Edge"),Vm=Um||jm,zm=Tm(Sm,"Gecko")&&!(Tm(Sm.toLowerCase(),"webkit")&&!Tm(Sm,"Edge"))&&!(Tm(Sm,"Trident")||Tm(Sm,"MSIE"))&&!Tm(Sm,"Edge"),Bm=Tm(Sm.toLowerCase(),"webkit")&&!Tm(Sm,"Edge");function qm(){var e=um.document;return e?e.documentMode:void 0}e:{var Wm="",Km=function(){var e=Sm;return zm?/rv:([^\);]+)(\)|;)/.exec(e):Um?/Edge\/([\d\.]+)/.exec(e):jm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bm?/WebKit\/(\S+)/.exec(e):Fm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Km&&(Wm=Km?Km[1]:""),jm){var Gm=qm();if(null!=Gm&&Gm>parseFloat(Wm)){Mm=String(Gm);break e}}Mm=Wm}var Hm,$m={};function Qm(){return function(e){var t=$m;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Em(String(Mm)).split("."),n=Em("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Cm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Cm(0==a[2].length,0==o[2].length)||Cm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(um.document&&jm){var Ym=qm();Hm=Ym||(parseInt(Mm,10)||void 0)}else Hm=void 0;var Jm=Hm,Xm=function(){if(!um.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{um.addEventListener("test",sm,t),um.removeEventListener("test",sm,t)}catch(n){}return e}();function Zm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ey(e,t){if(Zm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zm){e:{try{Lm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ty[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ey.Z.h.call(this)}}Zm.prototype.h=function(){this.defaultPrevented=!0},ym(ey,Zm);var ty={2:"touch",3:"pen",4:"mouse"};ey.prototype.h=function(){ey.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ny="closure_listenable_"+(1e6*Math.random()|0),ry=0;function iy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ry,this.ca=this.fa=!1}function ay(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function oy(e){this.src=e,this.g={},this.h=0}function uy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ay(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}oy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new iy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var cy="closure_lm_"+(1e6*Math.random()|0),ly={};function fy(e,t,n,r,i){if(r&&r.once)return dy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fy(e,t[a],n,r,i);return null}return n=wy(n),e&&e[ny]?e.N(t,n,lm(r)?!!r.capture:!!r,i):hy(e,t,n,!1,r,i)}function hy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lm(i)?!!i.capture:!!i,u=gy(e);if(u||(e[cy]=u=new oy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=yy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(my(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dy(e,t[a],n,r,i);return null}return n=wy(n),e&&e[ny]?e.O(t,n,lm(r)?!!r.capture:!!r,i):hy(e,t,n,!0,r,i)}function py(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)py(e,t[a],n,r,i);else r=lm(r)?!!r.capture:!!r,n=wy(n),e&&e[ny]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sy(a=e.g[t],n,r,i))&&(ay(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sy(t,n,r,i)),(n=-1<e?t[e]:null)&&vy(n))}function vy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ny])uy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(my(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gy(t))?(uy(n,e),0==n.h&&(n.src=null,t[cy]=null)):ay(e)}}}function my(e){return e in ly?ly[e]:ly[e]="on"+e}function yy(e,t){if(e.ca)e=!0;else{t=new ey(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&vy(e),e=n.call(r,t)}return e}function gy(e){return(e=e[cy])instanceof oy?e:null}var ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function wy(e){return"function"===typeof e?e:(e[ky]||(e[ky]=function(t){return e.handleEvent(t)}),e[ky])}function by(){gm.call(this),this.i=new oy(this),this.P=this,this.I=null}function xy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Zm(t,e);else if(t instanceof Zm)t.target=t.target||e;else{var i=t;Om(t=new Zm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_y(o,r,!0,t)&&i}if(i=_y(o=t.g=e,r,!0,t)&&i,i=_y(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_y(o=t.g=n[a],r,!1,t)&&i}function _y(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&uy(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ym(by,gm),by.prototype[ny]=!0,by.prototype.removeEventListener=function(e,t,n,r){py(this,e,t,n,r)},by.prototype.M=function(){if(by.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ay(n[r]);delete t.g[e],t.h--}}this.I=null},by.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},by.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Iy=um.JSON.stringify;function Sy(){var e=Dy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ey,Ty=function(){function e(){Oa(this,e),this.h=this.g=null}return Ma(e,[{key:"add",value:function(e,t){var n=Cy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Cy=new(function(){function e(t,n){Oa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ma(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ay}),(function(e){return e.reset()})),Ay=function(){function e(){Oa(this,e),this.next=this.g=this.h=null}return Ma(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ny(e){um.setTimeout((function(){throw e}),0)}function Py(e,t){Ey||function(){var e=um.Promise.resolve(void 0);Ey=function(){e.then(Oy)}}(),Ry||(Ey(),Ry=!0),Dy.add(e,t)}var Ry=!1,Dy=new Ty;function Oy(){for(var e;e=Sy();){try{e.h.call(e.g)}catch(n){Ny(n)}var t=Cy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ry=!1}function Ly(e,t){by.call(this),this.h=e||1,this.g=t||um,this.j=vm(this.kb,this),this.l=Date.now()}function My(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fy(e,t,n){if("function"===typeof e)n&&(e=vm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vm(e.handleEvent,e)}return 2147483647<Number(t)?-1:um.setTimeout(e,t||0)}function jy(e){e.g=Fy((function(){e.g=null,e.i&&(e.i=!1,jy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ym(Ly,by),(rm=Ly.prototype).da=!1,rm.S=null,rm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xy(this,"tick"),this.da&&(My(this),this.start()))}},rm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rm.M=function(){Ly.Z.M.call(this),My(this),delete this.g};var Uy=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ma(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:jy(this)}},{key:"M",value:function(){Ks(Ea(n.prototype),"M",this).call(this),this.g&&(um.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gm);function Vy(e){gm.call(this),this.h=e,this.g={}}ym(Vy,gm);var zy=[];function By(e,t,n,r){Array.isArray(n)||(n&&(zy[0]=n.toString()),n=zy);for(var i=0;i<n.length;i++){var a=fy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qy(e){Pm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vy(e)}),e),e.g={}}function Wy(){this.g=!0}function Ky(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Iy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Vy.prototype.M=function(){Vy.Z.M.call(this),qy(this)},Vy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wy.prototype.Aa=function(){this.g=!1},Wy.prototype.info=function(){};var Gy={},Hy=null;function $y(){return Hy=Hy||new by}function Qy(e){Zm.call(this,Gy.Ma,e)}function Yy(e){var t=$y();xy(t,new Qy(t,e))}function Jy(e,t){Zm.call(this,Gy.STAT_EVENT,e),this.stat=t}function Xy(e){var t=$y();xy(t,new Jy(t,e))}function Zy(e,t){Zm.call(this,Gy.Na,e),this.size=t}function eg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return um.setTimeout((function(){e()}),t)}Gy.Ma="serverreachability",ym(Qy,Zm),Gy.STAT_EVENT="statevent",ym(Jy,Zm),Gy.Na="timingevent",ym(Zy,Zm);var tg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ng={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rg(){}function ig(e){return e.h||(e.h=e.i())}function ag(){}rg.prototype.h=null;var og,ug={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sg(){Zm.call(this,"d")}function cg(){Zm.call(this,"c")}function lg(){}function fg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vy(this),this.P=dg,e=Vm?125:void 0,this.W=new Ly(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hg}function hg(){this.i=null,this.g="",this.h=!1}ym(sg,Zm),ym(cg,Zm),ym(lg,rg),lg.prototype.g=function(){return new XMLHttpRequest},lg.prototype.i=function(){return{}},og=new lg;var dg=45e3,pg={},vg={};function mg(e,t,n){e.K=1,e.v=Ug(Dg(t)),e.s=n,e.U=!0,yg(e,null)}function yg(e,t){e.F=Date.now(),bg(e),e.A=Dg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Xg(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hg,e.g=ew(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Uy(vm(e.Ia,e,e.g),e.O)),By(e.V,e.g,"readystatechange",e.gb),t=e.H?Rm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Yy(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function kg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wg(e,n))==vg){4==t&&(e.o=4,Xy(14),i=!1),Ky(e.j,e.m,null,"[Incomplete Response]");break}if(r==pg){e.o=4,Xy(15),Ky(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ky(e.j,e.m,r,null),Eg(e,r)}gg(e)&&r!=vg&&r!=pg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gk(t),t.L=!0,Xy(11))):(Ky(e.j,e.m,n,"[Invalid Chunked Response]"),Sg(e),Ig(e))}function wg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vg:(n=Number(t.substring(n,r)),isNaN(n)?pg:(r+=1)+n>t.length?vg:(t=t.substr(r,n),e.C=r+n,t))}function bg(e){e.Y=Date.now()+e.P,xg(e,e.P)}function xg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eg(vm(e.eb,e),t)}function _g(e){e.B&&(um.clearTimeout(e.B),e.B=null)}function Ig(e){0==e.l.G||e.I||Qk(e.l,e)}function Sg(e){_g(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,My(e.W),qy(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Eg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ok(n.i,e)))if(n.I=e.N,!e.J&&ok(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$k(n),Fk(n)}Kk(n),Xy(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=eg(vm(n.ab,n),6e3));if(1>=ak(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Jk(n,11)}else if((e.J||n.g==e)&&$k(n),!Im(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Tm(l,"spdy")||Tm(l,"quic")||Tm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(uk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,jg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Zk(r,r.H?r.la:null,r.W),d.J){sk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(_g(p),bg(p)),r.g=d}else Wk(r);0<n.l.length&&Vk(n)}else"stop"!=a[0]&&"close"!=a[0]||Jk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Jk(n,7):Mk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Yy(4)}catch(a){}}function Tg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cm(e)||"string"===typeof e)bm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(cm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(cm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Cg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ag(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ng(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ng(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ng(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rm=fg.prototype).setTimeout=function(e){this.P=e},rm.gb=function(e){e=e.target;var t=this.L;t&&3==Pk(e)?t.l():this.Ia(e)},rm.Ia=function(e){try{if(e==this.g)e:{var t=Pk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Vm||this.g&&(this.h.h||this.g.ga()||Rk(this.g)))){this.I||4!=t||7==n||Yy(8==n||0>=r?3:2),_g(this);var i=this.g.ba();this.N=i;t:if(gg(this)){var a=Rk(this.g);e="";var o=a.length,u=4==Pk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sg(this),Ig(this);var s="";break t}this.h.i=new um.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Im(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Xy(12),Sg(this),Ig(this);break e}Ky(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eg(this,i)}this.U?(kg(this,t,s),Vm&&this.i&&3==t&&(By(this.V,this.W,"tick",this.fb),this.W.start())):(Ky(this.j,this.m,s,null),Eg(this,s)),4==t&&Sg(this),this.i&&!this.I&&(4==t?Qk(this.l,this):(this.i=!1,bg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Xy(12)):(this.o=0,Xy(13)),Sg(this),Ig(this)}}}catch(t){}},rm.fb=function(){if(this.g){var e=Pk(this.g),t=this.g.ga();this.C<t.length&&(_g(this),kg(this,e,t),this.i&&4!=e&&bg(this))}},rm.cancel=function(){this.I=!0,Sg(this)},rm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Yy(3),Xy(17)),Sg(this),this.o=2,Ig(this)):xg(this,this.Y-e)},(rm=Cg.prototype).R=function(){Ag(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rm.T=function(){return Ag(this),this.g.concat()},rm.get=function(e,t){return Ng(this.h,e)?this.h[e]:t},rm.set=function(e,t){Ng(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rg){this.g=void 0!==t?t:e.g,Og(this,e.j),this.s=e.s,Lg(this,e.i),Mg(this,e.m),this.l=e.l,t=e.h;var n=new $g;n.i=t.i,t.g&&(n.g=new Cg(t.g),n.h=t.h),Fg(this,n),this.o=e.o}else e&&(n=String(e).match(Pg))?(this.g=!!t,Og(this,n[1]||"",!0),this.s=Vg(n[2]||""),Lg(this,n[3]||"",!0),Mg(this,n[4]),this.l=Vg(n[5]||"",!0),Fg(this,n[6]||"",!0),this.o=Vg(n[7]||"")):(this.g=!!t,this.h=new $g(null,this.g))}function Dg(e){return new Rg(e)}function Og(e,t,n){e.j=n?Vg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lg(e,t,n){e.i=n?Vg(t,!0):t}function Mg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fg(e,t,n){t instanceof $g?(e.h=t,function(e,t){t&&!e.j&&(Qg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yg(this,t),Xg(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zg(t,Gg)),e.h=new $g(t,e.g))}function jg(e,t,n){e.h.set(t,n)}function Ug(e){return jg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zg(t,qg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zg(t,qg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zg(n,"/"==n.charAt(0)?Kg:Wg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zg(n,Hg)),e.join("")};var qg=/[#\/\?@]/g,Wg=/[#\?:]/g,Kg=/[#\?]/g,Gg=/[#\?@]/g,Hg=/#/g;function $g(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qg(e){e.g||(e.g=new Cg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yg(e,t){Qg(e),t=Zg(e,t),Ng(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ng((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ag(e)))}function Jg(e,t){return Qg(e),t=Zg(e,t),Ng(e.g.h,t)}function Xg(e,t,n){Yg(e,t),0<n.length&&(e.i=null,e.g.set(Zg(e,t),_m(n)),e.h+=n.length)}function Zg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rm=$g.prototype).add=function(e,t){Qg(this),this.i=null,e=Zg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rm.forEach=function(e,t){Qg(this),this.g.forEach((function(n,r){bm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},rm.T=function(){Qg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},rm.R=function(e){Qg(this);var t=[];if("string"===typeof e)Jg(this,e)&&(t=xm(t,this.g.get(Zg(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xm(t,e[n])}return t},rm.set=function(e,t){return Qg(this),this.i=null,Jg(this,e=Zg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ek=Ma((function e(t,n){Oa(this,e),this.h=t,this.g=n}));function tk(e){this.l=e||rk,um.PerformanceNavigationTiming?e=0<(e=um.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(um.g&&um.g.Ea&&um.g.Ea()&&um.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nk,rk=10;function ik(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ak(e){return e.h?1:e.g?e.g.size:0}function ok(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uk(e,t){e.g?e.g.add(t):e.h=t}function sk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ck(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Yo(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _m(e.i)}function lk(){}function fk(){this.g=new lk}function hk(e,t,n){var r=n||"";try{Tg(e,(function(e,n){var i=e;lm(e)&&(i=Iy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function pk(e){this.l=e.$b||null,this.j=e.ib||!1}function vk(e,t){by.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tk.prototype.cancel=function(){if(this.i=ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Yo(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},lk.prototype.stringify=function(e){return um.JSON.stringify(e,void 0)},lk.prototype.parse=function(e){return um.JSON.parse(e,void 0)},ym(pk,rg),pk.prototype.g=function(){return new vk(this.l,this.j)},pk.prototype.i=(nk={},function(){return nk}),ym(vk,by);var mk=0;function yk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function gk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kk(e)}function kk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rm=vk.prototype).open=function(e,t){if(this.readyState!=mk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kk(this)},rm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||um).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gk(this)),this.readyState=mk},rm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kk(this)),this.g&&(this.readyState=3,kk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof um.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gk(this):kk(this),3==this.readyState&&yk(this)}},rm.Ua=function(e){this.g&&(this.response=this.responseText=e,gk(this))},rm.Ta=function(e){this.g&&(this.response=e,gk(this))},rm.ha=function(){this.g&&gk(this)},rm.setRequestHeader=function(e,t){this.v.append(e,t)},rm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wk=um.JSON.parse;function bk(e){by.call(this),this.headers=new Cg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xk,this.K=this.L=!1}ym(bk,by);var xk="",_k=/^https?$/i,Ik=["POST","PUT"];function Sk(e){return"content-type"==e.toLowerCase()}function Ek(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tk(e),Ak(e)}function Tk(e){e.D||(e.D=!0,xy(e,"complete"),xy(e,"error"))}function Ck(e){if(e.h&&"undefined"!=typeof om&&(!e.C[1]||4!=Pk(e)||2!=e.ba()))if(e.v&&4==Pk(e))Fy(e.Fa,0,e);else if(xy(e,"readystatechange"),4==Pk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pg)[1]||null;if(!a&&um.self&&um.self.location){var o=um.self.location.protocol;a=o.substr(0,o.length-1)}i=!_k.test(a?a.toLowerCase():"")}t=i}if(t)xy(e,"complete"),xy(e,"success");else{e.m=6;try{var u=2<Pk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Tk(e)}}finally{Ak(e)}}}function Ak(e,t){if(e.g){Nk(e);var n=e.g,r=e.C[0]?sm:null;e.g=null,e.C=null,t||xy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(um.clearTimeout(e.A),e.A=null)}function Pk(e){return e.g?e.g.readyState:0}function Rk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ye){return null}}function Dk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Pm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jg(e,t,n))}function Ok(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lk(e){this.za=0,this.l=[],this.h=new Wy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ok("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ok("baseRetryDelayMs",5e3,e),this.$a=Ok("retryDelaySeedMs",1e4,e),this.Ya=Ok("forwardChannelMaxRetries",2,e),this.ra=Ok("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new tk(e&&e.concurrentRequestLimit),this.Ca=new fk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Mk(e){if(jk(e),3==e.G){var t=e.V++,n=Dg(e.F);jg(n,"SID",e.J),jg(n,"RID",t),jg(n,"TYPE","terminate"),Bk(e,n),(t=new fg(e,e.h,t,void 0)).K=2,t.v=Ug(Dg(n)),n=!1,um.navigator&&um.navigator.sendBeacon&&(n=um.navigator.sendBeacon(t.v.toString(),"")),!n&&um.Image&&((new Image).src=t.v,n=!0),n||(t.g=ew(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bg(t)}Xk(e)}function Fk(e){e.g&&(Gk(e),e.g.cancel(),e.g=null)}function jk(e){Fk(e),e.u&&(um.clearTimeout(e.u),e.u=null),$k(e),e.i.cancel(),e.m&&("number"===typeof e.m&&um.clearTimeout(e.m),e.m=null)}function Uk(e,t){e.l.push(new ek(e.Za++,t)),3==e.G&&Vk(e)}function Vk(e){ik(e.i)||e.m||(e.m=!0,Py(e.Ha,e),e.C=0)}function zk(e,t){var n;n=t?t.m:e.V++;var r=Dg(e.F);jg(r,"SID",e.J),jg(r,"RID",n),jg(r,"AID",e.U),Bk(e,r),e.o&&e.s&&Dk(r,e.o,e.s),n=new fg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=qk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),uk(e.i,n),mg(n,r,t)}function Bk(e,t){e.j&&Tg({},(function(e,n){jg(t,n,e)}))}function qk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{hk(l,o,"req"+c+"_")}catch(Re){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Wk(e){e.g||e.u||(e.Y=1,Py(e.Ga,e),e.A=0)}function Kk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=eg(vm(e.Ga,e),Yk(e,e.A)),e.A++,!0)}function Gk(e){null!=e.B&&(um.clearTimeout(e.B),e.B=null)}function Hk(e){e.g=new fg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dg(e.oa);jg(t,"RID","rpc"),jg(t,"SID",e.J),jg(t,"CI",e.N?"0":"1"),jg(t,"AID",e.U),Bk(e,t),jg(t,"TYPE","xmlhttp"),e.o&&e.s&&Dk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ug(Dg(t)),n.s=null,n.U=!0,yg(n,e)}function $k(e){null!=e.v&&(um.clearTimeout(e.v),e.v=null)}function Qk(e,t){var n=null;if(e.g==t){$k(e),Gk(e),e.g=null;var r=2}else{if(!ok(e.i,t))return;n=t.D,sk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xy(r=$y(),new Zy(r,n,t,i)),Vk(e)}else Wk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ak(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=eg(vm(e.Ha,e,t),Yk(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jk(e,5);break;case 4:Jk(e,10);break;case 3:Jk(e,6);break;default:Jk(e,2)}}function Yk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Jk(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=vm(e.jb,e);n||(n=new Rg("//www.google.com/images/cleardot.gif"),um.location&&"http"==um.location.protocol||Og(n,"https"),Ug(n)),function(e,t){var n=new Wy;if(um.Image){var r=new Image;r.onload=mm(dk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mm(dk,n,r,"TestLoadImage: error",!1,t),r.onabort=mm(dk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mm(dk,n,r,"TestLoadImage: timeout",!1,t),um.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xy(2);e.G=0,e.j&&e.j.va(t),Xk(e),jk(e)}function Xk(e){e.G=0,e.I=-1,e.j&&(0==ck(e.i).length&&0==e.l.length||(e.i.i.length=0,_m(e.l),e.l.length=0),e.j.ua())}function Zk(e,t,n){var r=function(e){return e instanceof Rg?Dg(e):new Rg(e,void 0)}(n);if(""!=r.i)t&&Lg(r,t+"."+r.i),Mg(r,r.m);else{var i=um.location;r=function(e,t,n,r){var i=new Rg(null,void 0);return e&&Og(i,e),t&&Lg(i,t),n&&Mg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Pm(e.aa,(function(e,t){jg(r,t,e)})),t=e.D,n=e.sa,t&&n&&jg(r,t,n),jg(r,"VER",e.ma),Bk(e,r),r}function ew(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new bk(new pk({ib:!0})):new bk(e.qa)).L=e.H,t}function tw(){}function nw(){if(jm&&!(10<=Number(Jm)))throw Error("Environmental error: no available transport.")}function rw(e,t){by.call(this),this.g=new Lk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Im(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Im(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ow(this)}function iw(e){sg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function aw(){cg.call(this),this.status=1}function ow(e){this.g=e}(rm=bk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=this.u?ig(this.u):ig(og),this.g.onreadystatechange=vm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ek(this,a)}e=n||"";var i=new Cg(this.headers);r&&Tg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Sk,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=um.FormData&&e instanceof um.FormData,!(0<=wm(Ik,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nk(this),0<this.B&&((this.K=function(e){return jm&&Qm()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vm(this.pa,this)):this.A=Fy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ek(this,a)}},rm.pa=function(){"undefined"!=typeof om&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xy(this,"timeout"),this.abort(8))},rm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xy(this,"complete"),xy(this,"abort"),Ak(this))},rm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ak(this,!0)),bk.Z.M.call(this)},rm.Fa=function(){this.s||(this.F||this.v||this.l?Ck(this):this.cb())},rm.cb=function(){Ck(this)},rm.ba=function(){try{return 2<Pk(this)?this.g.status:-1}catch(nk){return-1}},rm.ga=function(){try{return this.g?this.g.responseText:""}catch(nk){return""}},rm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wk(t)}},rm.Da=function(){return this.m},rm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(rm=Lk.prototype).ma=8,rm.G=1,rm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ye){}},rm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Om(n=Rm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qk(this,t,r),jg(i=Dg(this.F),"RID",e),jg(i,"CVER",22),this.D&&jg(i,"X-HTTP-Session-Id",this.D),Bk(this,i),this.o&&n&&Dk(i,this.o,n),uk(this.i,t),this.Ra&&jg(i,"TYPE","init"),this.ja?(jg(i,"$req",r),jg(i,"SID","null"),t.$=!0,mg(t,i,null)):mg(t,i,r),this.G=2}}else 3==this.G&&(e?zk(this,e):0==this.l.length||ik(this.i)||zk(this))},rm.Ga=function(){if(this.u=null,Hk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=eg(vm(this.bb,this),e)}},rm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xy(10),Fk(this),Hk(this))},rm.ab=function(){null!=this.v&&(this.v=null,Fk(this),Kk(this),Xy(19))},rm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xy(2)):(this.h.info("Failed to ping google.com"),Xy(1))},(rm=tw.prototype).xa=function(){},rm.wa=function(){},rm.va=function(){},rm.ua=function(){},rm.Oa=function(){},nw.prototype.g=function(e,t){return new rw(e,t)},ym(rw,by),rw.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Py(vm(e.hb,e,t))),Xy(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Zk(e,null,e.W),Vk(e)},rw.prototype.close=function(){Mk(this.g)},rw.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Uk(this.g,t)}else this.v?((t={}).__data__=Iy(e),Uk(this.g,t)):Uk(this.g,e)},rw.prototype.M=function(){this.g.j=null,delete this.j,Mk(this.g),delete this.g,rw.Z.M.call(this)},ym(iw,sg),ym(aw,cg),ym(ow,tw),ow.prototype.xa=function(){xy(this.g,"a")},ow.prototype.wa=function(e){xy(this.g,new iw(e))},ow.prototype.va=function(e){xy(this.g,new aw(e))},ow.prototype.ua=function(){xy(this.g,"b")},nw.prototype.createWebChannel=nw.prototype.g,rw.prototype.send=rw.prototype.u,rw.prototype.open=rw.prototype.m,rw.prototype.close=rw.prototype.close,tg.NO_ERROR=0,tg.TIMEOUT=8,tg.HTTP_ERROR=6,ng.COMPLETE="complete",ag.EventType=ug,ug.OPEN="a",ug.CLOSE="b",ug.ERROR="c",ug.MESSAGE="d",by.prototype.listen=by.prototype.N,bk.prototype.listenOnce=bk.prototype.O,bk.prototype.getLastError=bk.prototype.La,bk.prototype.getLastErrorCode=bk.prototype.Da,bk.prototype.getStatus=bk.prototype.ba,bk.prototype.getResponseJson=bk.prototype.Qa,bk.prototype.getResponseText=bk.prototype.ga,bk.prototype.send=bk.prototype.ea;var uw=am.createWebChannelTransport=function(){return new nw},sw=am.getStatEventTarget=function(){return $y()},cw=am.ErrorCode=tg,lw=am.EventType=ng,fw=am.Event=Gy,hw=am.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dw=am.FetchXmlHttpFactory=pk,pw=am.WebChannel=ag,vw=am.XhrIo=bk,mw="@firebase/firestore",yw=function(){function e(t){Oa(this,e),this.uid=t}return Ma(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();yw.UNAUTHENTICATED=new yw(null),yw.GOOGLE_CREDENTIALS=new yw("google-credentials-uid"),yw.FIRST_PARTY=new yw("first-party-uid"),yw.MOCK_USER=new yw("mock-user");var gw="9.6.10",kw=new Qu("@firebase/firestore");function ww(){return kw.logLevel}function bw(e){if(kw.logLevel<=Vu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iw);kw.debug.apply(kw,["Firestore (".concat(gw,"): ").concat(e)].concat(Da(i)))}}function xw(e){if(kw.logLevel<=Vu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iw);kw.error.apply(kw,["Firestore (".concat(gw,"): ").concat(e)].concat(Da(i)))}}function _w(e){if(kw.logLevel<=Vu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iw);kw.warn.apply(kw,["Firestore (".concat(gw,"): ").concat(e)].concat(Da(i)))}}function Iw(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Sw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(gw,") INTERNAL ASSERTION FAILED: ")+e;throw xw(t),new Error(t)}function Ew(e,t){e||Sw()}function Tw(e,t){return e}var Cw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Aw=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ma(n)}(vu),Nw=Ma((function e(){var t=this;Oa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pw=Ma((function e(t,n){Oa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rw=function(){function e(){Oa(this,e)}return Ma(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Dw=function(){function e(t){Oa(this,e),this.token=t,this.changeListener=null}return Ma(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ow=function(){function e(t){Oa(this,e),this.t=t,this.currentUser=yw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ma(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Nw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Nw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){bw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(bw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Nw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ew("string"==typeof n.accessToken),new Pw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ew(null===e||"string"==typeof e),new yw(e)}}]),e}(),Lw=Ma((function e(t,n,r){Oa(this,e),this.type="FirstParty",this.user=yw.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Mw=function(){function e(t,n,r){Oa(this,e),this.h=t,this.l=n,this.m=r}return Ma(e,[{key:"getToken",value:function(){return Promise.resolve(new Lw(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fw=Ma((function e(t){Oa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),jw=function(){function e(t){Oa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ma(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,bw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):bw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ew("string"==typeof t.token),e.p=t.token,new Fw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Uw=function(){function e(t,n){var r=this;Oa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ma(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Vw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Uw.A=-1;var zw=function(){function e(){Oa(this,e)}return Ma(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bw(e,t){return e<t?-1:e>t?1:0}function qw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ww(e){return e+"\0"}var Kw=function(){function e(t,n){if(Oa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Aw(Cw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Aw(Cw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Aw(Cw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Aw(Cw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ma(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bw(this.nanoseconds,e.nanoseconds):Bw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gw=function(){function e(t){Oa(this,e),this.timestamp=t}return Ma(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Kw(0,0))}},{key:"max",value:function(){return new e(new Kw(253402300799,999999999))}}]),e}();function Hw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $w(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yw=function(){function e(t,n,r){Oa(this,e),void 0===n?n=0:n>t.length&&Sw(),void 0===r?r=t.length-n:r>t.length-n&&Sw(),this.segments=t,this.offset=n,this.len=r}return Ma(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jw=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Da(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yw),Xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zw=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Aw(Cw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Aw(Cw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Aw(Cw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yw),eb=function(){function e(t){Oa(this,e),this.fields=t,t.sort(Zw.comparator)}return Ma(e,[{key:"covers",value:function(e){var t,n=Yo(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var tb=function(e){function t(e){Oa(this,t),this.binaryString=e}return Ma(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();tb.EMPTY_BYTE_STRING=new tb("");var nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rb(e){if(Ew(!!e),"string"==typeof e){var t=0,n=nb.exec(e);if(Ew(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ib(e.seconds),nanos:ib(e.nanos)}}function ib(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ab(e){return"string"==typeof e?tb.fromBase64String(e):tb.fromUint8Array(e)}function ob(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ub(e){var t=e.mapValue.fields.__previous_value__;return ob(t)?ub(t):t}function sb(e){var t=rb(e.mapValue.fields.__local_write_time__.timestampValue);return new Kw(t.seconds,t.nanos)}var cb=Ma((function e(t,n,r,i,a,o,u,s){Oa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),lb=function(){function e(t,n){Oa(this,e),this.projectId=t,this.database=n||"(default)"}return Ma(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function fb(e){return null==e}function hb(e){return 0===e&&1/e==-1/0}function db(e){return"number"==typeof e&&Number.isInteger(e)&&!hb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var pb=function(){function e(t){Oa(this,e),this.path=t}return Ma(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jw.fromString(t))}},{key:"fromName",value:function(t){return new e(Jw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jw.emptyPath())}},{key:"comparator",value:function(e,t){return Jw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jw(t.slice()))}}]),e}(),vb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mb={nullValue:"NULL_VALUE"};function yb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ob(e)?4:Pb(e)?9:10:Sw()}function gb(e,t){if(e===t)return!0;var n=yb(e);if(n!==yb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sb(e).isEqual(sb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rb(e.timestampValue),r=rb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ab(e.bytesValue).isEqual(ab(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ib(e.geoPointValue.latitude)===ib(t.geoPointValue.latitude)&&ib(e.geoPointValue.longitude)===ib(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ib(e.integerValue)===ib(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ib(e.doubleValue),r=ib(t.doubleValue);return n===r?hb(n)===hb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qw(e.arrayValue.values||[],t.arrayValue.values||[],gb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hw(n)!==Hw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gb(n[i],r[i])))return!1;return!0}(e,t);default:return Sw()}}function kb(e,t){return void 0!==(e.values||[]).find((function(e){return gb(e,t)}))}function wb(e,t){if(e===t)return 0;var n=yb(e),r=yb(t);if(n!==r)return Bw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ib(e.integerValue||e.doubleValue),r=ib(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bb(e.timestampValue,t.timestampValue);case 4:return bb(sb(e),sb(t));case 5:return Bw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ab(e),r=ab(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bw(n[i],r[i]);if(0!==a)return a}return Bw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bw(ib(e.latitude),ib(t.latitude));return 0!==n?n:Bw(ib(e.longitude),ib(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wb(n[i],r[i]);if(a)return a}return Bw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bw(r[o],a[o]);if(0!==u)return u;var s=wb(n[r[o]],i[a[o]]);if(0!==s)return s}return Bw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Sw()}}function bb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bw(e,t);var n=rb(e),r=rb(t),i=Bw(n.seconds,r.seconds);return 0!==i?i:Bw(n.nanos,r.nanos)}function xb(e){return _b(e)}function _b(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ab(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Yo(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=_b(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Yo(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(_b(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Sw();var t,n}function Ib(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sb(e){return!!e&&"integerValue"in e}function Eb(e){return!!e&&"arrayValue"in e}function Tb(e){return!!e&&"nullValue"in e}function Cb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ab(e){return!!e&&"mapValue"in e}function Nb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $w(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Nb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rb(e,t){return void 0===e?t:void 0===t||wb(e,t)>0?e:t}function Db(e,t){return void 0===e?t:void 0===t||wb(e,t)<0?e:t}var Ob=function(){function e(t){Oa(this,e),this.value=t}return Ma(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ab(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nb(t)}},{key:"setAll",value:function(e){var t=this,n=Zw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Nb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ab(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ab(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){$w(t,(function(t,n){return e[t]=n}));var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Nb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Lb(e){var t=[];return $w(e.fields,(function(e,n){var r=new Zw([e]);if(Ab(n)){var i=Lb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Yo(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new eb(t)}var Mb=function(){function e(t,n,r,i,a,o){Oa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ma(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ob.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ob.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gw.min(),Gw.min(),Ob.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Gw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gw.min(),Ob.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gw.min(),Ob.empty(),2)}}]),e}(),Fb=Ma((function e(t,n,r,i){Oa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function jb(e){return e.fields.find((function(e){return 2===e.kind}))}function Ub(e){return e.fields.filter((function(e){return 2!==e.kind}))}Fb.UNKNOWN_ID=-1;var Vb=Ma((function e(t,n){Oa(this,e),this.fieldPath=t,this.kind=n})),zb=function(){function e(t,n){Oa(this,e),this.sequenceNumber=t,this.offset=n}return Ma(e,null,[{key:"empty",value:function(){return new e(0,Wb.min())}}]),e}();function Bb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gw.fromTimestamp(1e9===r?new Kw(n+1,0):new Kw(n,r));return new Wb(i,pb.empty(),t)}function qb(e){return new Wb(e.readTime,e.key,-1)}var Wb=function(){function e(t,n,r){Oa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ma(e,null,[{key:"min",value:function(){return new e(Gw.min(),pb.empty(),-1)}},{key:"max",value:function(){return new e(Gw.max(),pb.empty(),-1)}}]),e}();function Kb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pb.comparator(e.documentKey,t.documentKey))?n:Bw(e.largestBatchId,t.largestBatchId)}var Gb=Ma((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Oa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Hb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Gb(e,t,n,r,i,a,o)}function $b(e){var t=Tw(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+xb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return xb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return xb(e)})).join(",")),t.P=n}return t.P}function Qb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!gb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fx(e.startAt,t.startAt)&&fx(e.endAt,t.endAt)}function Yb(e){return pb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jb(e,t){return e.filters.filter((function(e){return e instanceof Xb&&e.field.isEqual(t)}))}var Xb=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ma(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(wb(t,this.value)):null!==t&&yb(this.value)===yb(t)&&this.v(wb(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sw()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Zb(e,t,r):"array-contains"===t?new rx(e,r):"in"===t?new ix(e,r):"not-in"===t?new ax(e,r):"array-contains-any"===t?new ox(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new ex(e,n):new tx(e,n)}}]),n}(function(){return Ma((function e(){Oa(this,e)}))}()),Zb=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this,e,r,i)).key=pb.fromName(i.referenceValue),a}return Ma(n,[{key:"matches",value:function(e){var t=pb.comparator(e.key,this.key);return this.v(t)}}]),n}(Xb),ex=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,"in",r)).keys=nx("in",r),i}return Ma(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xb),tx=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,"not-in",r)).keys=nx("not-in",r),i}return Ma(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xb);function nx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pb.fromName(e.referenceValue)}))}var rx=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"array-contains",r)}return Ma(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Eb(t)&&kb(t.arrayValue,this.value)}}]),n}(Xb),ix=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"in",r)}return Ma(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&kb(this.value.arrayValue,t)}}]),n}(Xb),ax=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"not-in",r)}return Ma(n,[{key:"matches",value:function(e){if(kb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!kb(this.value.arrayValue,t)}}]),n}(Xb),ox=function(e){Sa(n,e);var t=Pa(n);function n(e,r){return Oa(this,n),t.call(this,e,"array-contains-any",r)}return Ma(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Eb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return kb(t.value.arrayValue,e)}))}}]),n}(Xb),ux=Ma((function e(t,n){Oa(this,e),this.position=t,this.inclusive=n})),sx=Ma((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Oa(this,e),this.field=t,this.dir=n}));function cx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pb.comparator(pb.fromName(o.referenceValue),n.key):wb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gb(e.position[n],t.position[n]))return!1;return!0}var hx=Ma((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Oa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function dx(e,t,n,r,i,a,o,u){return new hx(e,t,n,r,i,a,o,u)}function px(e){return new hx(e)}function vx(e){return!fb(e.limit)&&"F"===e.limitType}function mx(e){return!fb(e.limit)&&"L"===e.limitType}function yx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gx(e){var t,n=Yo(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function kx(e){return null!==e.collectionGroup}function wx(e){var t=Tw(e);if(null===t.D){t.D=[];var n=gx(t),r=yx(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new sx(n)),t.D.push(new sx(Zw.keyField(),"asc"));else{var i,a=!1,o=Yo(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new sx(Zw.keyField(),s))}}}return t.D}function bx(e){var t=Tw(e);if(!t.C)if("F"===t.limitType)t.C=Hb(t.path,t.collectionGroup,wx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Yo(wx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new sx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ux(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new ux(t.startAt.position,!t.startAt.inclusive):null;t.C=Hb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function xx(e,t,n){return new hx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _x(e,t){return Qb(bx(e),bx(t))&&e.limitType===t.limitType}function Ix(e){return"".concat($b(bx(e)),"|lt:").concat(e.limitType)}function Sx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xb(t.value));var t})).join(", "),"]")),fb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return xb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return xb(e)})).join(",")),"Target(".concat(t,")")}(bx(e)),"; limitType=").concat(e.limitType,")")}function Ex(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Yo(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Yo(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=lx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wx(e),t))&&!(e.endAt&&!function(e,t,n){var r=lx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wx(e),t))}(e,t)}function Tx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cx(e){return function(t,n){var r,i=!1,a=Yo(wx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ax(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ax(e,t,n){var r=e.field.isKeyField()?pb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wb(r,i):Sw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sw()}}function Nx(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hb(t)?"-0":t}}function Px(e){return{integerValue:""+e}}function Rx(e,t){return db(t)?Px(t):Nx(e,t)}var Dx=Ma((function e(){Oa(this,e),this._=void 0}));function Ox(e,t,n){return e instanceof Fx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof jx?Ux(e,t):e instanceof Vx?zx(e,t):function(e,t){var n=Mx(e,t),r=qx(n)+qx(e.k);return Sb(n)&&Sb(e.k)?Px(r):Nx(e.M,r)}(e,t)}function Lx(e,t,n){return e instanceof jx?Ux(e,t):e instanceof Vx?zx(e,t):n}function Mx(e,t){return e instanceof Bx?Sb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Fx=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n)}(Dx),jx=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).elements=e,r}return Ma(n)}(Dx);function Ux(e,t){var n,r=Wx(t),i=Yo(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Vx=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).elements=e,r}return Ma(n)}(Dx);function zx(e,t){var n,r=Wx(t),i=Yo(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Bx=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).M=e,i.k=r,i}return Ma(n)}(Dx);function qx(e){return ib(e.integerValue||e.doubleValue)}function Wx(e){return Eb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Kx=Ma((function e(t,n){Oa(this,e),this.field=t,this.transform=n}));var Gx=Ma((function e(t,n){Oa(this,e),this.version=t,this.transformResults=n})),Hx=function(){function e(t,n){Oa(this,e),this.updateTime=t,this.exists=n}return Ma(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function $x(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qx=Ma((function e(){Oa(this,e)}));function Yx(e,t,n){e instanceof t_?function(e,t,n){var r=e.value.clone(),i=i_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof n_?function(e,t,n){if($x(e.precondition,t)){var r=i_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(r_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jx(e,t,n){e instanceof t_?function(e,t,n){if($x(e.precondition,t)){var r=e.value.clone(),i=a_(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(e_(t),r).setHasLocalMutations()}}(e,t,n):e instanceof n_?function(e,t,n){if($x(e.precondition,t)){var r=a_(e.fieldTransforms,n,t),i=t.data;i.setAll(r_(e)),i.setAll(r),t.convertToFoundDocument(e_(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){$x(e.precondition,t)&&t.convertToNoDocument(Gw.min())}(e,t)}function Xx(e,t){var n,r=null,i=Yo(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Mx(a.transform,o||null);null!=u&&(null==r&&(r=Ob.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Zx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jx&&t instanceof jx||e instanceof Vx&&t instanceof Vx?qw(e.elements,t.elements,gb):e instanceof Bx&&t instanceof Bx?gb(e.k,t.k):e instanceof Fx&&t instanceof Fx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function e_(e){return e.isFoundDocument()?e.version:Gw.min()}var t_=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Oa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ma(n)}(Qx),n_=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Oa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ma(n)}(Qx);function r_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function i_(e,t,n){var r=new Map;Ew(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Lx(o,u,n[i]))}return r}function a_(e,t,n){var r,i=new Map,a=Yo(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ox(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var o_,u_,s_=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ma(n)}(Qx),c_=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ma(n)}(Qx),l_=Ma((function e(t){Oa(this,e),this.count=t}));function f_(e){switch(e){default:return Sw();case Cw.CANCELLED:case Cw.UNKNOWN:case Cw.DEADLINE_EXCEEDED:case Cw.RESOURCE_EXHAUSTED:case Cw.INTERNAL:case Cw.UNAVAILABLE:case Cw.UNAUTHENTICATED:return!1;case Cw.INVALID_ARGUMENT:case Cw.NOT_FOUND:case Cw.ALREADY_EXISTS:case Cw.PERMISSION_DENIED:case Cw.FAILED_PRECONDITION:case Cw.ABORTED:case Cw.OUT_OF_RANGE:case Cw.UNIMPLEMENTED:case Cw.DATA_LOSS:return!0}}function h_(e){if(void 0===e)return xw("GRPC error has no .code"),Cw.UNKNOWN;switch(e){case o_.OK:return Cw.OK;case o_.CANCELLED:return Cw.CANCELLED;case o_.UNKNOWN:return Cw.UNKNOWN;case o_.DEADLINE_EXCEEDED:return Cw.DEADLINE_EXCEEDED;case o_.RESOURCE_EXHAUSTED:return Cw.RESOURCE_EXHAUSTED;case o_.INTERNAL:return Cw.INTERNAL;case o_.UNAVAILABLE:return Cw.UNAVAILABLE;case o_.UNAUTHENTICATED:return Cw.UNAUTHENTICATED;case o_.INVALID_ARGUMENT:return Cw.INVALID_ARGUMENT;case o_.NOT_FOUND:return Cw.NOT_FOUND;case o_.ALREADY_EXISTS:return Cw.ALREADY_EXISTS;case o_.PERMISSION_DENIED:return Cw.PERMISSION_DENIED;case o_.FAILED_PRECONDITION:return Cw.FAILED_PRECONDITION;case o_.ABORTED:return Cw.ABORTED;case o_.OUT_OF_RANGE:return Cw.OUT_OF_RANGE;case o_.UNIMPLEMENTED:return Cw.UNIMPLEMENTED;case o_.DATA_LOSS:return Cw.DATA_LOSS;default:return Sw()}}(u_=o_||(o_={}))[u_.OK=0]="OK",u_[u_.CANCELLED=1]="CANCELLED",u_[u_.UNKNOWN=2]="UNKNOWN",u_[u_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",u_[u_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",u_[u_.NOT_FOUND=5]="NOT_FOUND",u_[u_.ALREADY_EXISTS=6]="ALREADY_EXISTS",u_[u_.PERMISSION_DENIED=7]="PERMISSION_DENIED",u_[u_.UNAUTHENTICATED=16]="UNAUTHENTICATED",u_[u_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",u_[u_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",u_[u_.ABORTED=10]="ABORTED",u_[u_.OUT_OF_RANGE=11]="OUT_OF_RANGE",u_[u_.UNIMPLEMENTED=12]="UNIMPLEMENTED",u_[u_.INTERNAL=13]="INTERNAL",u_[u_.UNAVAILABLE=14]="UNAVAILABLE",u_[u_.DATA_LOSS=15]="DATA_LOSS";var d_=function(){function e(t,n){Oa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ma(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){$w(this.inner,(function(t,n){var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Qw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),p_=function(){function e(t,n){Oa(this,e),this.comparator=t,this.root=n||m_.EMPTY}return Ma(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,m_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,m_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new v_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new v_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new v_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new v_(this.root,e,this.comparator,!0)}}]),e}(),v_=function(){function e(t,n,r,i){Oa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ma(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),m_=function(){function e(t,n,r,i,a){Oa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ma(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Sw();if(this.right.isRed())throw Sw();var e=this.left.check();if(e!==this.right.check())throw Sw();return e+(this.isRed()?0:1)}}]),e}();m_.EMPTY=null,m_.RED=!0,m_.BLACK=!1,m_.EMPTY=new(function(){function e(){Oa(this,e),this.size=0}return Ma(e,[{key:"key",get:function(){throw Sw()}},{key:"value",get:function(){throw Sw()}},{key:"color",get:function(){throw Sw()}},{key:"left",get:function(){throw Sw()}},{key:"right",get:function(){throw Sw()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new m_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var y_=function(){function e(t){Oa(this,e),this.comparator=t,this.data=new p_(this.comparator)}return Ma(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new g_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new g_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),g_=function(){function e(t){Oa(this,e),this.iter=t}return Ma(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function k_(e){return e.hasNext()?e.getNext():void 0}var w_=new p_(pb.comparator);function b_(){return w_}var x_=new p_(pb.comparator);function __(){return x_}function I_(){return new d_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var S_=new p_(pb.comparator),E_=new y_(pb.comparator);function T_(){for(var e=E_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var C_=new y_(Bw);function A_(){return C_}var N_=function(){function e(t,n,r,i,a){Oa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ma(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,P_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Gw.min(),r,A_(),b_(),T_())}}]),e}(),P_=function(){function e(t,n,r,i,a){Oa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ma(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(tb.EMPTY_BYTE_STRING,n,T_(),T_(),T_())}}]),e}(),R_=Ma((function e(t,n,r,i){Oa(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),D_=Ma((function e(t,n){Oa(this,e),this.targetId=t,this.$=n})),O_=Ma((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Oa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),L_=function(){function e(){Oa(this,e),this.B=0,this.L=j_(),this.U=tb.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return Ma(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=T_(),t=T_(),n=T_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sw()}})),new P_(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=j_()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),M_=function(){function e(t){Oa(this,e),this.nt=t,this.st=new Map,this.it=b_(),this.rt=F_(),this.ot=new y_(Bw)}return Ma(e,[{key:"ut",value:function(e){var t,n=Yo(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Yo(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Sw()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Yb(i))if(0===n){var a=new pb(i.path);this.ct(t,a,Mb.newNoDocument(a,Gw.min()))}else Ew(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Yb(a.target)){var o=new pb(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Mb.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=T_();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new N_(e,n,this.ot,this.it,r);return this.it=b_(),this.rt=F_(),this.ot=new y_(Bw),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new L_,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new y_(Bw),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||bw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new L_),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function F_(){return new p_(pb.comparator)}function j_(){return new p_(pb.comparator)}var U_={asc:"ASCENDING",desc:"DESCENDING"},V_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z_=Ma((function e(t,n){Oa(this,e),this.databaseId=t,this.N=n}));function B_(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function q_(e,t){return e.N?t.toBase64():t.toUint8Array()}function W_(e,t){return B_(e,t.toTimestamp())}function K_(e){return Ew(!!e),Gw.fromTimestamp(function(e){var t=rb(e);return new Kw(t.seconds,t.nanos)}(e))}function G_(e,t){return function(e){return new Jw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function H_(e){var t=Jw.fromString(e);return Ew(mI(t)),t}function $_(e,t){return G_(e.databaseId,t.path)}function Q_(e,t){var n=H_(t);if(n.get(1)!==e.databaseId.projectId)throw new Aw(Cw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Aw(Cw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pb(Z_(n))}function Y_(e,t){return G_(e.databaseId,t)}function J_(e){var t=H_(e);return 4===t.length?Jw.emptyPath():Z_(t)}function X_(e){return new Jw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Z_(e){return Ew(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function eI(e,t,n){return{name:$_(e,t),fields:n.value.mapValue.fields}}function tI(e,t,n){var r=Q_(e,t.name),i=K_(t.updateTime),a=new Ob({mapValue:{fields:t.fields}}),o=Mb.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function nI(e,t){return"found"in t?function(e,t){Ew(!!t.found),t.found.name,t.found.updateTime;var n=Q_(e,t.found.name),r=K_(t.found.updateTime),i=new Ob({mapValue:{fields:t.found.fields}});return Mb.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ew(!!t.missing),Ew(!!t.readTime);var n=Q_(e,t.missing),r=K_(t.readTime);return Mb.newNoDocument(n,r)}(e,t):Sw()}function rI(e,t){var n;if(t instanceof t_)n={update:eI(e,t.key,t.value)};else if(t instanceof s_)n={delete:$_(e,t.key)};else if(t instanceof n_)n={update:eI(e,t.key,t.data),updateMask:vI(t.fieldMask)};else{if(!(t instanceof c_))return Sw();n={verify:$_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bx)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Sw()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:W_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sw()}(e,t.precondition)),n}function iI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Hx.updateTime(K_(e.updateTime)):void 0!==e.exists?Hx.exists(e.exists):Hx.none()}(t.currentDocument):Hx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ew("REQUEST_TIME"===t.setToServerValue),n=new Fx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new jx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Vx(i)}else"increment"in t?n=new Bx(e,t.increment):Sw();var a=Zw.fromServerFormat(t.fieldPath);return new Kx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Q_(e,t.update.name),a=new Ob({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new eb(t.map((function(e){return Zw.fromServerFormat(e)})))}(t.updateMask);return new n_(i,a,o,n,r)}return new t_(i,a,n,r)}if(t.delete){var u=Q_(e,t.delete);return new s_(u,n)}if(t.verify){var s=Q_(e,t.verify);return new c_(s,n)}return Sw()}function aI(e,t){return{documents:[Y_(e,t.path)]}}function oI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Y_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Y_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Cb(e.value))return{unaryFilter:{field:fI(e.field),op:"IS_NAN"}};if(Tb(e.value))return{unaryFilter:{field:fI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cb(e.value))return{unaryFilter:{field:fI(e.field),op:"IS_NOT_NAN"}};if(Tb(e.value))return{unaryFilter:{field:fI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fI(e.field),op:lI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:fI(e.field),direction:cI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||fb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function uI(e){var t=J_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ew(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=sI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new sx(hI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return fb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ux(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ux(n,t)}(n.endAt)),dx(t,i,u,o,s,"F",c,l)}function sI(e){return e?void 0!==e.unaryFilter?[pI(e)]:void 0!==e.fieldFilter?[dI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return sI(e)})).reduce((function(e,t){return e.concat(t)})):Sw():[]}function cI(e){return U_[e]}function lI(e){return V_[e]}function fI(e){return{fieldPath:e.canonicalString()}}function hI(e){return Zw.fromServerFormat(e.fieldPath)}function dI(e){return Xb.create(hI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sw()}}(e.fieldFilter.op),e.fieldFilter.value)}function pI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hI(e.unaryFilter.field);return Xb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hI(e.unaryFilter.field);return Xb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hI(e.unaryFilter.field);return Xb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hI(e.unaryFilter.field);return Xb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sw()}}function vI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function yI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kI(t)),t=gI(e.get(n),t);return kI(t)}function gI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function kI(e){return e+"\x01\x01"}function wI(e){var t=e.length;if(Ew(t>=2),2===t)return Ew("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Sw(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Sw()}a=o+2}return new Jw(r)}var bI=["userId","batchId"];function xI(e,t){return[e,yI(t)]}function _I(e,t,n){return[e,yI(t),n]}var II={},SI=["prefixPath","collectionGroup","readTime","documentId"],EI=["prefixPath","collectionGroup","documentId"],TI=["collectionGroup","readTime","prefixPath","documentId"],CI=["canonicalId","targetId"],AI=["targetId","path"],NI=["path","targetId"],PI=["collectionId","parent"],RI=["indexId","uid"],DI=["uid","sequenceNumber"],OI=["indexId","uid","arrayValue","directionalValue","documentKey"],LI=["indexId","uid","documentKey"],MI=["userId","collectionPath","documentId"],FI=["userId","collectionPath","largestBatchId"],jI=["userId","collectionGroup","largestBatchId"],UI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),VI=[].concat(Da(UI),["documentOverlays"]),zI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BI=[].concat(zI,["indexConfiguration","indexState","indexEntries"]),qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WI=function(){function e(){Oa(this,e),this.onCommittedListeners=[]}return Ma(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),KI=function(){function e(t){var n=this;Oa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ma(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Sw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Yo(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),GI=function(){function e(t,n){var r=this;Oa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Nw,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new QI(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=eS(e.target.error);r.At.reject(new QI(t,n))}}return Ma(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(bw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new JI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new QI(n,t)}}}]),e}(),HI=function(){function e(t,n,r){Oa(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(su())&&xw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ma(e,[{key:"Nt",value:function(){var e=Lu(eu().mark((function e(t){var n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return bw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new QI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Aw(Cw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Aw(Cw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new QI(t,n))},i.onupgradeneeded=function(e){bw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){bw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Lu(eu().mark((function e(t,n,r,i){var a,o,u,s,c=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(eu().mark((function e(){var n,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=GI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),KI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,bw("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return bw("SimpleDb","Removing database:",e),XI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!pu())return!1;if(e.St())return!0;var t=su(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),$I=function(){function e(t){Oa(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Ma(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return XI(this.Ft.delete())}}]),e}(),QI=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,Cw.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ma(n)}(Aw);function YI(e){return"IndexedDbTransactionError"===e.name}var JI=function(){function e(t){Oa(this,e),this.store=t}return Ma(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(bw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),XI(n)}},{key:"add",value:function(e){return bw("SimpleDb","ADD",this.store.name,e,e),XI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return XI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),bw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return bw("SimpleDb","DELETE",this.store.name,e),XI(this.store.delete(e))}},{key:"count",value:function(){return bw("SimpleDb","COUNT",this.store.name),XI(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new KI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new KI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){bw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new KI((function(n,r){t.onerror=function(e){var t=eS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new KI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new $I(i),o=t(i.primaryKey,i.value,a);if(o instanceof KI){var u=o.catch((function(e){return a.done(),KI.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return KI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function XI(e){return new KI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=eS(e.target.error);n(t)}}))}var ZI=!1;function eS(e){var t=HI.Vt(su());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Aw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ZI||(ZI=!0,setTimeout((function(){throw r}),0)),r}}return e}var tS=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Ma(n)}(WI);function nS(e,t){var n=Tw(e);return HI.xt(n.Ht,t)}var rS=function(){function e(t,n,r,i){Oa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ma(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Yo(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Jx(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Yo(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Jx(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Gw.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),T_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qw(this.mutations,e.mutations,(function(e,t){return Zx(e,t)}))&&qw(this.baseMutations,e.baseMutations,(function(e,t){return Zx(e,t)}))}}]),e}(),iS=function(){function e(t,n,r,i){Oa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ma(e,null,[{key:"from",value:function(t,n,r){Ew(t.mutations.length===r.length);for(var i=S_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),aS=function(){function e(t,n){Oa(this,e),this.largestBatchId=t,this.mutation=n}return Ma(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),oS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tb.EMPTY_BYTE_STRING;Oa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ma(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),uS=Ma((function e(t){Oa(this,e),this.Jt=t}));function sS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:B_(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lS(t.version)};else{if(!t.isUnknownDocument())return Sw();r.unknownDocument={path:n.path.toArray(),version:lS(t.version)}}return r}function cS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fS(e){var t=new Kw(e.seconds,e.nanoseconds);return Gw.fromTimestamp(t)}function hS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return iI(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return iI(e.Jt,t)})),u=Kw.fromMillis(t.localWriteTimeMs);return new rS(t.batchId,u,n,o)}function dS(e){var t,n,r=fS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?fS(e.lastLimboFreeSnapshotVersion):Gw.min();return void 0!==e.query.documents?(Ew(1===(n=e.query).documents.length),t=bx(px(J_(n.documents[0])))):t=function(e){return bx(uI(e))}(e.query),new oS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tb.fromBase64String(e.resumeToken))}function pS(e,t){var n,r=lS(t.snapshotVersion),i=lS(t.lastLimboFreeSnapshotVersion);n=Yb(t.target)?aI(e.Jt,t.target):oI(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$b(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function vS(e){var t=uI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xx(t,t.limit,"L"):t}function mS(e,t){return new aS(t.largestBatchId,iI(e.Jt,t.overlayMutation))}function yS(e,t){var n=t.path.lastSegment();return[e,yI(t.path.popLast()),n]}var gS=function(){function e(){Oa(this,e)}return Ma(e,[{key:"getBundleMetadata",value:function(e,t){return kS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:fS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return kS(e).put({bundleId:(n=t).id,createTime:lS(K_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return wS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:vS(t.bundledQuery),readTime:fS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return wS(e).put(function(e){return{name:e.name,readTime:lS(K_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function kS(e){return nS(e,"bundles")}function wS(e){return nS(e,"namedQueries")}var bS=function(){function e(t,n){Oa(this,e),this.M=t,this.userId=n}return Ma(e,[{key:"getOverlay",value:function(e,t){var n=this;return xS(e).get(yS(this.userId,t)).next((function(e){return e?mS(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new aS(t,a);i.push(r.Xt(e,o))})),KI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(yI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(xS(e).Qt("collectionPathOverlayIndex",i))})),KI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=I_(),a=yI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return xS(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Yo(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=mS(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=I_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xS(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=mS(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return xS(e).put(function(e,t,n){var r=c(yS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rI(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function xS(e){return nS(e,"documentOverlays")}var _S=function(){function e(){Oa(this,e)}return Ma(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ib(e.integerValue));else if("doubleValue"in e){var n=ib(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),hb(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ab(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Pb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Sw()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),pb.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function IS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function SS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=IS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}_S.fe=new _S;var ES=function(){function e(){Oa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ma(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Yo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Yo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=SS(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=SS(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),TS=function(){function e(t){Oa(this,e),this.De=t}return Ma(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),CS=function(){function e(t){Oa(this,e),this.De=t}return Ma(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),AS=function(){function e(){Oa(this,e),this.De=new ES,this.Ce=new TS(this.De),this.xe=new CS(this.De)}return Ma(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),NS=function(){function e(t,n,r,i){Oa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ma(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function PS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=RS(e.arrayValue,t.arrayValue))?n:0!==(n=RS(e.directionalValue,t.directionalValue))?n:pb.comparator(e.documentKey,t.documentKey)}function RS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var DS=function(){function e(t){Oa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Yo(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ma(e,[{key:"$e",value:function(e){var t=jb(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Ub(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Yo(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),OS=function(){function e(){Oa(this,e),this.qe=new LS}return Ma(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),KI.resolve()}},{key:"getCollectionParents",value:function(e,t){return KI.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return KI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return KI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return KI.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return KI.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return KI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return KI.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return KI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return KI.resolve()}}]),e}(),LS=function(){function e(){Oa(this,e),this.index={}}return Ma(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new y_(Jw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new y_(Jw.comparator)).toArray()}}]),e}(),MS=new Uint8Array(0),FS=function(){function e(t){Oa(this,e),this.user=t,this.Ge=new LS,this.Ke=new d_((function(e){return $b(e)}),(function(e,t){return Qb(e,t)})),this.uid=t.uid||""}return Ma(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:yI(i)};return jS(e).put(a)}return KI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ww(t),""],!1,!0);return jS(e).qt(r).next((function(e){var r,i=Yo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(wI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=VS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=VS(e),r=zS(e),i=US(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=US(e),i=!0,a=new Map;return KI.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=T_();return KI.forEach(a,(function(i,a){var o;bw("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat($b(t)));var u=function(e,t){var n=jb(t);if(void 0===n)return null;var r,i=Yo(Jb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Yo(Ub(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Yo(Jb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Yo(Ub(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Yo(Jb(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?mb:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ib(lb.empty(),pb.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Sw();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=mb}Rb(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Rb(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new ux(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Yo(Ub(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Yo(Jb(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ib(lb.empty(),pb.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?vb:Sw(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=vb}Db(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Db(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new ux(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return KI.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new pb(wI(t.documentKey)))}))}))}))})).next((function(){return e}))}return KI.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):MS,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,Da(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new NS(e,pb.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new NS(e,pb.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new NS(e,pb.empty(),MS,MS)}},{key:"getFieldIndex",value:function(e,t){var n=new DS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new AS,i=Yo(Ub(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);_S.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new AS;return _S.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new AS);var i,a=0,o=Yo(Ub(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Yo(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Eb(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);_S.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=Da(e),a=[],o=Yo(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Yo(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new AS;f.seed(l.Se()),_S.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Xb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=VS(e),i=zS(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return KI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new zb(t.sequenceNumber,new Wb(fS(t.readTime),new pb(wI(t.documentKey)),t.largestBatchId)):zb.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Vb(Zw.fromServerFormat(n),r)}));return new Fb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=VS(e),a=zS(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return KI.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:lS(r.readTime),documentKey:yI(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return KI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?KI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),KI.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?KI.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return US(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:yI(t.key.path)})}},{key:"cn",value:function(e,t,n){return US(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,yI(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=US(e),i=new y_(PS);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,yI(t.path)])},(function(e,r){i=i.add(new NS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new y_(PS),r=this.Ze(t,e);if(null==r)return n;var i=jb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Eb(a)){var o,u=Yo(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new NS(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new NS(t.indexId,e.key,MS,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;bw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=k_(a),s=k_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=k_(o)):l?(i(u),u=k_(a)):(u=k_(a),s=k_(o))}}(n,r,PS,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),KI.waitFor(a)}},{key:"sn",value:function(e){var t=1;return zS(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return PS(e,t)})).filter((function(e,t,n){return!t||0!==PS(e,n[t-1])}));var r=[];r.push(e);var i,a=Yo(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=PS(o,e),s=PS(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function jS(e){return nS(e,"collectionParents")}function US(e){return nS(e,"indexEntries")}function VS(e){return nS(e,"indexConfiguration")}function zS(e){return nS(e,"indexState")}var BS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=function(){function e(t,n,r){Oa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ma(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function WS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ew(1===u)})));var c,l=[],f=Yo(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=_I(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return KI.waitFor(a).next((function(){return l}))}function KS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sw();t=e.noDocument}return JSON.stringify(t).length}qS.DEFAULT_COLLECTION_PERCENTILE=10,qS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qS.DEFAULT=new qS(41943040,qS.DEFAULT_COLLECTION_PERCENTILE,qS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qS.DISABLED=new qS(-1,0,0);var GS=function(){function e(t,n,r,i){Oa(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Ma(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $S(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=QS(e),o=$S(e);return o.add({}).next((function(u){Ew("number"==typeof u);var s,c=new rS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rI(e.Jt,t)})),i=n.mutations.map((function(t){return rI(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new y_((function(e,t){return Bw(e.canonicalString(),t.canonicalString())})),d=Yo(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=_I(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,II))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),KI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return $S(e).get(t).next((function(e){return e?(Ew(e.userId===n.userId),hS(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?KI.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return $S(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ew(t.batchId>=r),a=hS(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $S(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $S(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return hS(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=xI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return QS(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=wI(l);if(s===n.userId&&t.path.isEqual(h))return $S(e).get(f).next((function(e){if(!e)throw Sw();Ew(e.userId===n.userId),a.push(hS(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new y_(Bw),i=[];return t.forEach((function(t){var a=xI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=QS(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=wI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),KI.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=xI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new y_(Bw);return QS(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=wI(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push($S(e).get(t).next((function(e){if(null===e)throw Sw();Ew(e.userId===n.userId),r.push(hS(n.M,e))})))})),KI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return WS(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),KI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return KI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return QS(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=wI(e[1]);i.push(a)}else r.done()})).next((function(){Ew(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HS(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return YS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ew(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HS(e,t,n){var r=xI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return QS(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function $S(e){return nS(e,"mutations")}function QS(e){return nS(e,"documentMutations")}function YS(e){return nS(e,"mutationQueues")}var JS=function(){function e(t){Oa(this,e),this.wn=t}return Ma(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),XS=function(){function e(t,n){Oa(this,e),this.referenceDelegate=t,this.M=n}return Ma(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new JS(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Gw.fromTimestamp(new Kw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ZS(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Ew(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ZS(e).Wt((function(o,u){var s=dS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return KI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ZS(e).Wt((function(e,n){var r=dS(n);t(r)}))}},{key:"yn",value:function(e){return eE(e).get("targetGlobalKey").next((function(e){return Ew(null!==e),e}))}},{key:"pn",value:function(e,t){return eE(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return ZS(e).put(pS(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=$b(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ZS(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=dS(n);Qb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=tE(e);return t.forEach((function(t){var o=yI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),KI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=tE(e);return KI.forEach(t,(function(t){var a=yI(t.path);return KI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=tE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=tE(e),i=T_();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=wI(e[1]),a=new pb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=yI(t.path),r=IDBKeyRange.bound([n],[Ww(n)],!1,!0),i=0;return tE(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return ZS(e).get(t).next((function(e){return e?dS(e):null}))}}]),e}();function ZS(e){return nS(e,"targets")}function eE(e){return nS(e,"targetGlobal")}function tE(e){return nS(e,"targetDocuments")}function nE(e){return rE.apply(this,arguments)}function rE(){return rE=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Cw.FAILED_PRECONDITION&&t.message===qI){e.next=2;break}throw t;case 2:bw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Bw(r,o);return 0===s?Bw(i,u):s}var aE=function(){function e(t){Oa(this,e),this.En=t,this.buffer=new y_(iE),this.An=0}return Ma(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();iE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),oE=function(){function e(t,n){Oa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Ma(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;bw("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!YI(n.t0)){n.next=12;break}bw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,nE(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),uE=function(){function e(t,n){Oa(this,e),this.Sn=t,this.params=n}return Ma(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return KI.resolve(Uw.A);var r=new aE(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bw("LruGarbageCollector","Garbage collection skipped; disabled"),KI.resolve(BS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),BS):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(bw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ww()<=Vu.DEBUG&&bw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),KI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),sE=function(){function e(t,n){Oa(this,e),this.db=t,this.garbageCollector=function(e,t){return new uE(e,t)}(this,n)}return Ma(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return cE(e,n)}},{key:"removeReference",value:function(e,t,n){return cE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return cE(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return YS(e).zt((function(r){return HS(e,r,t).next((function(e){return e&&(n=!0),KI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gw.min()),tE(e).delete([0,yI(o.path)])}))}));i.push(s)}})).next((function(){return KI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return cE(e,t)}},{key:"kn",value:function(e,t){var n,r=tE(e),i=Uw.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Uw.A&&t(new pb(wI(n)),i),i=s,n=u):i=Uw.A})).next((function(){i!==Uw.A&&t(new pb(wI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function cE(e,t){return tE(e).put(function(e,t){return{targetId:0,path:yI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var lE=function(){function e(){Oa(this,e),this.changes=new d_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ma(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Mb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?KI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),fE=function(){function e(t){Oa(this,e),this.M=t}return Ma(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return pE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return pE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],cS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Mb.newInvalidDocument(t);return pE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vE(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:Mb.newInvalidDocument(t)};return pE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vE(t))},(function(e,i){r={document:n.Fn(t,i),size:KS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=b_();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=b_(),i=new p_(pb.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,KS(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return KI.resolve();var r=new y_(yE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(vE(r.first()),vE(r.last())),a=r.getIterator(),o=a.getNext();return pE(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=pb.fromSegments([].concat(Da(t.prefixPath),[t.collectionGroup,t.documentId]));o&&yE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(vE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),cS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pE(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=b_(),i=Yo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(pb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=b_(),o=mE(t,n),u=mE(t,Wb.max());return pE(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(pb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new hE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return dE(e).get("remoteDocumentGlobalKey").next((function(e){return Ew(!!e),e}))}},{key:"On",value:function(e,t){return dE(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=tI(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=pb.fromSegments(t.noDocument.path),i=fS(t.noDocument.readTime);n=Mb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Sw();var a=pb.fromSegments(t.unknownDocument.path),o=fS(t.unknownDocument.version);n=Mb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Kw(e[0],e[1]);return Gw.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Gw.min()))return n}return Mb.newInvalidDocument(e)}}]),e}(),hE=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new d_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ma(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new y_((function(e,t){return Bw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=sS(t.qn.M,o);i=i.add(a.path.popLast());var c=KS(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=sS(t.qn.M,o.convertToNoDocument(Gw.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),KI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(lE);function dE(e){return nS(e,"remoteDocumentGlobal")}function pE(e){return nS(e,"remoteDocumentsV14")}function vE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mE(e,t){var n=t.documentKey.path.toArray();return[e,cS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yE(e,t){var n=e.path.length-t.path.length;return 0!==n?n:pb.comparator(e,t)}var gE=function(){function e(t){Oa(this,e),this.M=t}return Ma(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new GI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bI,{unique:!0}),e.createObjectStore("documentMutations")}(e),kE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=KI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),kE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return KI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:MI});t.createIndex("collectionPathOverlayIndex",FI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:SI});t.createIndex("documentKeyIndex",EI),t.createIndex("collectionGroupIndex",TI)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:RI}).createIndex("sequenceNumberIndex",DI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:OI}).createIndex("documentKeyIndex",LI,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=KS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return KI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return KI.forEach(r,(function(r){Ew(r.userId===n.userId);var i=hS(t.M,r);return WS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Jw(n),o=function(e){return[0,yI(e)]}(a);r.push(t.get(o).next((function(n){return n?KI.resolve():function(n){return t.put({targetId:0,path:yI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return KI.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:PI});var n=t.store("collectionParents"),r=new LS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:yI(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Jw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],wI(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=dS(r),a=pS(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new pb(Jw.fromString(i.document.name).popFirst(5)):i.noDocument?pb.fromSegments(i.noDocument.path):i.unknownDocument?pb.fromSegments(i.unknownDocument.path):Sw()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return KI.waitFor(r)}))}}]),e}();function kE(e){e.createObjectStore("targetDocuments",{keyPath:AI}).createIndex("documentTargetsIndex",NI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CI,{unique:!0}),e.createObjectStore("targetGlobal")}var wE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Oa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Aw(Cw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sE(this,i),this.cs=n+"main",this.M=new uS(s),this.hs=new HI(this.cs,this.Zn,new gE(this.M)),this.ls=new XS(this.referenceDelegate,this.M),this.fs=function(e){return new fE(e)}(this.M),this.ds=new gS,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&xw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ma(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Aw(Cw.FAILED_PRECONDITION,wE);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Uw(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Lu(eu().mark((function n(r){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Lu(eu().mark((function t(n){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return _E(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(YI(t))return bw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return bw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return xE(e).get("owner").next((function(e){return KI.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return _E(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i,a=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=nS(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return KI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Yo(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?KI.resolve(!0):xE(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Aw(Cw.FAILED_PRECONDITION,wE);return!1}}return!(!t.networkEnabled||!t.inForeground)||_E(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&bw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Lu(eu().mark((function e(){var t=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new tS(e,Uw.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return _E(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return GS.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new FS(e)}},{key:"getDocumentOverlayCache",value:function(e){return bS.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;bw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?BI:13===i?zI:12===i?VI:11===i?UI:void Sw();return this.hs.runTransaction(e,o,u,(function(i){return a=new tS(i,r.ts?r.ts.next():Uw.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw xw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Aw(Cw.FAILED_PRECONDITION,qI);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return xE(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Aw(Cw.FAILED_PRECONDITION,wE)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xE(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=xE(e);return n.get("owner").next((function(e){return t.bs(e)?(bw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):KI.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(xw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!lu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return bw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(ym){xw("Failed to set zombie client id.",ym)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(ym){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return HI.vt()}}]),e}();function xE(e){return nS(e,"owner")}function _E(e){return nS(e,"clientMetadata")}function IE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var SE=function(){function e(t,n,r){Oa(this,e),this.fs=t,this.$s=n,this.indexManager=r}return Ma(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Yo(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Yo(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return pb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):kx(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new pb(t)).next((function(e){var t=__();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=__();return this.indexManager.getCollectionParents(e,i).next((function(o){return KI.forEach(o,(function(o){var u=function(e,t){return new hx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Yo(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Yo(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Mb.newInvalidDocument(s),r=r.insert(s,c)),Jx(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ex(t,n)||(r=r.remove(e))})),r}))}}]),e}(),EE=function(){function e(t,n,r,i){Oa(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Ma(e,null,[{key:"Js",value:function(t,n){var r,i=T_(),a=T_(),o=Yo(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),TE=function(){function e(){Oa(this,e)}return Ma(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Gw.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(vx(t)||mx(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(ww()<=Vu.DEBUG&&bw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sx(t)),i.Xs.Ks(e,t,Bb(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new y_(Cx(e));return t.forEach((function(t,r){Ex(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return ww()<=Vu.DEBUG&&bw("QueryEngine","Using full collection scan to execute query:",Sx(t)),this.Xs.Ks(e,t,Wb.min())}}]),e}(),CE=function(){function e(t,n,r,i){Oa(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new p_(Bw),this.ii=new d_((function(e){return $b(e)}),Qb),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return Ma(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new SE(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function AE(e,t,n,r){return new CE(e,t,n,r)}function NE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=T_(),s=Yo(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Yo(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Yo(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Yo(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function RE(e,t){var n=Tw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=KI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ew(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function DE(e){var t=Tw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function OE(e,t){var n=Tw(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(tb.EMPTY_BYTE_STRING,Gw.min()).withLastLimboFreeSnapshotVersion(Gw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=b_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(LE(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Gw.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return KI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function LE(e,t,n){var r=T_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=b_();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Gw.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):bw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ME(e,t){var n=Tw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function FE(e,t){var n=Tw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,KI.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new oS(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function jE(e,t,n){return UE.apply(this,arguments)}function UE(){return UE=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tw(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),YI(e.t1)){e.next=12;break}throw e.t1;case 12:bw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),UE.apply(this,arguments)}function VE(e,t,n){var r=Tw(e),i=Gw.min(),a=T_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Tw(e),i=r.ii.get(n);return void 0!==i?KI.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,bx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:Gw.min(),n?a:T_())})).next((function(e){return qE(r,Tx(t),e),{documents:e,hi:a}}))}))}function zE(e,t){var n=Tw(e),r=Tw(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function BE(e,t){var n=Tw(e),r=n.ri.get(t)||Gw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,Bb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qE(n,t,e),e}))}function qE(e,t,n){var r=Gw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function WE(e,t,n,r){return KE.apply(this,arguments)}function KE(){return KE=Lu(eu().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Tw(t),o=T_(),u=b_(),s=Yo(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,FE(a,function(e){return bx(px(Jw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return LE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function GE(e,t){return HE.apply(this,arguments)}function HE(){return HE=Lu(eu().mark((function e(t,n){var r,i,a,o=arguments;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:T_(),e.next=3,FE(t,bx(vS(n.bundledQuery)));case 3:return i=e.sent,a=Tw(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=K_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(tb.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}var $E=function(){function e(t){Oa(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Ma(e,[{key:"getBundleMetadata",value:function(e,t){return KI.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:K_(n.createTime)}),KI.resolve()}},{key:"getNamedQuery",value:function(e,t){return KI.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:vS(e.bundledQuery),readTime:K_(e.readTime)}}(t)),KI.resolve()}}]),e}(),QE=function(){function e(){Oa(this,e),this.overlays=new p_(pb.comparator),this.mi=new Map}return Ma(e,[{key:"getOverlay",value:function(e,t){return KI.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),KI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),KI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=I_(),i=t.length+1,a=new pb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return KI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new p_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=I_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=I_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return KI.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new aS(t,n));var a=this.mi.get(t);void 0===a&&(a=T_(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),YE=function(){function e(){Oa(this,e),this.gi=new y_(JE.yi),this.pi=new y_(JE.Ii)}return Ma(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new JE(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new JE(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new pb(new Jw([])),r=new JE(n,e),i=new JE(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new pb(new Jw([])),n=new JE(t,e),r=new JE(t,e+1),i=T_();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new JE(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),JE=function(){function e(t,n){Oa(this,e),this.key=t,this.Vi=n}return Ma(e,null,[{key:"yi",value:function(e,t){return pb.comparator(e.key,t.key)||Bw(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Bw(e.Vi,t.Vi)||pb.comparator(e.key,t.key)}}]),e}(),XE=function(){function e(t,n){Oa(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new y_(JE.yi)}return Ma(e,[{key:"checkEmpty",value:function(e){return KI.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new rS(i,t,n,r);this.$s.push(a);var o,u=Yo(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new JE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return KI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return KI.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return KI.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return KI.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return KI.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new JE(t,0),i=new JE(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),KI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new y_(Bw);return t.forEach((function(e){var t=new JE(e,0),i=new JE(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),KI.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pb.isDocumentKey(i)||(i=i.child(""));var a=new JE(new pb(i),0),o=new y_(Bw);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),KI.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ew(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return KI.forEach(t.mutations,(function(i){var a=new JE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new JE(t,0),r=this.Si.firstAfterOrEqual(n);return KI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,KI.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),ZE=function(){function e(t){Oa(this,e),this.ki=t,this.docs=new p_(pb.comparator),this.size=0}return Ma(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return KI.resolve(n?n.document.mutableCopy():Mb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=b_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Mb.newInvalidDocument(e))})),KI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=b_(),i=new pb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Kb(qb(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return KI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Sw()}},{key:"Mi",value:function(e,t){return KI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eT(this)}},{key:"getSize",value:function(e){return KI.resolve(this.size)}}]),e}(),eT=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).qn=e,r}return Ma(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),KI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(lE),tT=function(){function e(t){Oa(this,e),this.persistence=t,this.Oi=new d_((function(e){return $b(e)}),Qb),this.lastRemoteSnapshotVersion=Gw.min(),this.highestTargetId=0,this.Fi=0,this.$i=new YE,this.targetCount=0,this.Bi=JS.mn()}return Ma(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),KI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return KI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return KI.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),KI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),KI.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new JS(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,KI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),KI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,KI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),KI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return KI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return KI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),KI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),KI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),KI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return KI.resolve(n)}},{key:"containsKey",value:function(e,t){return KI.resolve(this.$i.containsKey(t))}}]),e}(),nT=function(){function e(t,n){var r=this;Oa(this,e),this.Li={},this.overlays={},this.ts=new Uw(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new tT(this),this.indexManager=new OS,this.fs=new ZE((function(e){return r.referenceDelegate.Ui(e)})),this.M=new uS(n),this.ds=new $E(this.M)}return Ma(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new XE(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;bw("MemoryPersistence","Starting transaction:",e);var i=new rT(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return KI.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rT=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ma(n)}(WI),iT=function(){function e(t){Oa(this,e),this.persistence=t,this.Qi=new YE,this.ji=null}return Ma(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Sw()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),KI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),KI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),KI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return KI.forEach(this.zi,(function(r){var i=pb.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Gw.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return KI.or([function(){return KI.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function aT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function uT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sT=function(){function e(t,n,r,i){Oa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ma(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Aw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(xw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),cT=function(){function e(t,n,r){Oa(this,e),this.targetId=t,this.state=n,this.error=r}return Ma(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Aw(i.error.code,i.error.message))),a?new e(t,i.state,r):(xw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),lT=function(){function e(t,n){Oa(this,e),this.clientId=t,this.activeTargetIds=n}return Ma(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=A_(),o=0;i&&o<r.activeTargetIds.length;++o)i=db(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(xw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),fT=function(){function e(t,n){Oa(this,e),this.clientId=t,this.onlineState=n}return Ma(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),hT=function(){function e(){Oa(this,e),this.activeTargetIds=A_()}return Ma(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dT=function(){function e(t,n,r,i,a){Oa(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new p_(Bw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=aT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new hT),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ma(e,[{key:"start",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Yo(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(aT(this.persistenceKey,i)))&&(o=lT.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Yo(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(uT(this.persistenceKey,e));if(n){var r=cT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(uT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return bw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){bw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){bw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(bw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void xw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Lu(eu().mark((function e(){var r,i,a,o,u,s,c;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Uw.A;if(null!=e)try{var n=JSON.parse(e);Ew("number"==typeof n),t=n}catch(e){xw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Uw.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new sT(this.currentUser,e,t,n),i=oT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=oT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=uT(this.persistenceKey,e),i=new cT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return lT.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sT.Ji(new yw(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return cT.Ji(r,t)}},{key:"wr",value:function(e){return fT.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:bw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=A_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),pT=function(){function e(){Oa(this,e),this.Fr=new hT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ma(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new hT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),vT=function(){function e(){Oa(this,e)}return Ma(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),mT=function(){function e(){var t=this;Oa(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return Ma(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){bw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Yo(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){bw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Yo(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gT=function(){function e(t){Oa(this,e),this.jr=t.jr,this.Wr=t.Wr}return Ma(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),kT=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ma(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new vw;o.listenOnce(lw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case cw.NO_ERROR:var t=o.getResponseJson();bw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cw.TIMEOUT:bw("Connection",'RPC "'+e+'" timed out'),a(new Aw(Cw.DEADLINE_EXCEEDED,"Request time out"));break;case cw.HTTP_ERROR:var n=o.getStatus();if(bw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cw).indexOf(t)>=0?t:Cw.UNKNOWN}(r.status);a(new Aw(u,r.message))}else a(new Aw(Cw.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Aw(Cw.UNAVAILABLE,"Connection failed."));break;default:Sw()}}finally{bw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uw(),a=sw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new dw({})),this.uo(o.initMessageHeaders,t,n),cu()||hu()||su().indexOf("Electron/")>=0||du()||su().indexOf("MSAppHost/")>=0||fu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");bw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new gT({jr:function(e){l?bw("Connection","Not sending because WebChannel is closed:",e):(c||(bw("Connection","Opening WebChannel transport."),s.open(),c=!0),bw("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,pw.EventType.OPEN,(function(){l||bw("Connection","WebChannel transport opened.")})),h(s,pw.EventType.CLOSE,(function(){l||(l=!0,bw("Connection","WebChannel transport closed"),f.eo())})),h(s,pw.EventType.ERROR,(function(e){l||(l=!0,_w("Connection","WebChannel transport errored:",e),f.eo(new Aw(Cw.UNAVAILABLE,"The operation could not be completed")))})),h(s,pw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ew(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=o_[e];if(void 0!==t)return h_(t)}(a),u=i.message;void 0===o&&(o=Cw.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Aw(o,u)),s.close()}else bw("Connection","WebChannel received:",n),f.no(n)}})),h(a,fw.STAT_EVENT,(function(e){e.stat===hw.PROXY?bw("Connection","Detected buffering proxy"):e.stat===hw.NOPROXY&&bw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Oa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ma(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);bw("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return bw("RestConnection","Received: ",e),e}),(function(t){throw _w("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=yT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function wT(){return"undefined"!=typeof window?window:null}function bT(){return"undefined"!=typeof document?document:null}function xT(e){return new z_(e,!0)}var _T=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Oa(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Ma(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&bw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),IT=function(){function e(t,n,r,i,a,o,u,s){Oa(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new _T(t,n)}return Ma(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Cw.RESOURCE_EXHAUSTED?(xw(n.toString()),xw("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Cw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Aw(Cw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return bw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(bw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ST=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Oa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Ma(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ew(void 0===t||"string"==typeof t),tb.fromBase64String(t||"")):(Ew(void 0===t||t instanceof Uint8Array),tb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Cw.UNKNOWN:h_(e.code);return new Aw(t,e.message||"")}(o);n=new O_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Q_(e,s.document.name),l=K_(s.document.updateTime),f=new Ob({mapValue:{fields:s.document.fields}}),h=Mb.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new R_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Q_(e,v.document),y=v.readTime?K_(v.readTime):Gw.min(),g=Mb.newNoDocument(m,y),k=v.removedTargetIds||[];n=new R_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=Q_(e,w.document),x=w.removedTargetIds||[];n=new R_([],x,b,null)}else{if(!("filter"in t))return Sw();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new l_(I),E=_.targetId;n=new D_(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Gw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gw.min():t.readTime?K_(t.readTime):Gw.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=X_(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Yb(r)?{documents:aI(e,r)}:{query:oI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=q_(e,t.resumeToken):t.snapshotVersion.compareTo(Gw.min())>0&&(n.readTime=B_(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sw()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=X_(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(IT),ET=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Oa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return Ma(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Ks(Ea(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Ew(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Ew(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?K_(e.updateTime):K_(t);return n.isEqual(Gw.min())&&(n=K_(t)),new Gx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=K_(e.commitTime);return this.listener.Jo(n,t)}return Ew(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=X_(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rI(t.M,e)}))};this.Oo(n)}}]),n}(IT),TT=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a){var o;return Oa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return Ma(n,[{key:"tu",value:function(){if(this.Zo)throw new Aw(Cw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Aw(Cw.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Aw(Cw.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Ma((function e(){Oa(this,e)}))}()),CT=function(){function e(t,n){Oa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Ma(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(xw(t),this.su=!1):bw("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),AT=Ma((function e(t,n,r,i,a){var o=this;Oa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=VT(o),!e.t0){e.next=5;break}return bw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tw(t)).lu.add(4),e.next=4,RT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,NT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new CT(r,i)}));function NT(e){return PT.apply(this,arguments)}function PT(){return PT=Lu(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!VT(t)){e.next=18;break}n=Yo(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),PT.apply(this,arguments)}function RT(e){return DT.apply(this,arguments)}function DT(){return DT=Lu(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yo(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),DT.apply(this,arguments)}function OT(e,t){var n=Tw(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),UT(n)?jT(n):vC(n).Co()&&MT(n,t))}function LT(e,t){var n=Tw(e),r=vC(n);n.hu.delete(t),r.Co()&&FT(n,t),0===n.hu.size&&(r.Co()?r.ko():VT(n)&&n._u.set("Unknown"))}function MT(e,t){e.wu.Z(t.targetId),vC(e).Qo(t)}function FT(e,t){e.wu.Z(t),vC(e).jo(t)}function jT(e){e.wu=new M_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),vC(e).start(),e._u.iu()}function UT(e){return VT(e)&&!vC(e).Do()&&e.hu.size>0}function VT(e){return 0===Tw(e).lu.size}function zT(e){e.wu=void 0}function BT(e){return qT.apply(this,arguments)}function qT(){return qT=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){MT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function WT(e,t){return KT.apply(this,arguments)}function KT(){return KT=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zT(t),UT(t)?(t._u.uu(n),jT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function GT(e,t,n){return HT.apply(this,arguments)}function HT(){return HT=Lu(eu().mark((function e(t,n,r){var i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof O_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Yo(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$T(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof R_?t.wu.ut(n):n instanceof D_?t.wu._t(n):t.wu.ht(n),r.isEqual(Gw.min())){e.next=29;break}return e.prev=14,e.next=17,DE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(tb.EMPTY_BYTE_STRING,n.snapshotVersion)),FT(e,t);var r=new oS(n.target,t,1,n.sequenceNumber);MT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$T(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),HT.apply(this,arguments)}function $T(e,t,n){return QT.apply(this,arguments)}function QT(){return QT=Lu(eu().mark((function e(t,n,r){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YI(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,RT(t);case 5:t._u.set("Offline"),r||(r=function(){return DE(t.localStore)}),t.asyncQueue.enqueueRetryable(Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,NT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e,t){return t().catch((function(n){return $T(e,n,t)}))}function JT(e){return XT.apply(this,arguments)}function XT(){return XT=Lu(eu().mark((function e(t){var n,r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tw(t),r=mC(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!ZT(n)){e.next=19;break}return e.prev=3,e.next=6,ME(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,eC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$T(n,e.t0);case 17:e.next=2;break;case 19:tC(n)&&nC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),XT.apply(this,arguments)}function ZT(e){return VT(e)&&e.cu.length<10}function eC(e,t){e.cu.push(t);var n=mC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function tC(e){return VT(e)&&!mC(e).Do()&&e.cu.length>0}function nC(e){mC(e).start()}function rC(e){return iC.apply(this,arguments)}function iC(){return iC=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e){return oC.apply(this,arguments)}function oC(){return oC=Lu(eu().mark((function e(t){var n,r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mC(t),r=Yo(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=iS.from(i,n,r),e.next=3,YT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,JT(t);case 5:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=Lu(eu().mark((function e(t,n){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&mC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f_(i=n.code)||i===Cw.ABORTED){e.next=7;break}return r=t.cu.shift(),mC(t).No(),e.next=5,YT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,JT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:tC(t)&&nC(t);case 5:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Tw(t)).asyncQueue.verifyOperationInProgress(),bw("RemoteStore","RemoteStore received new credentials"),i=VT(r),r.lu.add(3),e.next=6,RT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,NT(r);case 12:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tw(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,NT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,RT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e){return e.mu||(e.mu=function(e,t,n){var r=Tw(e);return r.tu(),new ST(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:BT.bind(null,e),Jr:WT.bind(null,e),Ko:GT.bind(null,e)}),e.fu.push(function(){var t=Lu(eu().mark((function t(n){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),UT(e)?jT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:zT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function mC(e){return e.gu||(e.gu=function(e,t,n){var r=Tw(e);return r.tu(),new ET(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:rC.bind(null,e),Jr:cC.bind(null,e),Yo:aC.bind(null,e),Jo:uC.bind(null,e)}),e.fu.push(function(){var t=Lu(eu().mark((function t(n){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,JT(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(bw("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var yC=function(){function e(t,n,r,i,a){Oa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Nw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ma(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Aw(Cw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function gC(e,t){if(xw("AsyncQueue","".concat(t,": ").concat(e)),YI(e))return new Aw(Cw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var kC=function(){function e(t){Oa(this,e),this.comparator=t?function(e,n){return t(e,n)||pb.comparator(e.key,n.key)}:function(e,t){return pb.comparator(e.key,t.key)},this.keyedMap=__(),this.sortedSet=new p_(this.comparator)}return Ma(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),wC=function(){function e(){Oa(this,e),this.yu=new p_(pb.comparator)}return Ma(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Sw():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),bC=function(){function e(t,n,r,i,a,o,u,s){Oa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ma(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,kC.emptySet(n),a,r,i,!0,!1)}}]),e}(),xC=Ma((function e(){Oa(this,e),this.Iu=void 0,this.listeners=[]})),_C=Ma((function e(){Oa(this,e),this.queries=new d_((function(e){return Ix(e)}),_x),this.onlineState="Unknown",this.Tu=new Set}));function IC(e,t){return SC.apply(this,arguments)}function SC(){return SC=Lu(eu().mark((function e(t,n){var r,i,a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tw(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new xC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=gC(e.t0,"Initialization of query '".concat(Sx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&NC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),SC.apply(this,arguments)}function EC(e,t){return TC.apply(this,arguments)}function TC(){return TC=Lu(eu().mark((function e(t,n){var r,i,a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tw(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){var n,r=Tw(e),i=!1,a=Yo(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Yo(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&NC(r)}function AC(e,t,n){var r=Tw(e),i=r.queries.get(t);if(i){var a,o=Yo(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function NC(e){e.Tu.forEach((function(e){e.next()}))}var PC=function(){function e(t,n,r){Oa(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Ma(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Yo(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new bC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=bC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),RC=function(){function e(t,n){Oa(this,e),this.payload=t,this.byteLength=n}return Ma(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),DC=function(){function e(t){Oa(this,e),this.M=t}return Ma(e,[{key:"li",value:function(e){return Q_(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?tI(this.M,e.document,!1):Mb.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return K_(e)}}]),e}(),OC=function(){function e(t,n,r){Oa(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LC(t)}return Ma(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Jw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new DC(this.M),i=Yo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Yo(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||T_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WE(this.localStore,new DC(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Yo(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,GE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function LC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var MC=Ma((function e(t){Oa(this,e),this.key=t})),FC=Ma((function e(t){Oa(this,e),this.key=t})),jC=function(){function e(t,n){Oa(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=T_(),this.mutatedKeys=T_(),this.Lu=Cx(t),this.Uu=new kC(this.Lu)}return Ma(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new wC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=vx(this.query)&&i.size===this.query.limit?i.last():null,c=mx(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ex(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),vx(this.query)||mx(this.query))for(;o.size>this.query.limit;){var l=vx(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sw()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new bC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new wC,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=T_(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new FC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new MC(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=T_();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return bC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),UC=Ma((function e(t,n,r){Oa(this,e),this.query=t,this.targetId=n,this.view=r})),VC=Ma((function e(t){Oa(this,e),this.key=t,this.Xu=!1})),zC=function(){function e(t,n,r,i,a,o){Oa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new d_((function(e){return Ix(e)}),_x),this.ea=new Map,this.na=new Set,this.sa=new p_(pb.comparator),this.ia=new Map,this.ra=new YE,this.oa={},this.ua=new Map,this.aa=JS.gn(),this.onlineState="Unknown",this.ca=void 0}return Ma(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function BC(e,t){return qC.apply(this,arguments)}function qC(){return qC=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LA(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,FE(r.localStore,bx(n));case 8:return u=e.sent,r.isPrimaryClient&&OT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,WC(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e,t,n,r){return KC.apply(this,arguments)}function KC(){return KC=Lu(eu().mark((function e(t,n,r,i){var a,o,u,s,c,l;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Lu(eu().mark((function e(t,n,r,i){var a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,VE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(fA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,VE(t.localStore,n,!0);case 3:return a=e.sent,o=new jC(n,a.hi),u=o.Gu(a.documents),s=P_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),fA(t,r,c.zu),l=new UC(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function GC(e,t){return HC.apply(this,arguments)}function HC(){return HC=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tw(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!_x(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,jE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),LT(r.remoteStore,i.targetId),cA(r,i.targetId)})).catch(nE);case 9:e.next=14;break;case 11:return cA(r,i.targetId),e.next=14,jE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function $C(e,t,n){return QC.apply(this,arguments)}function QC(){return QC=Lu(eu().mark((function e(t,n,r){var i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MA(t),e.prev=1,e.next=4,function(e,t){var n,r=Tw(e),i=Kw.now(),a=t.reduce((function(e,t){return e.add(t.key)}),T_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Yo(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Xx(c,n.get(c.key));null!=l&&u.push(new n_(c.key,l,Lb(l.value.mapValue),Hx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new p_(Bw)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,pA(i,a.changes);case 9:return e.next=11,JT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=gC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),QC.apply(this,arguments)}function YC(e,t){return JC.apply(this,arguments)}function JC(){return JC=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.prev=1,e.next=4,OE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Ew(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Ew(n.Xu):e.removedDocuments.size>0&&(Ew(n.Xu),n.Xu=!1))})),e.next=8,pA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,nE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),JC.apply(this,arguments)}function XC(e,t,n){var r=Tw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Yo(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&NC(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZC(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s,c;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Tw(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new p_(pb.comparator)).insert(o,Mb.newNoDocument(o,Gw.min())),s=T_().add(o),c=new N_(Gw.min(),new Map,new y_(Bw),u,s),e.next=9,YC(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),dA(i),e.next=16;break;case 14:return e.next=16,jE(i.localStore,n,!1).then((function(){return cA(i,n,r)})).catch(nE);case 16:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),i=n.batch.batchId,e.prev=1,e.next=4,RE(r.localStore,n);case 4:return a=e.sent,sA(r,i,null),uA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,pA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nA.apply(this,arguments)}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return iA=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tw(t),e.prev=1,e.next=4,function(e,t){var n=Tw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Ew(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,sA(i,n,r),uA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,pA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Lu(eu().mark((function e(t,n){var r,i,a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((r=Tw(t)).remoteStore)||bw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Tw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=gC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),oA.apply(this,arguments)}function uA(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function sA(e,t,n){var r=Tw(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function cA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Yo(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||lA(e,t)}))}function lA(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(LT(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),dA(e))}function fA(e,t,n){var r,i=Yo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof MC?(e.ra.addReference(a.key,t),hA(e,a)):a instanceof FC?(bw("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||lA(e,a.key)):Sw()}}catch(o){i.e(o)}finally{i.f()}}function hA(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(bw("SyncEngine","New document in limbo: "+n),e.na.add(r),dA(e))}function dA(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new pb(Jw.fromString(t)),r=e.aa.next();e.ia.set(r,new VC(n)),e.sa=e.sa.insert(n,r),OT(e.remoteStore,new oS(bx(px(n.path)),r,2,Uw.A))}}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=Lu(eu().mark((function e(t,n,r){var i,a,o,u;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tw(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=EE.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return KI.forEach(n,(function(t){return KI.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return KI.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),YI(e.t0)){e.next=10;break}throw e.t0;case 10:bw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Yo(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Tw(t)).currentUser.isEqual(n)){e.next=11;break}return bw("SyncEngine","User change. New user:",n.toKey()),e.next=5,NE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Aw(Cw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,pA(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){var n=Tw(e),r=n.ia.get(t);if(r&&r.Xu)return T_().add(r.key);var i=T_(),a=n.ea.get(t);if(!a)return i;var o,u=Yo(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function kA(e,t){return wA.apply(this,arguments)}function wA(){return wA=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.next=3,VE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&fA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function bA(e,t){return xA.apply(this,arguments)}function xA(){return xA=Lu(eu().mark((function e(t,n){var r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),e.abrupt("return",BE(r.localStore,n).then((function(e){return pA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e,t,n,r){return IA.apply(this,arguments)}function IA(){return IA=Lu(eu().mark((function e(t,n,r,i){var a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tw(t),e.next=3,function(e,t){var n=Tw(e),r=Tw(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):KI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,JT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(sA(a,n,i||null),uA(a,n),function(e,t){Tw(Tw(e).$s).dn(t)}(a.localStore,n)):Sw();case 11:return e.next=13,pA(a,o);case 13:e.next=16;break;case 15:bw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function SA(e,t){return EA.apply(this,arguments)}function EA(){return EA=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LA(r=Tw(t)),MA(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,TA(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,dC(r.remoteStore,!0);case 9:o=Yo(a);try{for(o.s();!(u=o.n()).done;)s=u.value,OT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return cA(r,t),jE(r.localStore,t,!0)})),LT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,TA(r,c);case 21:return function(e){var t=Tw(e);t.ia.forEach((function(e,n){LT(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new p_(pb.comparator)}(r),r.ca=!1,e.next=25,dC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function TA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Tw(t),a=[],o=[],u=Yo(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,FE(i.localStore,bx(f[0]));case 11:l=e.sent,h=Yo(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,kA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,zE(i.localStore,c);case 36:return y=e.sent,e.next=39,FE(i.localStore,y);case 39:return l=e.sent,e.next=42,WC(i,AA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),CA.apply(this,arguments)}function AA(e){return dx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function NA(e){var t=Tw(e);return Tw(Tw(t.localStore).persistence).Os()}function PA(e,t,n,r){return RA.apply(this,arguments)}function RA(){return RA=Lu(eu().mark((function e(t,n,r,i){var a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Tw(t)).ca){e.next=3;break}return e.abrupt("return",void bw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,BE(a.localStore,Tx(o[0]));case 10:return u=e.sent,s=N_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,pA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,jE(a.localStore,n,!0);case 17:return cA(a,n,i),e.abrupt("break",20);case 19:Sw();case 20:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function DA(e,t,n){return OA.apply(this,arguments)}function OA(){return OA=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=LA(t)).ca){e.next=45;break}a=Yo(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return bw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,zE(i.localStore,u);case 12:return s=e.sent,e.next=15,FE(i.localStore,s);case 15:return c=e.sent,e.next=18,WC(i,AA(s),c.targetId,!1);case 18:OT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Yo(r),e.prev=30,h=eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,jE(i.localStore,t,!1).then((function(){LT(i.remoteStore,t),cA(i,t)})).catch(nE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),OA.apply(this,arguments)}function LA(e){var t=Tw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.Zu.Ko=CC.bind(null,t.eventManager),t.Zu.la=AC.bind(null,t.eventManager),t}function MA(e){var t=Tw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rA.bind(null,t),t}function FA(e,t,n){var r=Tw(e);(function(){var e=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Tw(e),r=K_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(LC(i)),a=new OC(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,pA(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Tw(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(_w("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var jA=function(){function e(){Oa(this,e),this.synchronizeTabs=!1}return Ma(e,[{key:"initialize",value:function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=xT(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return AE(this.persistence,new TE,e.initialUser,this.M)}},{key:"_a",value:function(e){return new nT(iT.Wi,this.M)}},{key:"da",value:function(e){return new pT}},{key:"terminate",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),UA=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ma(n,[{key:"initialize",value:function(){var e=Lu(eu().mark((function e(t){var r=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(Ea(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,MA(this.ga.syncEngine);case 6:return e.next=8,JT(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return AE(this.persistence,new TE,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new oE(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qS.withCacheSize(this.cacheSizeBytes):qS.DEFAULT;return new bE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wT(),bT(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new pT}}]),n}(jA),VA=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ma(n,[{key:"initialize",value:function(){var e=Lu(eu().mark((function e(t){var r,i=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(Ea(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof dT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:_A.bind(null,r),Mr:PA.bind(null,r),Or:DA.bind(null,r),Os:NA.bind(null,r),Nr:bA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SA(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=wT();if(!dT.vt(t))throw new Aw(Cw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(UA),zA=function(){function e(){Oa(this,e)}return Ma(e,[{key:"initialize",value:function(){var e=Lu(eu().mark((function e(t,n){var r=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return XC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mA.bind(null,this.syncEngine),e.next=12,dC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new _C}},{key:"createDatastore",value:function(e){var t,n=xT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new kT(t));return function(e,t,n,r){return new TT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return XC(o.syncEngine,e,0)},a=mT.vt()?new mT:new vT,new AT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new zC(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tw(t),bw("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,RT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function BA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Lu(eu().mark((function r(){var i;return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qA=function(){function e(t){Oa(this,e),this.observer=t,this.muted=!1}return Ma(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),WA=function(){function e(t,n){var r=this;Oa(this,e),this.Ia=t,this.M=n,this.metadata=new Nw,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ma(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Lu(eu().mark((function e(){var t,n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new RC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Lu(eu().mark((function e(){var t,n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Lu(eu().mark((function e(){var t,n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),KA=function(){function e(t){Oa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ma(e,[{key:"lookup",value:function(){var e=Lu(eu().mark((function e(t){var n,r=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Aw(Cw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Lu(eu().mark((function e(t,n){var r,i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),i=X_(r.M)+"/documents",a={documents:n.map((function(e){return $_(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=nI(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ew(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new s_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Lu(eu().mark((function e(){var t,n=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=pb.fromPath(t);n.mutations.push(new c_(r,n.precondition(r)))})),e.next=7,function(){var e=Lu(eu().mark((function e(t,n){var r,i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tw(t),i=X_(r.M)+"/documents",a={writes:n.map((function(e){return rI(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sw();t=Gw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Aw(Cw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Hx.updateTime(t):Hx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gw.min()))throw new Aw(Cw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hx.updateTime(t)}return Hx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),GA=function(){function e(t,n,r,i){Oa(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new _T(this.asyncQueue,"transaction_retry")}return Ma(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Lu(eu().mark((function t(){var n,r;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new KA(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!fb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!f_(t)}return!1}}]),e}(),HA=function(){function e(t,n,r,i){var a=this;Oa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yw.UNAUTHENTICATED,this.clientId=zw.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ma(e,[{key:"getConfiguration",value:function(){var e=Lu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Aw(Cw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Nw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Lu(eu().mark((function n(){var r;return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=gC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function $A(e,t){return QA.apply(this,arguments)}function QA(){return QA=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,NE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function YA(e,t){return JA.apply(this,arguments)}function JA(){return JA=Lu(eu().mark((function e(t,n){var r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,XA(t);case 3:return r=e.sent,bw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return fC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return fC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function XA(e){return ZA.apply(this,arguments)}function ZA(){return ZA=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return bw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,$A(t,new jA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}function eN(e){return tN.apply(this,arguments)}function tN(){return tN=Lu(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return bw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,YA(t,new zA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e){return XA(e).then((function(e){return e.persistence}))}function rN(e){return XA(e).then((function(e){return e.localStore}))}function iN(e){return eN(e).then((function(e){return e.remoteStore}))}function aN(e){return eN(e).then((function(e){return e.syncEngine}))}function oN(e){return uN.apply(this,arguments)}function uN(){return uN=Lu(eu().mark((function e(t){var n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=BC.bind(null,n.syncEngine),r.onUnlisten=GC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}function sN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function i(){return eu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qA({next:function(a){t.enqueueAndForget((function(){return EC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Aw(Cw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Aw(Cw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new PC(px(n.path),a,{includeMetadataChanges:!0,Du:!0});return IC(e,o)},i.next=3,oN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function i(){return eu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qA({next:function(n){t.enqueueAndForget((function(){return EC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Aw(Cw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new PC(n,a,{includeMetadataChanges:!0,Du:!0});return IC(e,o)},i.next=3,oN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var lN=new Map;function fN(e,t,n){if(!n)throw new Aw(Cw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hN(e,t,n,r){if(!0===t&&!0===r)throw new Aw(Cw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function dN(e){if(!pb.isDocumentKey(e))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pN(e){if(pb.isDocumentKey(e))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Sw()}function mN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Aw(Cw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vN(e);throw new Aw(Cw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function yN(e,t){if(t<=0)throw new Aw(Cw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gN=function(){function e(t){var n;if(Oa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Aw(Cw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Aw(Cw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,hN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ma(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),kN=function(){function e(t,n,r){Oa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gN({}),this._settingsFrozen=!1,t instanceof lb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Aw(Cw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lb(e.options.projectId)}(t))}return Ma(e,[{key:"app",get:function(){if(!this._app)throw new Aw(Cw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Aw(Cw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rw;switch(e.type){case"gapi":var t=e.client;return Ew(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Aw(Cw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=lN.get(e);t&&(bw("ComponentProvider","Removing Datastore"),lN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=mN(e,kN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&_w("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=yw.MOCK_USER;else{o=uu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Aw(Cw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yw(s)}e._authCredentials=new Dw(new Pw(o,u))}}var bN=function(){function e(t,n,r){Oa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ma(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _N(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),xN=function(){function e(t,n,r){Oa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ma(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),_N=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this,e,r,px(i)))._path=i,a.type="collection",a}return Ma(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bN(this.firestore,null,new pb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(xN);function IN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cu(e),fN("collection","path",t),e instanceof kN){var a=Jw.fromString.apply(Jw,[t].concat(r));return pN(a),new _N(e,null,a)}if(!(e instanceof bN||e instanceof _N))throw new Aw(Cw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jw.fromString.apply(Jw,[t].concat(r)));return pN(o),new _N(e.firestore,null,o)}function SN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cu(e),1===arguments.length&&(t=zw.R()),fN("doc","path",t),e instanceof kN){var a=Jw.fromString.apply(Jw,[t].concat(r));return dN(a),new bN(e,null,new pb(a))}if(!(e instanceof bN||e instanceof _N))throw new Aw(Cw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jw.fromString.apply(Jw,[t].concat(r)));return dN(o),new bN(e.firestore,e instanceof _N?e.converter:null,new pb(o))}function EN(e,t){return e=Cu(e),t=Cu(t),(e instanceof bN||e instanceof _N)&&(t instanceof bN||t instanceof _N)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function TN(e,t){return e=Cu(e),t=Cu(t),e instanceof xN&&t instanceof xN&&e.firestore===t.firestore&&_x(e._query,t._query)&&e.converter===t.converter}var CN=function(){function e(){var t=this;Oa(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new _T(this,"async_queue_retry"),this.Ua=function(){var e=bT();e&&bw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=bT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return Ma(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=bT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Nw;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Lu(eu().mark((function e(){var t=this;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),YI(e.t0)){e.next=12;break}throw e.t0;case 12:bw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=yC.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Sw()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Lu(eu().mark((function e(){var t;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Yo(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Yo(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function AN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Yo(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var NN=function(){function e(){Oa(this,e),this._progressObserver={},this._taskCompletionResolver=new Nw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ma(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),PN=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new CN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ma(n,[{key:"_terminate",value:function(){return this._firestoreClient||DN(this),this._firestoreClient.terminate()}}]),n}(kN);function RN(e){return e._firestoreClient||DN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new cb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ON(e,t,n){var r=new Nw;return e.asyncQueue.enqueue(Lu(eu().mark((function i(){return eu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,$A(e,n);case 3:return i.next=5,YA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Cw.FAILED_PRECONDITION||e.code===Cw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function LN(e){return function(e){return e.asyncQueue.enqueue(Lu(eu().mark((function t(){var n,r;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nN(e);case 2:return n=t.sent,t.next=5,iN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Tw(e);return t.lu.delete(0),NT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(RN(e=mN(e,PN)))}function MN(e){return function(e){return e.asyncQueue.enqueue(Lu(eu().mark((function t(){var n,r;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nN(e);case 2:return n=t.sent,t.next=5,iN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tw(t)).lu.add(0),e.next=4,RT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(RN(e=mN(e,PN)))}function FN(e,t){var n=RN(e=mN(e,PN)),r=new NN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new WA(e,t)}(function(e,t){if(e instanceof Uint8Array)return BA(e,t);if(e instanceof ArrayBuffer)return BA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,xT(t));e.asyncQueue.enqueueAndForget(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FA,t.next=3,aN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jN(e,t){return function(e,t){return e.asyncQueue.enqueue(Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Tw(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,rN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(RN(e=mN(e,PN)),t).then((function(t){return t?new xN(e,null,t.query):null}))}function UN(e){if(e._initialized||e._terminated)throw new Aw(Cw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var VN=function(){function e(){Oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zw(n)}return Ma(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var zN=function(){function e(t){Oa(this,e),this._byteString=t}return Ma(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(tb.fromBase64String(t))}catch(t){throw new Aw(Cw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(tb.fromUint8Array(t))}}]),e}(),BN=Ma((function e(t){Oa(this,e),this._methodName=t})),qN=function(){function e(t,n){if(Oa(this,e),!isFinite(t)||t<-90||t>90)throw new Aw(Cw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Aw(Cw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ma(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bw(this._lat,e._lat)||Bw(this._long,e._long)}}]),e}(),WN=/^__.*__$/,KN=function(){function e(t,n,r){Oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ma(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new n_(e,this.data,this.fieldMask,t,this.fieldTransforms):new t_(e,this.data,t,this.fieldTransforms)}}]),e}(),GN=function(){function e(t,n,r){Oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ma(e,[{key:"toMutation",value:function(e,t){return new n_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function HN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sw()}}var $N=function(){function e(t,n,r,i,a,o){Oa(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ma(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return pP(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(HN(this.Ya)&&WN.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),QN=function(){function e(t,n,r){Oa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||xT(t)}return Ma(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $N({Ya:e,methodName:t,oc:n,path:Zw.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function YN(e){var t=e._freezeSettings(),n=xT(e._databaseId);return new QN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);lP("Data must be an object, but it was:",o,r);var u,s,c=sP(r,o);if(a.merge)u=new eb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Yo(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=fP(t,d,n);if(!o.contains(p))throw new Aw(Cw.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));vP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new eb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new KN(new Ob(c),u,s)}var XN=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BN);function ZN(e,t,n){return new $N({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var eP=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"_toFieldTransform",value:function(e){return new Kx(e.path,new Fx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BN),tP=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e)).ac=r,i}return Ma(n,[{key:"_toFieldTransform",value:function(e){var t=ZN(this,e,!0),n=this.ac.map((function(e){return uP(e,t)})),r=new jx(n);return new Kx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BN),nP=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e)).ac=r,i}return Ma(n,[{key:"_toFieldTransform",value:function(e){var t=ZN(this,e,!0),n=this.ac.map((function(e){return uP(e,t)})),r=new Vx(n);return new Kx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BN),rP=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e)).cc=r,i}return Ma(n,[{key:"_toFieldTransform",value:function(e){var t=new Bx(e.M,Rx(e.M,this.cc));return new Kx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BN);function iP(e,t,n,r){var i=e.uc(1,t,n);lP("Data must be an object, but it was:",i,r);var a=[],o=Ob.empty();$w(r,(function(e,r){var u=dP(t,e,n);r=Cu(r);var s=i.nc(u);if(r instanceof XN)a.push(u);else{var c=uP(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new eb(a);return new GN(o,u,i.fieldTransforms)}function aP(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[fP(t,r,n)],s=[i];if(a.length%2!=0)throw new Aw(Cw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(fP(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ob.empty(),h=u.length-1;h>=0;--h)if(!vP(l,u[h])){var d=u[h],p=s[h];p=Cu(p);var v=o.nc(d);if(p instanceof XN)l.push(d);else{var m=uP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new eb(l);return new GN(f,y,o.fieldTransforms)}function oP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uP(n,e.uc(r?4:3,t))}function uP(e,t){if(cP(e=Cu(e)))return lP("Unsupported field value:",t,e),sP(e,t);if(e instanceof BN)return function(e,t){if(!HN(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Yo(e);try{for(a.s();!(n=a.n()).done;){var o=uP(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Cu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rx(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Kw.fromDate(e);return{timestampValue:B_(t.M,n)}}if(e instanceof Kw){var r=new Kw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:B_(t.M,r)}}if(e instanceof qN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zN)return{bytesValue:q_(t.M,e._byteString)};if(e instanceof bN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:G_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(vN(e)))}(e,t)}function sP(e,t){var n={};return Qw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$w(e,(function(e,r){var i=uP(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kw||e instanceof qN||e instanceof zN||e instanceof bN||e instanceof BN)}function lP(e,t,n){if(!cP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vN(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function fP(e,t,n){if((t=Cu(t))instanceof VN)return t._internalPath;if("string"==typeof t)return dP(e,t);throw pP("Field path arguments must be of type string or ",e,!1,void 0,n)}var hP=new RegExp("[~\\*/\\[\\]]");function dP(e,t,n){if(t.search(hP)>=0)throw pP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Jo(VN,Da(t.split(".")))._internalPath}catch(r){throw pP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Aw(Cw.INVALID_ARGUMENT,u+e+s)}function vP(e,t){return e.some((function(e){return e.isEqual(t)}))}var mP=function(){function e(t,n,r,i,a){Oa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ma(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(gP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),yP=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"data",value:function(){return Ks(Ea(n.prototype),"data",this).call(this)}}]),n}(mP);function gP(e,t){return"string"==typeof t?dP(e,t):t instanceof VN?t._internalPath:t._delegate._internalPath}var kP=function(){function e(t,n){Oa(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ma(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),wP=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Oa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ma(n,[{key:"exists",value:function(){return Ks(Ea(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(gP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(mP),bP=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ks(Ea(n.prototype),"data",this).call(this,e)}}]),n}(wP),xP=function(){function e(t,n,r,i){Oa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kP(i.hasPendingWrites,i.fromCache),this.query=r}return Ma(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bP(n._firestore,n._userDataWriter,r.key,r,new kP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Aw(Cw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new bP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_P(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function _P(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sw()}}function IP(e,t){return e instanceof wP&&t instanceof wP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xP&&t instanceof xP&&e._firestore===t._firestore&&TN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function SP(e){if(mx(e)&&0===e.explicitOrderBy.length)throw new Aw(Cw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var EP=Ma((function e(){Oa(this,e)}));function TP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var CP=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return Ma(n,[{key:"_apply",value:function(e){var t=YN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){UP(o,a);var s,c=[],l=Yo(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(jP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=jP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||UP(o,a),u=oP(n,"where",o,"in"===a||"not-in"===a);var h=Xb.create(i,a,u);return function(e,t){if(t.S()){var n=gx(e);if(null!==n&&!n.isEqual(t.field))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=yx(e);null!==r&&VP(e,t.field,r)}var i=function(e,t){var n,r=Yo(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new xN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new hx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(EP);var AP=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return Ma(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sx(t,n);return function(e,t){if(null===yx(e)){var n=gx(e);null!==n&&VP(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new xN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new hx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(EP);var NP=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return Ma(n,[{key:"_apply",value:function(e){return new xN(e.firestore,e.converter,xx(e._query,this._c,this.wc))}}]),n}(EP);var PP=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Ma(n,[{key:"_apply",value:function(e){var t=FP(e,this.type,this.mc,this.gc);return new xN(e.firestore,e.converter,function(e,t){return new hx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(EP);function RP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PP("startAt",t,!0)}function DP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PP("startAfter",t,!1)}var OP=function(e){Sa(n,e);var t=Pa(n);function n(e,r,i){var a;return Oa(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Ma(n,[{key:"_apply",value:function(e){var t=FP(e,this.type,this.mc,this.gc);return new xN(e.firestore,e.converter,function(e,t){return new hx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(EP);function LP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OP("endBefore",t,!1)}function MP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OP("endAt",t,!0)}function FP(e,t,n,r){if(n[0]=Cu(n[0]),n[0]instanceof mP)return function(e,t,n,r,i){if(!r)throw new Aw(Cw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Yo(wx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ib(t,r.key));else{var c=r.data.field(s.field);if(ob(c))throw new Aw(Cw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ux(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=YN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Aw(Cw.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!kx(e)&&-1!==c.indexOf("/"))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jw.fromString(c));if(!pb.isDocumentKey(l))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new pb(l);u.push(Ib(t,f))}else{var h=oP(n,r,c);u.push(h)}}return new ux(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function jP(e,t,n){if("string"==typeof(n=Cu(n))){if(""===n)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(t)&&-1!==n.indexOf("/"))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jw.fromString(n));if(!pb.isDocumentKey(r))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ib(e,new pb(r))}if(n instanceof bN)return Ib(e,n._key);throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vN(n),"."))}function UP(e,t){if(!Array.isArray(e)||0===e.length)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function VP(e,t,n){if(!n.isEqual(t))throw new Aw(Cw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var zP=function(){function e(){Oa(this,e)}return Ma(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ib(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ab(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sw()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return $w(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new qN(ib(e.latitude),ib(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ub(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rb(e);return new Kw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jw.fromString(e);Ew(mI(n));var r=new lb(n.get(1),n.get(3)),i=new pb(n.popFirst(5));return r.isEqual(t)||xw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function BP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qP=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).firestore=e,r}return Ma(n,[{key:"convertBytes",value:function(e){return new zN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bN(this.firestore,null,t)}}]),n}(zP),WP=function(){function e(t,n){Oa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=YN(t)}return Ma(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=KP(e,this._firestore),i=BP(r.converter,t,n),a=JN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Hx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=KP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cu(t))||t instanceof VN?aP(this._dataReader,"WriteBatch.update",i._key,t,n,o):iP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Hx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=KP(e,this._firestore);return this._mutations=this._mutations.concat(new s_(t._key,Hx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Aw(Cw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function KP(e,t){if((e=Cu(e)).firestore!==t)throw new Aw(Cw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var GP=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).firestore=e,r}return Ma(n,[{key:"convertBytes",value:function(e){return new zN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bN(this.firestore,null,t)}}]),n}(zP);function HP(e){e=mN(e,bN);var t=mN(e.firestore,PN),n=RN(t),r=new GP(t);return function(e,t){var n=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function r(){return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lu(eu().mark((function e(t,n,r){var i,a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Tw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Aw(Cw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=gC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new wP(t,r,e._key,n,new kP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function $P(e){e=mN(e,xN);var t=mN(e.firestore,PN),n=RN(t),r=new GP(t);return function(e,t){var n=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function r(){return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lu(eu().mark((function e(t,n,r){var i,a,o,u,s;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,VE(t,n,!0);case 3:i=e.sent,a=new jC(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=gC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new xP(t,r,e,n)}))}function QP(e,t,n){e=mN(e,bN);var r=mN(e.firestore,PN),i=BP(e.converter,t,n);return ZP(r,[JN(YN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hx.none())])}function YP(e,t,n){e=mN(e,bN);for(var r=mN(e.firestore,PN),i=YN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return ZP(r,[("string"==typeof(t=Cu(t))||t instanceof VN?aP(i,"updateDoc",e._key,t,n,o):iP(i,"updateDoc",e._key,t)).toMutation(e._key,Hx.exists(!0))])}function JP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Cu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||AN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(AN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bN)l=mN(e.firestore,PN),f=px(e._key.path),c={next:function(t){n[s]&&n[s](eR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=mN(e,xN);l=mN(p.firestore,PN),f=p._query;var v=new GP(l);c={next:function(e){n[s]&&n[s](new xP(l,v,p,e))},error:n[s+1],complete:n[s+2]},SP(e._query)}return function(e,t,n,r){var i=new qA(r),a=new PC(t,i,n);return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=IC,t.next=3,oN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EC,t.next=3,oN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RN(l),f,h,c)}function XP(e,t){return function(e,t){var n=new qA(t);return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tw(e).Tu.add(t),t.next()},t.next=3,oN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Lu(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tw(e).Tu.delete(t)},t.next=3,oN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RN(e=mN(e,PN)),AN(t)?t:{next:t})}function ZP(e,t){return function(e,t){var n=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function r(){return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=$C,r.next=3,aN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(RN(e),t)}function eR(e,t,n){var r=n.docs.get(t._key),i=new GP(e);return new wP(e,i,t._key,r,new kP(n.hasPendingWrites,n.fromCache),t.converter)}var tR=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ma(n,[{key:"get",value:function(e){var t=this,r=KP(e,this._firestore),i=new GP(this._firestore);return Ks(Ea(n.prototype),"get",this).call(this,e).then((function(e){return new wP(t._firestore,i,r._key,e._document,new kP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Oa(this,e),this._firestore=t,this._transaction=n,this._dataReader=YN(t)}return Ma(e,[{key:"get",value:function(e){var t=this,n=KP(e,this._firestore),r=new qP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Sw();var i=e[0];if(i.isFoundDocument())return new mP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mP(t._firestore,r,n._key,null,n.converter);throw Sw()}))}},{key:"set",value:function(e,t,n){var r=KP(e,this._firestore),i=BP(r.converter,t,n),a=JN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=KP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cu(t))||t instanceof VN?aP(this._dataReader,"Transaction.update",i._key,t,n,o):iP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=KP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function nR(e,t){return function(e,t){var n=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function r(){var i;return eu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return eN(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new GA(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(RN(e=mN(e,PN)),(function(n){return t(new tR(e,n))}))}function rR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tP("arrayUnion",t)}function iR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){gw=e}(ds),os(new Mu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new PN(i,new Ow(e.getProvider("auth-internal")),new jw(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ks(mw,"3.4.7",e),ks(mw,"3.4.7","esm2017")}();function aR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Aw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function oR(){if("undefined"===typeof Uint8Array)throw new Aw("unimplemented","Uint8Arrays are not available in this environment.")}function uR(){if("undefined"==typeof atob)throw new Aw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sR=function(){function e(t){Oa(this,e),this._delegate=t}return Ma(e,[{key:"toBase64",value:function(){return uR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return oR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return uR(),new e(zN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return oR(),new e(zN.fromUint8Array(t))}}]),e}();function cR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Yo(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lR=function(){function e(){Oa(this,e)}return Ma(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){UN(e=mN(e,PN));var n=RN(e),r=e._freezeSettings(),i=new zA;return ON(n,i,new UA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){UN(e=mN(e,PN));var t=RN(e),n=e._freezeSettings(),r=new zA;return ON(t,r,new VA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Aw(Cw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Nw;return e._queue.enqueueAndForgetEvenWhileRestricted(Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Lu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HI.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,HI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(IE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),fR=function(){function e(t,n,r){var i=this;Oa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof lb||(this._appCompat=t)}return Ma(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||_w("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return LN(this._delegate)}},{key:"disableNetwork",value:function(){return MN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&hN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Nw;return e.asyncQueue.enqueueAndForget(Lu(eu().mark((function n(){return eu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=aA,n.next=3,aN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(RN(e=mN(e,PN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return XP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Aw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new SR(this,IN(this._delegate,e))}catch(t){throw yR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new mR(this,SN(this._delegate,e))}catch(t){throw yR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new xR(this,function(e,t){if(e=mN(e,kN),fN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Aw(Cw.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new xN(e,null,function(e){return new hx(Jw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw yR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return nR(this._delegate,(function(n){return e(new dR(t,n))}))}},{key:"batch",value:function(){var e=this;return RN(this._delegate),new pR(new WP(this._delegate,(function(t){return ZP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return FN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jN(this._delegate,e).then((function(e){return e?new xR(t,e):null}))}}]),e}(),hR=function(e){Sa(n,e);var t=Pa(n);function n(e){var r;return Oa(this,n),(r=t.call(this)).firestore=e,r}return Ma(n,[{key:"convertBytes",value:function(e){return new sR(new zN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return mR.forKey(t,this.firestore,null)}}]),n}(zP);var dR=function(){function e(t,n){Oa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new hR(t)}return Ma(e,[{key:"get",value:function(e){var t=this,n=ER(e);return this._delegate.get(n).then((function(e){return new wR(t._firestore,new wP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ER(e);return n?(aR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ER(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ER(e);return this._delegate.delete(t),this}}]),e}(),pR=function(){function e(t){Oa(this,e),this._delegate=t}return Ma(e,[{key:"set",value:function(e,t,n){var r=ER(e);return n?(aR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ER(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ER(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),vR=function(){function e(t,n,r){Oa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ma(e,[{key:"fromFirestore",value:function(e,t){var n=new bP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new hR(t),n),i.set(n,a)),a}}]),e}();vR.INSTANCES=new WeakMap;var mR=function(){function e(t,n){Oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hR(t)}return Ma(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new SR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new SR(this.firestore,IN(this._delegate,e))}catch(t){throw yR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Cu(e))instanceof bN&&EN(this._delegate,e)}},{key:"set",value:function(e,t){t=aR("DocumentReference.set",t);try{return t?QP(this._delegate,e,t):QP(this._delegate,e)}catch(n){throw yR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?YP(this._delegate,e):YP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw yR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ZP(mN(e.firestore,PN),[new s_(e._key,Hx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gR(n),a=kR(n,(function(t){return new wR(e.firestore,new wP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return JP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?HP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=mN(e,bN);var t=mN(e.firestore,PN);return sN(RN(t),e._key,{source:"server"}).then((function(n){return eR(t,e,n)}))}(this._delegate):function(e){e=mN(e,bN);var t=mN(e.firestore,PN);return sN(RN(t),e._key).then((function(n){return eR(t,e,n)}))}(this._delegate),t.then((function(e){return new wR(n.firestore,new wP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Aw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new bN(n._delegate,r,new pb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new bN(n._delegate,r,t))}}]),e}();function yR(e,t,n){return e.message=e.message.replace(t,n),e}function gR(e){var t,n=Yo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!cR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cR(e[0])?e[0]:cR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wR=function(){function e(t,n){Oa(this,e),this._firestore=t,this._delegate=n}return Ma(e,[{key:"ref",get:function(){return new mR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return IP(this._delegate,e._delegate)}}]),e}(),bR=function(e){Sa(n,e);var t=Pa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Ma(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Sw()}(void 0!==t),t}}]),n}(wR),xR=function(){function e(t,n){Oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hR(t)}return Ma(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,TP(this._delegate,function(e,t,n){var r=t,i=gP("where",e);return new CP(i,r,n)}(t,n,r)))}catch(i){throw yR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,TP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=gP("orderBy",e);return new AP(n,t)}(t,n)))}catch(r){throw yR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,TP(this._delegate,function(e){return yN("limit",e),new NP("limit",e,"F")}(t)))}catch(n){throw yR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,TP(this._delegate,function(e){return yN("limitToLast",e),new NP("limitToLast",e,"L")}(t)))}catch(n){throw yR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,TP(this._delegate,RP.apply(void 0,arguments)))}catch(t){throw yR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,TP(this._delegate,DP.apply(void 0,arguments)))}catch(t){throw yR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,TP(this._delegate,LP.apply(void 0,arguments)))}catch(t){throw yR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,TP(this._delegate,MP.apply(void 0,arguments)))}catch(t){throw yR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return TN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?$P(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=mN(e,xN);var t=mN(e.firestore,PN),n=RN(t),r=new GP(t);return cN(n,e._query,{source:"server"}).then((function(n){return new xP(t,r,e,n)}))}(this._delegate):function(e){e=mN(e,xN);var t=mN(e.firestore,PN),n=RN(t),r=new GP(t);return SP(e._query),cN(n,e._query).then((function(n){return new xP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IR(n.firestore,new xP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gR(n),a=kR(n,(function(t){return new IR(e.firestore,new xP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return JP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),_R=function(){function e(t,n){Oa(this,e),this._firestore=t,this._delegate=n}return Ma(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IR=function(){function e(t,n){Oa(this,e),this._firestore=t,this._delegate=n}return Ma(e,[{key:"query",get:function(){return new xR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _R(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return IP(this._delegate,e._delegate)}}]),e}(),SR=function(e){Sa(n,e);var t=Pa(n);function n(e,r){var i;return Oa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ma(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new mR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new mR(this.firestore,void 0===e?SN(this._delegate):SN(this._delegate,e))}catch(t){throw yR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=mN(e.firestore,PN),r=SN(e),i=BP(e.converter,t);return ZP(n,[JN(YN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Hx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new mR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return EN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(vR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(xR);function ER(e){return mN(e,bN)}var TR=function(){function e(){Oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Jo(VN,n)}return Ma(e,[{key:"isEqual",value:function(e){return(e=Cu(e))instanceof VN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Zw.keyField().canonicalString())}}]),e}(),CR=function(){function e(t){Oa(this,e),this._delegate=t}return Ma(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new eP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new XN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=rR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=iR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new rP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),AR={Firestore:fR,GeoPoint:qN,Timestamp:Kw,Blob:sR,Transaction:dR,WriteBatch:pR,DocumentReference:mR,DocumentSnapshot:wR,Query:xR,QueryDocumentSnapshot:bR,QuerySnapshot:IR,CollectionReference:SR,FieldPath:TR,FieldValue:CR,setLogLevel:function(e){!function(e){kw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Mu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},AR)))}(e,(function(e,t){return new fR(e,t,new lR)})),e.registerVersion("@firebase/firestore-compat","0.1.16")}(qs);var NR=qs.initializeApp({apiKey:"AIzaSyDLM-0O2g9FTNvU4ZWBvgfMYwZM3MWQiD4",authDomain:"netflix-demo-1f1dc.firebaseapp.com",projectId:"netflix-demo-1f1dc",storageBucket:"netflix-demo-1f1dc.appspot.com",messagingSenderId:"678734578093",appId:"1:678734578093:web:2948899319fb54c174a124",measurementId:"G-T176P1K6GZ"});(0,i.render)((0,Bt.jsx)(r.StrictMode,{children:(0,Bt.jsx)(Bt.Fragment,{children:(0,Bt.jsxs)(xa.Provider,{value:NR,children:[(0,Bt.jsx)(Qo,{}),(0,Bt.jsx)($o,{})]})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.794c84c4.js.map